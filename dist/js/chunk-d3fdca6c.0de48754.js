(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3fdca6c"],{"0cb2":function(e,t,c){var r=c("7b0b"),a=Math.floor,o="".replace,n=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,c,l,i,s){var u=c+e.length,b=l.length,j=d;return void 0!==i&&(i=r(i),j=n),o.call(s,j,(function(r,o){var n;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,c);case"'":return t.slice(u);case"<":n=i[o.slice(1,-1)];break;default:var d=+o;if(0===d)return r;if(d>b){var s=a(d/10);return 0===s?r:s<=b?void 0===l[s-1]?o.charAt(1):l[s-1]+o.charAt(1):r}n=l[d-1]}return void 0===n?"":n}))}},"15bc":function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),a=Object(r["withScopeId"])("data-v-233941af");Object(r["pushScopeId"])("data-v-233941af");var o={class:"xtx-pay-checkout-page"},n={class:"container"},d=Object(r["createTextVNode"])("首页"),l=Object(r["createTextVNode"])("购物车"),i=Object(r["createTextVNode"])("填写订单"),s={key:0,class:"wrapper"},u=Object(r["createVNode"])("h3",{class:"box-title"},"收货地址",-1),b={class:"box-body"},j=Object(r["createVNode"])("h3",{class:"box-title"},"商品信息",-1),O={class:"box-body"},f={class:"goods"},v=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{width:"520"},"商品信息"),Object(r["createVNode"])("th",{width:"170"},"单价"),Object(r["createVNode"])("th",{width:"170"},"数量"),Object(r["createVNode"])("th",{width:"170"},"小计"),Object(r["createVNode"])("th",{width:"170"},"实付")])],-1),p={href:"javascript:;",class:"info"},V={class:"right"},N=Object(r["createStaticVNode"])('<h3 class="box-title" data-v-233941af>配送时间</h3><div class="box-body" data-v-233941af><a class="my-btn active" href="javascript:;" data-v-233941af>不限送货时间：周一至周日</a><a class="my-btn" href="javascript:;" data-v-233941af>工作日送货：周一至周五</a><a class="my-btn" href="javascript:;" data-v-233941af>双休日、假日送货：周六至周日</a></div><h3 class="box-title" data-v-233941af>支付方式</h3><div class="box-body" data-v-233941af><a class="my-btn active" href="javascript:;" data-v-233941af>在线支付</a><a class="my-btn" href="javascript:;" data-v-233941af>货到付款</a><span style="color:#999;" data-v-233941af>货到付款需付5元手续费</span></div><h3 class="box-title" data-v-233941af>金额明细</h3>',5),m={class:"box-body"},h={class:"total"},g=Object(r["createVNode"])("dt",null,"商品件数：",-1),y=Object(r["createVNode"])("dt",null,"商品总价：",-1),x=Object(r["createVNode"])("dt",null,[Object(r["createTextVNode"])("运"),Object(r["createVNode"])("i"),Object(r["createTextVNode"])("费：")],-1),k=Object(r["createVNode"])("dt",null,"应付总额：",-1),C={class:"price"},D={class:"submit"},S=Object(r["createTextVNode"])("提交订单");Object(r["popScopeId"])();var T=a((function(e,t,c,T,A,w){var I=Object(r["resolveComponent"])("XtxBreadItem"),B=Object(r["resolveComponent"])("XtxBread"),_=Object(r["resolveComponent"])("CheckoutAddress"),E=Object(r["resolveComponent"])("XtxButton");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])(B,null,{default:a((function(){return[Object(r["createVNode"])(I,{to:"/"},{default:a((function(){return[d]})),_:1}),Object(r["createVNode"])(I,{to:"/cart"},{default:a((function(){return[l]})),_:1}),Object(r["createVNode"])(I,null,{default:a((function(){return[i]})),_:1})]})),_:1}),T.order?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[u,Object(r["createVNode"])("div",b,[Object(r["createVNode"])(_,{onChange:T.changeAddress,list:T.order.userAddresses},null,8,["onChange","list"])]),j,Object(r["createVNode"])("div",O,[Object(r["createVNode"])("table",f,[v,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(T.order.goods,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:e.skuId},[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("a",p,[Object(r["createVNode"])("img",{src:e.picture,alt:""},null,8,["src"]),Object(r["createVNode"])("div",V,[Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(e.name),1),Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(e.attrsText),1)])])]),Object(r["createVNode"])("td",null,"¥"+Object(r["toDisplayString"])(e.price),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.count),1),Object(r["createVNode"])("td",null,"¥"+Object(r["toDisplayString"])(e.totalPrice),1),Object(r["createVNode"])("td",null,"¥"+Object(r["toDisplayString"])(e.totalPayPrice),1)])})),128))])])]),N,Object(r["createVNode"])("div",m,[Object(r["createVNode"])("div",h,[Object(r["createVNode"])("dl",null,[g,Object(r["createVNode"])("dd",null,Object(r["toDisplayString"])(T.order.summary.goodsCount)+"件",1)]),Object(r["createVNode"])("dl",null,[y,Object(r["createVNode"])("dd",null,"¥"+Object(r["toDisplayString"])(T.order.summary.totalPrice),1)]),Object(r["createVNode"])("dl",null,[x,Object(r["createVNode"])("dd",null,"¥"+Object(r["toDisplayString"])(T.order.summary.postFee),1)]),Object(r["createVNode"])("dl",null,[k,Object(r["createVNode"])("dd",C,"¥"+Object(r["toDisplayString"])(T.order.summary.totalPayPrice),1)])])]),Object(r["createVNode"])("div",D,[Object(r["createVNode"])(E,{onClick:T.submitOrderFn,type:"primary"},{default:a((function(){return[S]})),_:1},8,["onClick"])])])):Object(r["createCommentVNode"])("",!0)])])})),A=(c("d81d"),c("ac1f"),c("5319"),Object(r["withScopeId"])("data-v-7e940d84"));Object(r["pushScopeId"])("data-v-7e940d84");var w={class:"checkout-address"},I={class:"text"},B={key:0,class:"none"},_={key:1},E=Object(r["createVNode"])("span",null,[Object(r["createTextVNode"])("收"),Object(r["createVNode"])("i"),Object(r["createTextVNode"])("货"),Object(r["createVNode"])("i"),Object(r["createTextVNode"])("人：")],-1),$=Object(r["createVNode"])("span",null,"联系方式：",-1),P=Object(r["createVNode"])("span",null,"收货地址：",-1),L={class:"action"},U=Object(r["createTextVNode"])("切换地址"),X=Object(r["createTextVNode"])("添加地址"),F=Object(r["createVNode"])("span",null,[Object(r["createTextVNode"])("收"),Object(r["createVNode"])("i"),Object(r["createTextVNode"])("货"),Object(r["createVNode"])("i"),Object(r["createTextVNode"])("人：")],-1),M=Object(r["createVNode"])("span",null,"联系方式：",-1),R=Object(r["createVNode"])("span",null,"收货地址：",-1),J=Object(r["createTextVNode"])("取消"),q=Object(r["createTextVNode"])("确认");Object(r["popScopeId"])();var z=A((function(e,t,c,a,o,n){var d=Object(r["resolveComponent"])("XtxButton"),l=Object(r["resolveComponent"])("XtxDialog"),i=Object(r["resolveComponent"])("AddressEdit");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("div",w,[Object(r["createVNode"])("div",I,[a.showAddress?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",B,"您需要先添加收货地址才可提交订单。")),a.showAddress?(Object(r["openBlock"])(),Object(r["createBlock"])("ul",_,[Object(r["createVNode"])("li",null,[E,Object(r["createTextVNode"])(Object(r["toDisplayString"])(a.showAddress.receiver),1)]),Object(r["createVNode"])("li",null,[$,Object(r["createTextVNode"])(Object(r["toDisplayString"])(a.showAddress.contact.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")),1)]),Object(r["createVNode"])("li",null,[P,Object(r["createTextVNode"])(Object(r["toDisplayString"])(a.showAddress.fullLocation.replace(/ /g,""))+Object(r["toDisplayString"])(a.showAddress.address),1)])])):Object(r["createCommentVNode"])("",!0),a.showAddress?(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:2,onClick:t[1]||(t[1]=function(e){return a.openAddressEdit(a.showAddress)}),href:"javascript:;"},"修改地址")):Object(r["createCommentVNode"])("",!0)]),Object(r["createVNode"])("div",L,[Object(r["createVNode"])(d,{onClick:t[2]||(t[2]=function(e){return a.openDialog()}),class:"btn"},{default:A((function(){return[U]})),_:1}),Object(r["createVNode"])(d,{onClick:t[3]||(t[3]=function(e){return a.openAddressEdit({})}),class:"btn"},{default:A((function(){return[X]})),_:1})])]),Object(r["createVNode"])(l,{title:"切换收货地址",visible:a.visibleDialog,"onUpdate:visible":t[5]||(t[5]=function(e){return a.visibleDialog=e})},{footer:A((function(){return[Object(r["createVNode"])(d,{onClick:t[4]||(t[4]=function(e){return a.visibleDialog=!1}),type:"gray",style:{"margin-right":"20px"}},{default:A((function(){return[J]})),_:1}),Object(r["createVNode"])(d,{onClick:a.confirmAddressFn,type:"primary"},{default:A((function(){return[q]})),_:1},8,["onClick"])]})),default:A((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(c.list,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{onClick:function(t){return a.selectedAddress=e},class:[{active:a.selectedAddress&&a.selectedAddress.id===e.id},"text item"],key:e.id},[Object(r["createVNode"])("ul",null,[Object(r["createVNode"])("li",null,[F,Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.receiver),1)]),Object(r["createVNode"])("li",null,[M,Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.contact.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2")),1)]),Object(r["createVNode"])("li",null,[R,Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.fullLocation.replace(/ /g,"")+e.address),1)])])],10,["onClick"])})),128))]})),_:1},8,["visible"]),Object(r["createVNode"])(i,{onOnSuccess:a.successHandler,ref:"addressEditCom"},null,8,["onOnSuccess"])],64)})),H=(c("7db0"),Object(r["withScopeId"])("data-v-329e5cc8"));Object(r["pushScopeId"])("data-v-329e5cc8");var G={class:"address-edit"},K={class:"xtx-form"},Q={class:"xtx-form-item"},W=Object(r["createVNode"])("div",{class:"label"},"收货人：",-1),Y={class:"field"},Z={class:"xtx-form-item"},ee=Object(r["createVNode"])("div",{class:"label"},"手机号：",-1),te={class:"field"},ce={class:"xtx-form-item"},re=Object(r["createVNode"])("div",{class:"label"},"地区：",-1),ae={class:"field"},oe={class:"xtx-form-item"},ne=Object(r["createVNode"])("div",{class:"label"},"详细地址：",-1),de={class:"field"},le={class:"xtx-form-item"},ie=Object(r["createVNode"])("div",{class:"label"},"邮政编码：",-1),se={class:"field"},ue={class:"xtx-form-item"},be=Object(r["createVNode"])("div",{class:"label"},"地址标签：",-1),je={class:"field"},Oe=Object(r["createTextVNode"])("取消"),fe=Object(r["createTextVNode"])("确认");Object(r["popScopeId"])();var ve=H((function(e,t,c,a,o,n){var d=Object(r["resolveComponent"])("XtxCity"),l=Object(r["resolveComponent"])("XtxButton"),i=Object(r["resolveComponent"])("XtxDialog");return Object(r["openBlock"])(),Object(r["createBlock"])(i,{title:"".concat(a.formData.id?"修改":"添加","收货地址"),visible:a.visibleDialog,"onUpdate:visible":t[8]||(t[8]=function(e){return a.visibleDialog=e})},{footer:H((function(){return[Object(r["createVNode"])(l,{onClick:t[6]||(t[6]=function(e){return a.visibleDialog=!1}),type:"gray",style:{"margin-right":"20px"}},{default:H((function(){return[Oe]})),_:1}),Object(r["createVNode"])(l,{onClick:t[7]||(t[7]=function(e){return a.submit()}),type:"primary"},{default:H((function(){return[fe]})),_:1})]})),default:H((function(){return[Object(r["createVNode"])("div",G,[Object(r["createVNode"])("div",K,[Object(r["createVNode"])("div",Q,[W,Object(r["createVNode"])("div",Y,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.formData.receiver=e}),class:"input",placeholder:"请输入收货人"},null,512),[[r["vModelText"],a.formData.receiver]])])]),Object(r["createVNode"])("div",Z,[ee,Object(r["createVNode"])("div",te,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.formData.contact=e}),class:"input",placeholder:"请输入手机号"},null,512),[[r["vModelText"],a.formData.contact]])])]),Object(r["createVNode"])("div",ce,[re,Object(r["createVNode"])("div",ae,[Object(r["createVNode"])(d,{fullLocation:a.formData.fullLocation,onChange:a.changeCity,placeholder:"请选择所在地区"},null,8,["fullLocation","onChange"])])]),Object(r["createVNode"])("div",oe,[ne,Object(r["createVNode"])("div",de,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.formData.address=e}),class:"input",placeholder:"请输入详细地址"},null,512),[[r["vModelText"],a.formData.address]])])]),Object(r["createVNode"])("div",le,[ie,Object(r["createVNode"])("div",se,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.formData.postalCode=e}),class:"input",placeholder:"请输入邮政编码"},null,512),[[r["vModelText"],a.formData.postalCode]])])]),Object(r["createVNode"])("div",ue,[be,Object(r["createVNode"])("div",je,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.formData.addressTags=e}),class:"input",placeholder:"请输入地址标签，逗号分隔"},null,512),[[r["vModelText"],a.formData.addressTags]])])])])])]})),_:1},8,["title","visible"])})),pe=c("f8b7"),Ve=c("2f59"),Ne={name:"AddressEdit",setup:function(e,t){var c=t.emit,a=Object(r["ref"])(!1),o=function(e){if(a.value=!0,e.id)for(var t in e)n[t]=e[t];else for(var c in n)n[c]="isDefault"===c?1:null},n=Object(r["reactive"])({receiver:null,contact:null,provinceCode:null,cityCode:null,countyCode:null,address:null,postalCode:null,addressTags:null,isDefault:1,fullLocation:null}),d=function(e){n.provinceCode=e.provinceCode,n.cityCode=e.cityCode,n.countyCode=e.countyCode,n.fullLocation=e.fullLocation},l=function(){n.id?Object(pe["f"])(n).then((function(e){Object(Ve["a"])({type:"success",text:"修改收货地址成功"}),a.value=!1,c("on-success",n)})):Object(pe["a"])(n).then((function(e){n.id=e.result.id,Object(Ve["a"])({type:"success",text:"添加收货地址成功"}),a.value=!1,c("on-success",n)}))};return{visibleDialog:a,open:o,formData:n,changeCity:d,submit:l}}};c("d1d1");Ne.render=ve,Ne.__scopeId="data-v-329e5cc8";var me=Ne,he={name:"CheckoutAddress",components:{AddressEdit:me},props:{list:{type:Array,default:function(){return[]}}},emits:["change"],setup:function(e,t){var c=t.emit,a=Object(r["ref"])(null),o=e.list.find((function(e){return 0===e.isDefault}));o?a.value=o:e.list.length&&(a.value=e.list[0]),c("change",a.value&&a.value.id);var n=Object(r["ref"])(!1),d=Object(r["ref"])(null),l=function(){var e;a.value=d.value,c("change",null===(e=d.value)||void 0===e?void 0:e.id),n.value=!1},i=function(){d.value=null,n.value=!0},s=Object(r["ref"])(null),u=function(e){s.value.open(e)},b=function(t){var c=e.list.find((function(e){return e.id===t.id}));if(c)for(var r in c)c[r]=t[r];else{var a=JSON.stringify(t);e.list.unshift(JSON.parse(a))}};return{showAddress:a,visibleDialog:n,selectedAddress:d,confirmAddressFn:l,openDialog:i,openAddressEdit:u,addressEditCom:s,successHandler:b}}};c("775e");he.render=z,he.__scopeId="data-v-7e940d84";var ge=he,ye=c("6c02"),xe={name:"XtxPayCheckoutPage",components:{CheckoutAddress:ge},setup:function(){var e=Object(r["ref"])(null),t=Object(ye["c"])();t.query.orderId?Object(pe["j"])(t.query.orderId).then((function(t){e.value=t.result,a.goods=t.result.goods.map((function(e){var t=e.skuId,c=e.count;return{skuId:t,count:c}}))})):Object(pe["d"])().then((function(t){e.value=t.result,a.goods=t.result.goods.map((function(e){var t=e.skuId,c=e.count;return{skuId:t,count:c}}))}));var c=function(e){a.addressId=e},a=Object(r["reactive"])({deliveryTimeType:1,payType:1,payChannel:1,buyerMessage:"",goods:[],addressId:null}),o=Object(ye["d"])(),n=function(){if(!a.addressId)return Object(Ve["a"])({text:"亲，请选择收货地址"});Object(pe["k"])(a).then((function(e){Object(Ve["a"])({type:"success",text:"提交订单成功"}),o.push("/member/pay?orderId=".concat(e.result.id))}))};return{order:e,changeAddress:c,reqParams:a,submitOrderFn:n}}};c("d696");xe.render=T,xe.__scopeId="data-v-233941af";t["default"]=xe},5319:function(e,t,c){"use strict";var r=c("d784"),a=c("825a"),o=c("50c4"),n=c("a691"),d=c("1d80"),l=c("8aa5"),i=c("0cb2"),s=c("14c3"),u=Math.max,b=Math.min,j=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,c,r){var O=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=r.REPLACE_KEEPS_$0,v=O?"$":"$0";return[function(c,r){var a=d(this),o=void 0==c?void 0:c[e];return void 0!==o?o.call(c,a,r):t.call(String(a),c,r)},function(e,r){if(!O&&f||"string"===typeof r&&-1===r.indexOf(v)){var d=c(t,e,this,r);if(d.done)return d.value}var p=a(e),V=String(this),N="function"===typeof r;N||(r=String(r));var m=p.global;if(m){var h=p.unicode;p.lastIndex=0}var g=[];while(1){var y=s(p,V);if(null===y)break;if(g.push(y),!m)break;var x=String(y[0]);""===x&&(p.lastIndex=l(V,o(p.lastIndex),h))}for(var k="",C=0,D=0;D<g.length;D++){y=g[D];for(var S=String(y[0]),T=u(b(n(y.index),V.length),0),A=[],w=1;w<y.length;w++)A.push(j(y[w]));var I=y.groups;if(N){var B=[S].concat(A,T,V);void 0!==I&&B.push(I);var _=String(r.apply(void 0,B))}else _=i(S,V,T,A,I,r);T>=C&&(k+=V.slice(C,T)+_,C=T+S.length)}return k+V.slice(C)}]}))},"5b05":function(e,t,c){},"775e":function(e,t,c){"use strict";c("5b05")},"865a":function(e,t,c){},b30e:function(e,t,c){},d1d1:function(e,t,c){"use strict";c("865a")},d696:function(e,t,c){"use strict";c("b30e")},f8b7:function(e,t,c){"use strict";c.d(t,"d",(function(){return a})),c.d(t,"j",(function(){return o})),c.d(t,"a",(function(){return n})),c.d(t,"f",(function(){return d})),c.d(t,"k",(function(){return l})),c.d(t,"g",(function(){return i})),c.d(t,"h",(function(){return s})),c.d(t,"b",(function(){return u})),c.d(t,"e",(function(){return b})),c.d(t,"c",(function(){return j})),c.d(t,"i",(function(){return O}));var r=c("b775"),a=function(){return Object(r["b"])("/member/order/pre","get")},o=function(e){return Object(r["b"])("/member/order/repurchase/"+e,"get")},n=function(e){return Object(r["b"])("/member/address","post",e)},d=function(e){return Object(r["b"])("/member/address/".concat(e.id),"put",e)},l=function(e){return Object(r["b"])("/member/order","post",e)},i=function(e){return Object(r["b"])("/member/order/"+e,"get")},s=function(e){var t=e.page,c=void 0===t?1:t,a=e.pageSize,o=void 0===a?10:a,n=e.orderState,d=void 0===n?0:n;return Object(r["b"])("/member/order","get",{page:c,pageSize:o,orderState:d})},u=function(e){var t=e.orderId,c=e.cancelReason;return Object(r["b"])("/member/order/".concat(t,"/cancel"),"put",{cancelReason:c})},b=function(e){return Object(r["b"])("/member/order","delete",{ids:[e]})},j=function(e){return Object(r["b"])("/member/order/".concat(e,"/receipt"),"put")},O=function(e){return Object(r["b"])("/member/order/".concat(e,"/logistics"),"get")}}}]);
//# sourceMappingURL=chunk-d3fdca6c.0de48754.js.map