{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\login\\components\\login-form.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\login\\components\\login-form.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1x1NEVFM1x1NzgwMS9WdWUgXHU0RUUzXHU3ODAxL2VyYWJiaXQtY2xpZW50LXBjLTEyNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgb25Vbm1vdW50ZWQsIHJlYWN0aXZlLCByZWYsIHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgRm9ybSwgRmllbGQgfSBmcm9tICd2ZWUtdmFsaWRhdGUnOwppbXBvcnQgc2NoZW1hIGZyb20gJ0AvdXRpbHMvdmVlLXZhbGlkYXRlLXNjaGVtYSc7CmltcG9ydCBNZXNzYWdlIGZyb20gJ0AvY29tcG9uZW50cy9saWJyYXJ5L01lc3NhZ2UnOwppbXBvcnQgeyB1c2VyQWNjb3VudExvZ2luLCB1c2VyTW9iaWxlTG9naW4sIHVzZXJNb2JpbGVMb2dpbk1zZyB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyB1c2VSb3V0ZSwgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHVzZUludGVydmFsRm4gfSBmcm9tICdAdnVldXNlL2NvcmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luRm9ybScsCiAgY29tcG9uZW50czogewogICAgRm9ybTogRm9ybSwKICAgIEZpZWxkOiBGaWVsZAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgLy8g5YiH5o2i55+t5L+h55m75b2VCiAgICB2YXIgaXNNc2dMb2dpbiA9IHJlZihmYWxzZSk7IC8vIOihqOWNleaVsOaNruWvueixoQoKICAgIHZhciBmb3JtID0gcmVhY3RpdmUoewogICAgICBpc0FncmVlOiB0cnVlLAogICAgICBhY2NvdW50OiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgbW9iaWxlOiBudWxsLAogICAgICBjb2RlOiBudWxsCiAgICB9KTsgLy8gdmVlLXZhbGlkYXRlIOagoemqjOWfuuacrOatpemqpAogICAgLy8gMS4g5a+85YWlIEZvcm0gRmllbGQg57uE5Lu2IOWwhiBmb3JtIOWSjCBpbnB1dCDov5vooYzmm7/mjaLvvIzpnIDopoHliqDkuIpuYW1l55So5p2l5oyH5a6a5bCG5p2l55qE5qCh6aqM6KeE5YiZ5Ye95pWw55qECiAgICAvLyAyLiBGaWVsZCDpnIDopoHov5vooYzmlbDmja7nu5HlrprvvIzlrZfmrrXlkI3np7DmnIDlpb3lkozlkI7lj7DmjqXlj6PpnIDopoHnmoTkuIDoh7QKICAgIC8vIDMuIOWumuS5iUZpZWxk55qEbmFtZeWxnuaAp+aMh+WumueahOagoemqjOinhOWImeWHveaVsO+8jEZvcm3nmoR2YWxpZGF0aW9uLXNjaGVtYeaOpeWPl+WumuS5ieWlveeahOagoemqjOinhOWImeaYr+WvueixoQogICAgLy8gNC4g6Ieq5a6a5LmJ57uE5Lu26ZyA6KaB5qCh6aqM5b+F6aG75YWI5pSv5oyBdi1tb2RlbCDnhLblkI5GaWVsZOS9v+eUqGFz5oyH5a6a5Li657uE5Lu25ZCN56ewCgogICAgdmFyIG15U2NoZW1hID0gewogICAgICAvLyDmoKHpqozlh73mlbDop4TliJnvvJrov5Tlm550cnVl5bCx5piv5qCh6aqM5oiQ5Yqf77yM6L+U5Zue5LiA5Liq5a2X56ym5Liy5bCx5piv5aSx6LSl77yM5a2X56ym5Liy5bCx5piv6ZSZ6K+v5o+Q56S6CiAgICAgIGFjY291bnQ6IHNjaGVtYS5hY2NvdW50LAogICAgICBwYXNzd29yZDogc2NoZW1hLnBhc3N3b3JkLAogICAgICBtb2JpbGU6IHNjaGVtYS5tb2JpbGUsCiAgICAgIGNvZGU6IHNjaGVtYS5jb2RlLAogICAgICBpc0FncmVlOiBzY2hlbWEuaXNBZ3JlZQogICAgfTsgLy8g55uR5ZCsaXNNc2dMb2dpbumHjee9ruihqOWNle+8iOaVsOaNrivmuIXpmaTmoKHpqoznu5PmnpzvvIkKCiAgICB2YXIgZm9ybUNvbSA9IHJlZihudWxsKTsKICAgIHdhdGNoKGlzTXNnTG9naW4sIGZ1bmN0aW9uICgpIHsKICAgICAgLy8g6YeN572u5pWw5o2uCiAgICAgIGZvcm0uaXNBZ3JlZSA9IHRydWU7CiAgICAgIGZvcm0uYWNjb3VudCA9IG51bGw7CiAgICAgIGZvcm0ucGFzc3dvcmQgPSBudWxsOwogICAgICBmb3JtLm1vYmlsZSA9IG51bGw7CiAgICAgIGZvcm0uY29kZSA9IG51bGw7IC8vIOWmguaenOaYr+ayoeaciemUgOavgUZpZWxk57uE5Lu277yM5LmL5YmN55qE5qCh6aqM57uT5p6c5piv5LiN5Lya5riF6ZmkICDkvovlpoLvvJp2LXNob3fliIfmjaLnmoQKICAgICAgLy8gRm9ybee7hOS7tuaPkOS+m+S6huS4gOS4qiByZXNldEZvcm0g5Ye95pWw5riF6Zmk5qCh6aqM57uT5p6cCgogICAgICBmb3JtQ29tLnZhbHVlLnJlc2V0Rm9ybSgpOwogICAgfSk7IC8vIHNldHVw5Lit6I635Y+W57uE5Lu25a6e5L6LIHByb3h5CiAgICAvLyBjb25zdCB7IHByb3h5IH0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKQogICAgLy8gcHJveHkuJG1lc3NhZ2UoeyB0ZXh0OiAnMTExJyB9KQogICAgLy8g6ZyA6KaB5Zyo54K55Ye755m75b2V55qE5pe25YCZ5a+55pW05L2T6KGo5Y2V6L+b6KGM5qCh6aqMCgogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CgogICAgdmFyIGxvZ2luID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHZhbGlkLCBkYXRhLCBfbW9iaWxlLCBjb2RlLCBfYWNjb3VudCwgcGFzc3dvcmQsIF9kYXRhJHJlc3VsdCwgaWQsIGFjY291bnQsIGF2YXRhciwgbW9iaWxlLCBuaWNrbmFtZSwgdG9rZW47CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1Db20udmFsdWUudmFsaWRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdmFsaWQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIGRhdGEgPSBudWxsOwoKICAgICAgICAgICAgICAgIGlmICghaXNNc2dMb2dpbi52YWx1ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vICoq5omL5py65Y+355m75b2VCiAgICAgICAgICAgICAgICAvLyAyLjEuIOWHhuWkh+S4gOS4qkFQSeWBmuaJi+acuuWPt+eZu+W9lQogICAgICAgICAgICAgICAgLy8gMi4yLiDosIPnlKhBUEnlh73mlbAKICAgICAgICAgICAgICAgIC8vIDIuMy4g5oiQ5Yqf77ya5a2Y5YKo55So5oi35L+h5oGvICsg6Lez6L2s6Iez5p2l5rqQ6aG15oiW6ICF6aaW6aG1ICsg5raI5oGv5o+Q56S6CiAgICAgICAgICAgICAgICAvLyAyLjQuIOWksei0pe+8mua2iOaBr+aPkOekugogICAgICAgICAgICAgICAgX21vYmlsZSA9IGZvcm0ubW9iaWxlLCBjb2RlID0gZm9ybS5jb2RlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJNb2JpbGVMb2dpbih7CiAgICAgICAgICAgICAgICAgIG1vYmlsZTogX21vYmlsZSwKICAgICAgICAgICAgICAgICAgY29kZTogY29kZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgLy8gKirluJDlj7fnmbvlvZUKICAgICAgICAgICAgICAgIC8vIDEuIOWHhuWkh+S4gOS4qkFQSeWBmuW4kOWPt+eZu+W9lQogICAgICAgICAgICAgICAgLy8gMi4g6LCD55SoQVBJ5Ye95pWwCiAgICAgICAgICAgICAgICAvLyAzLiDmiJDlip/vvJrlrZjlgqjnlKjmiLfkv6Hmga8gKyDot7Povazoh7PmnaXmupDpobXmiJbogIXpppbpobUgKyDmtojmga/mj5DnpLoKICAgICAgICAgICAgICAgIC8vIDQuIOWksei0pe+8mua2iOaBr+aPkOekugogICAgICAgICAgICAgICAgX2FjY291bnQgPSBmb3JtLmFjY291bnQsIHBhc3N3b3JkID0gZm9ybS5wYXNzd29yZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyQWNjb3VudExvZ2luKHsKICAgICAgICAgICAgICAgICAgYWNjb3VudDogX2FjY291bnQsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIC8vIOWtmOWCqOeUqOaIt+S/oeaBrwogICAgICAgICAgICAgICAgX2RhdGEkcmVzdWx0ID0gZGF0YS5yZXN1bHQsIGlkID0gX2RhdGEkcmVzdWx0LmlkLCBhY2NvdW50ID0gX2RhdGEkcmVzdWx0LmFjY291bnQsIGF2YXRhciA9IF9kYXRhJHJlc3VsdC5hdmF0YXIsIG1vYmlsZSA9IF9kYXRhJHJlc3VsdC5tb2JpbGUsIG5pY2tuYW1lID0gX2RhdGEkcmVzdWx0Lm5pY2tuYW1lLCB0b2tlbiA9IF9kYXRhJHJlc3VsdC50b2tlbjsKICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgndXNlci9zZXRVc2VyJywgewogICAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnQsCiAgICAgICAgICAgICAgICAgIGF2YXRhcjogYXZhdGFyLAogICAgICAgICAgICAgICAgICBtb2JpbGU6IG1vYmlsZSwKICAgICAgICAgICAgICAgICAgbmlja25hbWU6IG5pY2tuYW1lLAogICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ2NhcnQvbWVyZ2VDYXJ0JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIC8vIOi/m+ihjOi3s+i9rAogICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaChyb3V0ZS5xdWVyeS5yZWRpcmVjdFVybCB8fCAnLycpOyAvLyDmiJDlip/mtojmga/mj5DnpLoKCiAgICAgICAgICAgICAgICAgIE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn55m75b2V5oiQ5YqfJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDQpOwoKICAgICAgICAgICAgICAgIC8vIOWksei0peaPkOekugogICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgTWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiBfY29udGV4dC50MC5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgJ+eZu+W9leWksei0pScKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzQsIDIyXV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8gcGF1c2Ug5pqC5YGcIHJlc3VtZSDlvIDlp4sKICAgIC8vIHVzZUludGVydmFsRm4o5Zue6LCD5Ye95pWwLOaJp+ihjOmXtOmalCzmmK/lkKbnq4vljbPlvIDlkK8pCgoKICAgIHZhciB0aW1lID0gcmVmKDApOwoKICAgIHZhciBfdXNlSW50ZXJ2YWxGbiA9IHVzZUludGVydmFsRm4oZnVuY3Rpb24gKCkgewogICAgICB0aW1lLnZhbHVlLS07CgogICAgICBpZiAodGltZS52YWx1ZSA8PSAwKSB7CiAgICAgICAgcGF1c2UoKTsKICAgICAgfQogICAgfSwgMTAwMCwgZmFsc2UpLAogICAgICAgIHBhdXNlID0gX3VzZUludGVydmFsRm4ucGF1c2UsCiAgICAgICAgcmVzdW1lID0gX3VzZUludGVydmFsRm4ucmVzdW1lOwoKICAgIG9uVW5tb3VudGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcGF1c2UoKTsKICAgIH0pOyAvLyAxLiDlj5HpgIHpqozor4HnoIEKICAgIC8vIDEuMSDnu5Hlrprlj5HpgIHpqozor4HnoIHmjInpkq7ngrnlh7vkuovku7YKICAgIC8vIDEuMiDmoKHpqozmiYvmnLrlj7fvvIzlpoLmnpzmiJDlip/miY3ljrvlj5HpgIHnn63kv6HvvIjlrprkuYlBUEnvvInvvIzor7fmsYLmiJDlip/lvIDlkK82MHPnmoTlgJLorqHml7bvvIzkuI3og73lho3mrKHngrnlh7vvvIzlgJLorqHml7bnu5PmnZ/mgaLlpI0KICAgIC8vIDEuMyDlpoLmnpzlpLHotKXvvIzlpLHotKXnmoTmoKHpqozmoLflvI/mmL7npLrlh7rmnaUKCiAgICB2YXIgc2VuZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHZhbGlkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB2YWxpZCA9IG15U2NoZW1hLm1vYmlsZShmb3JtLm1vYmlsZSk7CgogICAgICAgICAgICAgICAgaWYgKCEodmFsaWQgPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKHRpbWUudmFsdWUgPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJNb2JpbGVMb2dpbk1zZyhmb3JtLm1vYmlsZSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICflj5HpgIHmiJDlip8nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRpbWUudmFsdWUgPSA2MDsKICAgICAgICAgICAgICAgIHJlc3VtZSgpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAvLyDlpLHotKXvvIzkvb/nlKh2ZWXnmoTplJnor6/lh73mlbDmmL7npLrplJnor6/kv6Hmga8gc2V0RmllbGRFcnJvcijlrZfmrrUs6ZSZ6K+v5L+h5oGvKQogICAgICAgICAgICAgICAgZm9ybUNvbS52YWx1ZS5zZXRGaWVsZEVycm9yKCdtb2JpbGUnLCB2YWxpZCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsgLy8g5Yid5aeL5YyWUVHnmbvlvZXmjInpkq4g77yI5a6Y5pa577yJCiAgICAvLyAxLiDlh4blpIdzcGFu5pyJaWQgPSBxcUxvZ2luQnRuCiAgICAvLyAyLiBRQy5Mb2dpbih7YnRuSWQ6InFxTG9naW5CdG4ifSkKICAgIC8vIG9uTW91bnRlZCgoKSA9PiB7CiAgICAvLyAgIFFDLkxvZ2luKHsgYnRuSWQ6ICdxcUxvZ2luQnRuJyB9KQogICAgLy8gfSkKCgogICAgcmV0dXJuIHsKICAgICAgaXNNc2dMb2dpbjogaXNNc2dMb2dpbiwKICAgICAgZm9ybTogZm9ybSwKICAgICAgc2NoZW1hOiBteVNjaGVtYSwKICAgICAgZm9ybUNvbTogZm9ybUNvbSwKICAgICAgbG9naW46IGxvZ2luLAogICAgICBzZW5kOiBzZW5kLAogICAgICB0aW1lOiB0aW1lCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\login\\components\\login-form.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"account-box\">\n    <div class=\"toggle\">\n      <a @click=\"isMsgLogin=false\" href=\"javascript:;\" v-if=\"isMsgLogin\">\n        <i class=\"iconfont icon-user\"></i> 使用账号登录\n      </a>\n      <a @click=\"isMsgLogin=true\" href=\"javascript:;\" v-else>\n        <i class=\"iconfont icon-msg\"></i> 使用短信登录\n      </a>\n    </div>\n    <Form ref=\"formCom\" class=\"form\" :validation-schema=\"schema\" v-slot=\"{errors}\" autocomplete=\"off\">\n      <template v-if=\"!isMsgLogin\">\n        <div class=\"form-item\">\n          <div class=\"input\">\n            <i class=\"iconfont icon-user\"></i>\n            <Field :class=\"{error:errors.account}\" v-model=\"form.account\" name=\"account\" type=\"text\" placeholder=\"请输入用户名\" />\n          </div>\n          <div class=\"error\" v-if=\"errors.account\">\n            <i class=\"iconfont icon-warning\" />\n            {{errors.account}}\n          </div>\n        </div>\n        <div class=\"form-item\">\n          <div class=\"input\">\n            <i class=\"iconfont icon-lock\"></i>\n            <Field :class=\"{error:errors.password}\" v-model=\"form.password\" name=\"password\" type=\"password\" placeholder=\"请输入密码\" />\n          </div>\n          <div class=\"error\" v-if=\"errors.password\">\n            <i class=\"iconfont icon-warning\" />\n            {{errors.password}}\n          </div>\n        </div>\n      </template>\n      <template v-else>\n        <div class=\"form-item\">\n          <div class=\"input\">\n            <i class=\"iconfont icon-user\"></i>\n            <Field :class=\"{error:errors.mobile}\" v-model=\"form.mobile\" name=\"mobile\" type=\"text\" placeholder=\"请输入手机号\" />\n          </div>\n          <div class=\"error\" v-if=\"errors.mobile\">\n            <i class=\"iconfont icon-warning\" />\n            {{errors.mobile}}\n          </div>\n        </div>\n        <div class=\"form-item\">\n          <div class=\"input\">\n            <i class=\"iconfont icon-code\"></i>\n            <Field :class=\"{error:errors.code}\" v-model=\"form.code\" name=\"code\" type=\"text\" placeholder=\"请输入验证码\" />\n            <span @click=\"send()\" class=\"code\">\n              {{time===0?'发送验证码':`${time}秒后发送`}}\n            </span>\n          </div>\n          <div class=\"error\" v-if=\"errors.code\">\n            <i class=\"iconfont icon-warning\" />\n            {{errors.code}}\n          </div>\n        </div>\n      </template>\n      <div class=\"form-item\">\n        <div class=\"agree\">\n          <Field as=\"XtxCheckbox\" name=\"isAgree\" v-model=\"form.isAgree\" />\n          <span>我已同意</span>\n          <a href=\"javascript:;\">《隐私条款》</a>\n          <span>和</span>\n          <a href=\"javascript:;\">《服务条款》</a>\n        </div>\n        <div class=\"error\" v-if=\"errors.isAgree\">\n          <i class=\"iconfont icon-warning\" />\n          {{errors.isAgree}}\n        </div>\n      </div>\n      <a @click=\"login()\" href=\"javascript:;\" class=\"btn\">登录</a>\n    </Form>\n    <div class=\"action\">\n      <a href=\"https://graph.qq.com/oauth2.0/authorize?client_id=100556005&response_type=token&scope=all&redirect_uri=http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback\">\n        <img src=\"https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png\" alt=\"\">\n      </a>\n      <div class=\"url\">\n        <a href=\"javascript:;\">忘记密码</a>\n        <a href=\"javascript:;\">免费注册</a>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { onUnmounted, reactive, ref, watch } from 'vue'\nimport { Form, Field } from 'vee-validate'\nimport schema from '@/utils/vee-validate-schema'\nimport Message from '@/components/library/Message'\nimport { userAccountLogin, userMobileLogin, userMobileLoginMsg } from '@/api/user'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useIntervalFn } from '@vueuse/core'\nexport default {\n  name: 'LoginForm',\n  components: { Form, Field },\n  setup () {\n    // 切换短信登录\n    const isMsgLogin = ref(false)\n    // 表单数据对象\n    const form = reactive({\n      isAgree: true,\n      account: null,\n      password: null,\n      mobile: null,\n      code: null\n    })\n\n    // vee-validate 校验基本步骤\n    // 1. 导入 Form Field 组件 将 form 和 input 进行替换，需要加上name用来指定将来的校验规则函数的\n    // 2. Field 需要进行数据绑定，字段名称最好和后台接口需要的一致\n    // 3. 定义Field的name属性指定的校验规则函数，Form的validation-schema接受定义好的校验规则是对象\n    // 4. 自定义组件需要校验必须先支持v-model 然后Field使用as指定为组件名称\n    const mySchema = {\n      // 校验函数规则：返回true就是校验成功，返回一个字符串就是失败，字符串就是错误提示\n      account: schema.account,\n      password: schema.password,\n      mobile: schema.mobile,\n      code: schema.code,\n      isAgree: schema.isAgree\n    }\n\n    // 监听isMsgLogin重置表单（数据+清除校验结果）\n    const formCom = ref(null)\n    watch(isMsgLogin, () => {\n      // 重置数据\n      form.isAgree = true\n      form.account = null\n      form.password = null\n      form.mobile = null\n      form.code = null\n      // 如果是没有销毁Field组件，之前的校验结果是不会清除  例如：v-show切换的\n      // Form组件提供了一个 resetForm 函数清除校验结果\n      formCom.value.resetForm()\n    })\n\n    // setup中获取组件实例 proxy\n    // const { proxy } = getCurrentInstance()\n    // proxy.$message({ text: '111' })\n\n    // 需要在点击登录的时候对整体表单进行校验\n    const store = useStore()\n    const router = useRouter()\n    const route = useRoute()\n    const login = async () => {\n      // Form组件提供了一个 validate 函数作为整体表单校验，当是返回的是一个promise\n      const valid = await formCom.value.validate()\n      if (valid) {\n        try {\n          let data = null\n          if (isMsgLogin.value) {\n            // **手机号登录\n            // 2.1. 准备一个API做手机号登录\n            // 2.2. 调用API函数\n            // 2.3. 成功：存储用户信息 + 跳转至来源页或者首页 + 消息提示\n            // 2.4. 失败：消息提示\n            const { mobile, code } = form\n            data = await userMobileLogin({ mobile, code })\n          } else {\n            // **帐号登录\n            // 1. 准备一个API做帐号登录\n            // 2. 调用API函数\n            // 3. 成功：存储用户信息 + 跳转至来源页或者首页 + 消息提示\n            // 4. 失败：消息提示\n            const { account, password } = form\n            data = await userAccountLogin({ account, password })\n          }\n          // 存储用户信息\n          const { id, account, avatar, mobile, nickname, token } = data.result\n          store.commit('user/setUser', { id, account, avatar, mobile, nickname, token })\n          store.dispatch('cart/mergeCart').then(() => {\n            // 进行跳转\n            router.push(route.query.redirectUrl || '/')\n            // 成功消息提示\n            Message({ type: 'success', text: '登录成功' })\n          })\n        } catch (e) {\n          // 失败提示\n          if (e.response.data) {\n            Message({ type: 'error', text: e.response.data.message || '登录失败' })\n          }\n        }\n      }\n    }\n\n    // pause 暂停 resume 开始\n    // useIntervalFn(回调函数,执行间隔,是否立即开启)\n    const time = ref(0)\n    const { pause, resume } = useIntervalFn(() => {\n      time.value--\n      if (time.value <= 0) {\n        pause()\n      }\n    }, 1000, false)\n    onUnmounted(() => {\n      pause()\n    })\n\n    // 1. 发送验证码\n    // 1.1 绑定发送验证码按钮点击事件\n    // 1.2 校验手机号，如果成功才去发送短信（定义API），请求成功开启60s的倒计时，不能再次点击，倒计时结束恢复\n    // 1.3 如果失败，失败的校验样式显示出来\n    const send = async () => {\n      const valid = mySchema.mobile(form.mobile)\n      if (valid === true) {\n        // 通过\n        if (time.value === 0) {\n        // 没有倒计时才可以发送\n          await userMobileLoginMsg(form.mobile)\n          Message({ type: 'success', text: '发送成功' })\n          time.value = 60\n          resume()\n        }\n      } else {\n        // 失败，使用vee的错误函数显示错误信息 setFieldError(字段,错误信息)\n        formCom.value.setFieldError('mobile', valid)\n      }\n    }\n\n    // 初始化QQ登录按钮 （官方）\n    // 1. 准备span有id = qqLoginBtn\n    // 2. QC.Login({btnId:\"qqLoginBtn\"})\n    // onMounted(() => {\n    //   QC.Login({ btnId: 'qqLoginBtn' })\n    // })\n\n    return { isMsgLogin, form, schema: mySchema, formCom, login, send, time }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n// 账号容器\n.account-box {\n  .toggle {\n    padding: 15px 40px;\n    text-align: right;\n    a {\n      color: @xtxColor;\n      i {\n        font-size: 14px;\n      }\n    }\n  }\n  .form {\n    padding: 0 40px;\n    &-item {\n      margin-bottom: 28px;\n      .input {\n        position: relative;\n        height: 36px;\n        > i {\n          width: 34px;\n          height: 34px;\n          background: #cfcdcd;\n          color: #fff;\n          position: absolute;\n          left: 1px;\n          top: 1px;\n          text-align: center;\n          line-height: 34px;\n          font-size: 18px;\n        }\n        input {\n          padding-left: 44px;\n          border: 1px solid #cfcdcd;\n          height: 36px;\n          line-height: 36px;\n          width: 100%;\n          &.error {\n            border-color: @priceColor;\n          }\n          &.active,&:focus {\n            border-color: @xtxColor;\n          }\n        }\n        .code {\n          position: absolute;\n          right: 1px;\n          top: 1px;\n          text-align: center;\n          line-height: 34px;\n          font-size: 14px;\n          background: #f5f5f5;\n          color: #666;\n          width: 90px;\n          height: 34px;\n          cursor: pointer;\n        }\n      }\n      > .error {\n        position: absolute;\n        font-size: 12px;\n        line-height: 28px;\n        color: @priceColor;\n        i {\n          font-size: 14px;\n          margin-right: 2px;\n        }\n      }\n    }\n    .agree {\n      a {\n        color: #069;\n      }\n    }\n    .btn {\n      display: block;\n      width: 100%;\n      height: 40px;\n      color: #fff;\n      text-align: center;\n      line-height: 40px;\n      background: @xtxColor;\n      &.disabled {\n        background: #cfcdcd;\n      }\n    }\n  }\n  .action {\n    padding: 20px 40px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .url {\n      a {\n        color: #999;\n        margin-left: 10px;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}