{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\login\\components\\callback-patch.vue?vue&type=template&id=6d8cd7ef&scoped=true","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\login\\components\\callback-patch.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1656924654079},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTZkOGNkN2VmIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi02ZDhjZDdlZiIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ4dHgtZm9ybS1pdGVtIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogImZpZWxkIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpIiwgewogIGNsYXNzOiAiaWNvbiBpY29uZm9udCBpY29uLXVzZXIiCn0sIG51bGwsIC0xKTsKCnZhciBfaG9pc3RlZF80ID0gewogIGtleTogMCwKICBjbGFzczogImVycm9yIgp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInh0eC1mb3JtLWl0ZW0iCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAiZmllbGQiCn07Cgp2YXIgX2hvaXN0ZWRfNyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImkiLCB7CiAgY2xhc3M6ICJpY29uIGljb25mb250IGljb24tcGhvbmUiCn0sIG51bGwsIC0xKTsKCnZhciBfaG9pc3RlZF84ID0gewogIGtleTogMCwKICBjbGFzczogImVycm9yIgp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogInh0eC1mb3JtLWl0ZW0iCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogImZpZWxkIgp9OwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaSIsIHsKICBjbGFzczogImljb24gaWNvbmZvbnQgaWNvbi1jb2RlIgp9LCBudWxsLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfMTIgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZXJyb3IiCn07CnZhciBfaG9pc3RlZF8xMyA9IHsKICBjbGFzczogInh0eC1mb3JtLWl0ZW0iCn07CnZhciBfaG9pc3RlZF8xNCA9IHsKICBjbGFzczogImZpZWxkIgp9OwoKdmFyIF9ob2lzdGVkXzE1ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaSIsIHsKICBjbGFzczogImljb24gaWNvbmZvbnQgaWNvbi1sb2NrIgp9LCBudWxsLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfMTYgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZXJyb3IiCn07CnZhciBfaG9pc3RlZF8xNyA9IHsKICBjbGFzczogInh0eC1mb3JtLWl0ZW0iCn07CnZhciBfaG9pc3RlZF8xOCA9IHsKICBjbGFzczogImZpZWxkIgp9OwoKdmFyIF9ob2lzdGVkXzE5ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiaSIsIHsKICBjbGFzczogImljb24gaWNvbmZvbnQgaWNvbi1sb2NrIgp9LCBudWxsLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfMjAgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZXJyb3IiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfRmllbGQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRmllbGQiKTsKCiAgdmFyIF9jb21wb25lbnRfRm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJGb3JtIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0Zvcm0sIHsKICAgIHJlZjogImZvcm1Db20iLAogICAgInZhbGlkYXRpb24tc2NoZW1hIjogJHNldHVwLm15U2NoZW1hLAogICAgY2xhc3M6ICJ4dHgtZm9ybSIsCiAgICBhdXRvY29tcGxldGU6ICJvZmYiCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgZXJyb3JzID0gX3JlZi5lcnJvcnM7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2hvaXN0ZWRfMywgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRmllbGQsIHsKICAgICAgICBjbGFzczogW3sKICAgICAgICAgIGVycjogZXJyb3JzLmFjY291bnQKICAgICAgICB9LCAiaW5wdXQiXSwKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZm9ybS5hY2NvdW50LAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLmZvcm0uYWNjb3VudCA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBuYW1lOiAiYWNjb3VudCIsCiAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl55So5oi35ZCNIgogICAgICB9LCBudWxsLCA4LCBbImNsYXNzIiwgIm1vZGVsVmFsdWUiXSldKSwgZXJyb3JzLmFjY291bnQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzQsIF90b0Rpc3BsYXlTdHJpbmcoZXJyb3JzLmFjY291bnQpLCAxKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfaG9pc3RlZF83LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9GaWVsZCwgewogICAgICAgIGNsYXNzOiBbewogICAgICAgICAgZXJyOiBlcnJvcnMubW9iaWxlCiAgICAgICAgfSwgImlucHV0Il0sCiAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmZvcm0ubW9iaWxlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLmZvcm0ubW9iaWxlID0gJGV2ZW50OwogICAgICAgIH0pLAogICAgICAgIG5hbWU6ICJtb2JpbGUiLAogICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaJi+acuuWPtyIKICAgICAgfSwgbnVsbCwgOCwgWyJjbGFzcyIsICJtb2RlbFZhbHVlIl0pXSksIGVycm9ycy5tb2JpbGUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzgsIF90b0Rpc3BsYXlTdHJpbmcoZXJyb3JzLm1vYmlsZSksIDEpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsIFtfaG9pc3RlZF8xMSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRmllbGQsIHsKICAgICAgICBjbGFzczogW3sKICAgICAgICAgIGVycjogZXJyb3JzLmNvZGUKICAgICAgICB9LCAiaW5wdXQiXSwKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZm9ybS5jb2RlLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLmZvcm0uY29kZSA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBuYW1lOiAiY29kZSIsCiAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl6aqM6K+B56CBIgogICAgICB9LCBudWxsLCA4LCBbImNsYXNzIiwgIm1vZGVsVmFsdWUiXSksIF9jcmVhdGVWTm9kZSgic3BhbiIsIHsKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkc2V0dXAuc2VuZCgpOwogICAgICAgIH0pLAogICAgICAgIGNsYXNzOiAiY29kZSIKICAgICAgfSwgX3RvRGlzcGxheVN0cmluZygkc2V0dXAudGltZSA9PT0gMCA/ICflj5HpgIHpqozor4HnoIEnIDogIiIuY29uY2F0KCRzZXR1cC50aW1lLCAiXHU3OUQyXHU1NDBFXHU1M0QxXHU5MDAxIikpLCAxKV0pLCBlcnJvcnMuY29kZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTIsIF90b0Rpc3BsYXlTdHJpbmcoZXJyb3JzLmNvZGUpLCAxKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNCwgW19ob2lzdGVkXzE1LCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9GaWVsZCwgewogICAgICAgIGNsYXNzOiBbewogICAgICAgICAgZXJyOiBlcnJvcnMucGFzc3dvcmQKICAgICAgICB9LCAiaW5wdXQiXSwKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZm9ybS5wYXNzd29yZCwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuICRzZXR1cC5mb3JtLnBhc3N3b3JkID0gJGV2ZW50OwogICAgICAgIH0pLAogICAgICAgIG5hbWU6ICJwYXNzd29yZCIsCiAgICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWvhueggSIKICAgICAgfSwgbnVsbCwgOCwgWyJjbGFzcyIsICJtb2RlbFZhbHVlIl0pXSksIGVycm9ycy5wYXNzd29yZCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTYsIF90b0Rpc3BsYXlTdHJpbmcoZXJyb3JzLnBhc3N3b3JkKSwgMSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xNywgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTgsIFtfaG9pc3RlZF8xOSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRmllbGQsIHsKICAgICAgICBjbGFzczogW3sKICAgICAgICAgIGVycjogZXJyb3JzLnJlUGFzc3dvcmQKICAgICAgICB9LCAiaW5wdXQiXSwKICAgICAgICBtb2RlbFZhbHVlOiAkc2V0dXAuZm9ybS5yZVBhc3N3b3JkLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLmZvcm0ucmVQYXNzd29yZCA9ICRldmVudDsKICAgICAgICB9KSwKICAgICAgICBuYW1lOiAicmVQYXNzd29yZCIsCiAgICAgICAgdHlwZTogInBhc3N3b3JkIiwKICAgICAgICBwbGFjZWhvbGRlcjogIuivt+ehruiupOWvhueggSIKICAgICAgfSwgbnVsbCwgOCwgWyJjbGFzcyIsICJtb2RlbFZhbHVlIl0pXSksIGVycm9ycy5yZVBhc3N3b3JkID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yMCwgX3RvRGlzcGxheVN0cmluZyhlcnJvcnMucmVQYXNzd29yZCksIDEpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSksIF9jcmVhdGVWTm9kZSgiYSIsIHsKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbN10gfHwgKF9jYWNoZVs3XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiAkc2V0dXAuc3VibWl0KCk7CiAgICAgICAgfSksCiAgICAgICAgaHJlZjogImphdmFzY3JpcHQ6OyIsCiAgICAgICAgY2xhc3M6ICJzdWJtaXQiCiAgICAgIH0sICLnq4vljbPmj5DkuqQiKV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4LCBbInZhbGlkYXRpb24tc2NoZW1hIl0pOwp9KTs="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\login\\components\\callback-patch.vue"],"names":[],"mappings":";;;;;;;AAES,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAuC,GAAvC,EAAuC;AAApC,EAAA,KAAK,EAAC;AAA8B,CAAvC,EAAkC,IAAlC,EAAkC,CAAA,CAAlC,C;;;;AAGyB,EAAA,KAAK,EAAC;;;AAE9B,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAwC,GAAxC,EAAwC;AAArC,EAAA,KAAK,EAAC;AAA+B,CAAxC,EAAmC,IAAnC,EAAmC,CAAA,CAAnC,C;;;;AAGwB,EAAA,KAAK,EAAC;;;AAE7B,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;+BACT,YAAA,CAAuC,GAAvC,EAAuC;AAApC,EAAA,KAAK,EAAC;AAA8B,CAAvC,EAAkC,IAAlC,EAAkC,CAAA,CAAlC,C;;;;AAMsB,EAAA,KAAK,EAAC;;;AAE3B,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;+BACT,YAAA,CAAuC,GAAvC,EAAuC;AAApC,EAAA,KAAK,EAAC;AAA8B,CAAvC,EAAkC,IAAlC,EAAkC,CAAA,CAAlC,C;;;;AAG0B,EAAA,KAAK,EAAC;;;AAE/B,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;+BACT,YAAA,CAAuC,GAAvC,EAAuC;AAApC,EAAA,KAAK,EAAC;AAA8B,CAAvC,EAAkC,IAAlC,EAAkC,CAAA,CAAlC,C;;;;AAG4B,EAAA,KAAK,EAAC;;;;;;;;;;uBArCxC,YAAA,CAwCO,eAxCP,EAwCO;AAxCD,IAAA,GAAG,EAAC,SAwCH;AAxCc,yBAAmB,MAAA,CAAA,QAwCjC;AAxC6D,IAAA,KAAK,EAAC,UAwCnE;AAxC8E,IAAA,YAAY,EAAC;AAwC3F,GAxCP,E;qBACE;AAAA,UADyD,MACzD,QADyD,MACzD;AAAA,aAD+D,CAC/D,YAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,EADJ,YAAA,CAA4H,gBAA5H,EAA4H;AAApH,QAAA,KAAK,EAAA,CAAA;AAAA,UAAA,GAAA,EAAO,MAAM,CAAC;AAAd,SAAA,EAAoE,OAApE,CAA+G;oBAA9E,MAAA,CAAA,IAAA,CAAK,OAAyE;;iBAA9E,MAAA,CAAA,IAAA,CAAK,OAAL,GAAY,M;UAAkE;AAAhE,QAAA,IAAI,EAAC,SAA2D;AAAnC,QAAA,IAAI,EAAC,MAA8B;AAAvB,QAAA,WAAW,EAAC;AAAW,OAA5H,E,IAAA,E,CAAA,E,uBAAA,CACI,CAHN,CAKI,EADO,MAAM,CAAC,O,kBAAlB,YAAA,CAAiE,KAAjE,EAAA,UAAA,EAAiE,gBAAA,CAAtB,MAAM,CAAC,OAAe,CAAjE,EAAyD,CAAzD,C,iCACI,CANN,CAD+D,EAQ/D,YAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALJ,YAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFJ,UAEI,EADJ,YAAA,CAAyH,gBAAzH,EAAyH;AAAjH,QAAA,KAAK,EAAA,CAAA;AAAA,UAAA,GAAA,EAAO,MAAM,CAAC;AAAd,SAAA,EAAiE,OAAjE,CAA4G;oBAA5E,MAAA,CAAA,IAAA,CAAK,MAAuE;;iBAA5E,MAAA,CAAA,IAAA,CAAK,MAAL,GAAW,M;UAAiE;AAA/D,QAAA,IAAI,EAAC,QAA0D;AAAnC,QAAA,IAAI,EAAC,MAA8B;AAAvB,QAAA,WAAW,EAAC;AAAW,OAAzH,E,IAAA,E,CAAA,E,uBAAA,CACI,CAHN,CAKI,EADO,MAAM,CAAC,M,kBAAlB,YAAA,CAA+D,KAA/D,EAAA,UAAA,EAA+D,gBAAA,CAArB,MAAM,CAAC,MAAc,CAA/D,EAAuD,CAAvD,C,iCACI,CANN,CAR+D,EAe/D,YAAA,CASM,KATN,EAAA,UAAA,EASM,CARJ,YAAA,CAMM,KANN,EAAA,WAAA,EAMM,CALJ,WAKI,EAJJ,YAAA,CAAmH,gBAAnH,EAAmH;AAA3G,QAAA,KAAK,EAAA,CAAA;AAAA,UAAA,GAAA,EAAO,MAAM,CAAC;AAAd,SAAA,EAA2D,OAA3D,CAAsG;oBAAxE,MAAA,CAAA,IAAA,CAAK,IAAmE;;iBAAxE,MAAA,CAAA,IAAA,CAAK,IAAL,GAAS,M;UAA+D;AAA7D,QAAA,IAAI,EAAC,MAAwD;AAAnC,QAAA,IAAI,EAAC,MAA8B;AAAvB,QAAA,WAAW,EAAC;AAAW,OAAnH,E,IAAA,E,CAAA,E,uBAAA,CAII,EAHJ,YAAA,CAEO,MAFP,EAEO;AAFA,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,MAAA,CAAA,IAAA,EAAF;AAAA,SAAA,CAEL;AAFe,QAAA,KAAK,EAAC;AAErB,OAFP,E,iBACI,MAAA,CAAA,IAAA,KAAI,CAAJ,GAAI,OAAJ,aAAoB,MAAA,CAAA,IAApB,6B,CADJ,EAC4B,CAD5B,CAGI,CANN,CAQI,EADO,MAAM,CAAC,I,kBAAlB,YAAA,CAA2D,KAA3D,EAAA,WAAA,EAA2D,gBAAA,CAAnB,MAAM,CAAC,IAAY,CAA3D,EAAmD,CAAnD,C,iCACI,CATN,CAf+D,EAyB/D,YAAA,CAMM,KANN,EAAA,WAAA,EAMM,CALJ,YAAA,CAGM,KAHN,EAAA,WAAA,EAGM,CAFJ,WAEI,EADJ,YAAA,CAAkI,gBAAlI,EAAkI;AAA1H,QAAA,KAAK,EAAA,CAAA;AAAA,UAAA,GAAA,EAAO,MAAM,CAAC;AAAd,SAAA,EAAuE,OAAvE,CAAqH;oBAAnF,MAAA,CAAA,IAAA,CAAK,QAA8E;;iBAAnF,MAAA,CAAA,IAAA,CAAK,QAAL,GAAa,M;UAAsE;AAApE,QAAA,IAAI,EAAC,UAA+D;AAAtC,QAAA,IAAI,EAAC,UAAiC;AAAtB,QAAA,WAAW,EAAC;AAAU,OAAlI,E,IAAA,E,CAAA,E,uBAAA,CACI,CAHN,CAKI,EADO,MAAM,CAAC,Q,kBAAlB,YAAA,CAAmE,KAAnE,EAAA,WAAA,EAAmE,gBAAA,CAAvB,MAAM,CAAC,QAAgB,CAAnE,EAA2D,CAA3D,C,iCACI,CANN,CAzB+D,EAgC/D,YAAA,CAMM,KANN,EAAA,WAAA,EAMM,CALJ,YAAA,CAGM,KAHN,EAAA,WAAA,EAGM,CAFJ,WAEI,EADJ,YAAA,CAAwI,gBAAxI,EAAwI;AAAhI,QAAA,KAAK,EAAA,CAAA;AAAA,UAAA,GAAA,EAAO,MAAM,CAAC;AAAd,SAAA,EAA6E,OAA7E,CAA2H;oBAAvF,MAAA,CAAA,IAAA,CAAK,UAAkF;;iBAAvF,MAAA,CAAA,IAAA,CAAK,UAAL,GAAe,M;UAAwE;AAAtE,QAAA,IAAI,EAAC,YAAiE;AAAtC,QAAA,IAAI,EAAC,UAAiC;AAAtB,QAAA,WAAW,EAAC;AAAU,OAAxI,E,IAAA,E,CAAA,E,uBAAA,CACI,CAHN,CAKI,EADO,MAAM,CAAC,U,kBAAlB,YAAA,CAAuE,KAAvE,EAAA,WAAA,EAAuE,gBAAA,CAAzB,MAAM,CAAC,UAAkB,CAAvE,EAA+D,CAA/D,C,iCACI,CANN,CAhC+D,EAuC/D,YAAA,CAAgE,GAAhE,EAAgE;AAA5D,QAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,iBAAE,MAAA,CAAA,MAAA,EAAF;AAAA,SAAA,CAAuD;AAA3C,QAAA,IAAI,EAAC,cAAsC;AAAvB,QAAA,KAAK,EAAC;AAAiB,OAAhE,EAAwD,MAAxD,CAvC+D,CAC/D;AAAA,K;;GADF,E,CAAA,E,qBAAA,C","sourcesContent":["<template>\n  <Form ref=\"formCom\" :validation-schema=\"mySchema\" v-slot=\"{errors}\" class=\"xtx-form\" autocomplete=\"off\">\n    <div class=\"xtx-form-item\">\n      <div class=\"field\">\n        <i class=\"icon iconfont icon-user\"></i>\n        <Field :class=\"{err:errors.account}\" v-model=\"form.account\" name=\"account\" class=\"input\" type=\"text\" placeholder=\"请输入用户名\" />\n      </div>\n      <div v-if=\"errors.account\" class=\"error\">{{errors.account}}</div>\n    </div>\n    <div class=\"xtx-form-item\">\n      <div class=\"field\">\n        <i class=\"icon iconfont icon-phone\"></i>\n        <Field :class=\"{err:errors.mobile}\" v-model=\"form.mobile\" name=\"mobile\" class=\"input\" type=\"text\" placeholder=\"请输入手机号\" />\n      </div>\n      <div v-if=\"errors.mobile\" class=\"error\">{{errors.mobile}}</div>\n    </div>\n    <div class=\"xtx-form-item\">\n      <div class=\"field\">\n        <i class=\"icon iconfont icon-code\"></i>\n        <Field :class=\"{err:errors.code}\" v-model=\"form.code\" name=\"code\" class=\"input\" type=\"text\" placeholder=\"请输入验证码\" />\n        <span @click=\"send()\" class=\"code\">\n          {{time===0?'发送验证码':`${time}秒后发送`}}\n        </span>\n      </div>\n      <div v-if=\"errors.code\" class=\"error\">{{errors.code}}</div>\n    </div>\n    <div class=\"xtx-form-item\">\n      <div class=\"field\">\n        <i class=\"icon iconfont icon-lock\"></i>\n        <Field :class=\"{err:errors.password}\" v-model=\"form.password\" name=\"password\" class=\"input\" type=\"password\" placeholder=\"请输入密码\" />\n      </div>\n      <div v-if=\"errors.password\" class=\"error\">{{errors.password}}</div>\n    </div>\n    <div class=\"xtx-form-item\">\n      <div class=\"field\">\n        <i class=\"icon iconfont icon-lock\"></i>\n        <Field :class=\"{err:errors.rePassword}\" v-model=\"form.rePassword\" name=\"rePassword\" class=\"input\" type=\"password\" placeholder=\"请确认密码\" />\n      </div>\n      <div v-if=\"errors.rePassword\" class=\"error\">{{errors.rePassword}}</div>\n    </div>\n    <a @click=\"submit()\" href=\"javascript:;\" class=\"submit\">立即提交</a>\n  </Form>\n</template>\n\n<script>\nimport { Form, Field } from 'vee-validate'\nimport { reactive, ref, onUnmounted } from 'vue'\nimport schema from '@/utils/vee-validate-schema'\nimport { userQQPatchCode, userQQPatchLogin } from '@/api/user'\nimport { useIntervalFn } from '@vueuse/core'\nimport Message from '@/components/library/Message'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nexport default {\n  name: 'CallbackPatch',\n  components: { Form, Field },\n  props: {\n    unionId: {\n      type: String,\n      default: ''\n    }\n  },\n  setup (props) {\n    // 1. 表单校验 多两个校验：用户名是否存在，再次输入密码是否一致\n    // 2. 发送短信验证码：接口API定义\n    // 3. 完善信息\n\n    // 表单数据对象\n    const form = reactive({\n      account: null,\n      mobile: null,\n      code: null,\n      password: null,\n      rePassword: null\n    })\n    // 表单校验规则\n    const mySchema = {\n      account: schema.accountApi,\n      mobile: schema.mobile,\n      code: schema.code,\n      password: schema.password,\n      rePassword: schema.rePassword\n    }\n\n    // -------------------------------------------------------\n    const formCom = ref(null)\n    const time = ref(0)\n    const { pause, resume } = useIntervalFn(() => {\n      time.value--\n      if (time.value <= 0) {\n        pause()\n      }\n    }, 1000, false)\n    onUnmounted(() => {\n      pause()\n    })\n\n    // 1. 发送验证码\n    // 1.1 绑定发送验证码按钮点击事件\n    // 1.2 校验手机号，如果成功才去发送短信（定义API），请求成功开启60s的倒计时，不能再次点击，倒计时结束恢复\n    // 1.3 如果失败，失败的校验样式显示出来\n    const send = async () => {\n      const valid = mySchema.mobile(form.mobile)\n      if (valid === true) {\n        // 通过\n        if (time.value === 0) {\n        // 没有倒计时才可以发送\n          await userQQPatchCode(form.mobile)\n          Message({ type: 'success', text: '发送成功' })\n          time.value = 60\n          resume()\n        }\n      } else {\n        // 失败，使用vee的错误函数显示错误信息 setFieldError(字段,错误信息)\n        formCom.value.setFieldError('mobile', valid)\n      }\n    }\n\n    // ----------------------------------------------------------\n    // 完善信息\n    const store = useStore()\n    const router = useRouter()\n    const submit = async () => {\n      const valid = formCom.value.validate()\n      if (valid) {\n        userQQPatchLogin({\n          unionId: props.unionId,\n          ...form\n        }).then(data => {\n          // 实现和之前登录一样的逻辑\n          // 1. 存储用户信息\n          const { id, account, avatar, mobile, nickname, token } = data.result\n          store.commit('user/setUser', { id, account, avatar, mobile, nickname, token })\n          store.dispatch('cart/mergeCart').then(() => {\n            // 2. 跳转到来源页或者首页\n            router.push(store.state.user.redirectUrl)\n            // 3. 成功提示\n            Message({ type: 'success', text: 'QQ完善信息成功' })\n          })\n        }).catch(e => {\n          Message({ type: 'error', text: '完善信息失败' })\n        })\n      }\n    }\n\n    return { form, mySchema, formCom, time, send, submit }\n  }\n}\n</script>\n\n<style scoped lang='less'>\n.code {\n  position: absolute;\n  right: 0;\n  top: 0;\n  line-height: 50px;\n  width: 80px;\n  color: #999;\n  &:hover {\n    cursor: pointer;\n  }\n}\n</style>\n"],"sourceRoot":""}]}