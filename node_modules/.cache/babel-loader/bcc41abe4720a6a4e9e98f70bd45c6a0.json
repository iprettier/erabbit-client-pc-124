{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\components\\library\\xtx-carousel.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\components\\library\\xtx-carousel.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IHsgb25Vbm1vdW50ZWQsIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1h0eENhcm91c2VsJywKICBwcm9wczogewogICAgLy8g6L2u5pKt5Zu+5pWw5o2uCiAgICBzbGlkZXJzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyDmmK/lkKboh6rliqjova7mkq0KICAgIGF1dG9QbGF5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy8g6Ze06ZqU5pe26ZW/CiAgICBkdXJhdGlvbjogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDMwMDAKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgLy8g5o6n5Yi25pi+56S65Zu+54mH55qE57Si5byVCiAgICB2YXIgaW5kZXggPSByZWYoMCk7IC8vIDEuIOiHquWKqOi9ruaSreWbvueahOmAu+i+kQoKICAgIHZhciB0aW1lciA9IG51bGw7CgogICAgdmFyIGF1dG9QbGF5Rm4gPSBmdW5jdGlvbiBhdXRvUGxheUZuKCkgewogICAgICAvLyDpmLLmraLlrprml7blmajph43lpI3mt7vliqAKICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7IC8vIOiHquWKqOaSreaUvu+8jOavj+malOWkmuS5heWIh+aNoue0ouW8lQoKICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgaW5kZXgudmFsdWUrKzsKCiAgICAgICAgaWYgKGluZGV4LnZhbHVlID49IHByb3BzLnNsaWRlcnMubGVuZ3RoKSB7CiAgICAgICAgICBpbmRleC52YWx1ZSA9IDA7CiAgICAgICAgfQogICAgICB9LCBwcm9wcy5kdXJhdGlvbik7CiAgICB9OyAvLyDpnIDopoHnm5HlkKxzbGlkZXJz5pWw5o2u5Y+Y5YyW77yM5Yik5pat5aaC5p6c5pyJ5pWw5o2u5LiUYXV0b1BsYXnmmK90cnVlCgoKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLnNsaWRlcnM7CiAgICB9LCBmdW5jdGlvbiAobmV3VmFsKSB7CiAgICAgIGlmIChuZXdWYWwubGVuZ3RoICYmIHByb3BzLmF1dG9QbGF5KSB7CiAgICAgICAgYXV0b1BsYXlGbigpOwogICAgICB9CiAgICB9LCB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7IC8vIDIuIOm8oOagh+i/m+WFpeaaguWBnCAg56a75byA5byA5ZCv6Ieq5Yqo5pKt5pS+77yI5pyJ5byA5ZCv5p2h5Lu277yJCgogICAgdmFyIHN0b3AgPSBmdW5jdGlvbiBzdG9wKCkgewogICAgICBpZiAodGltZXIpIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgfTsKCiAgICB2YXIgc3RhcnQgPSBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgaWYgKHByb3BzLnNsaWRlcnMubGVuZ3RoICYmIHByb3BzLmF1dG9QbGF5KSB7CiAgICAgICAgYXV0b1BsYXlGbigpOwogICAgICB9CiAgICB9OyAvLyAzLiDngrnlh7vngrnngrnlj6/ku6XliIfmjaLvvIzkuIrkuIDlvKDkuIvkuIDlvKAKCgogICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShzdGVwKSB7CiAgICAgIC8vIOWwhuimgeaUueWPmOeahOe0ouW8lQogICAgICB2YXIgbmV3SW5kZXggPSBpbmRleC52YWx1ZSArIHN0ZXA7IC8vIOi2heWHuueahOaDheWGte+8jOWkquWkp+S6hgoKICAgICAgaWYgKG5ld0luZGV4ID4gcHJvcHMuc2xpZGVycy5sZW5ndGggLSAxKSB7CiAgICAgICAgaW5kZXgudmFsdWUgPSAwOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDotoXlh7rnmoTmg4XlhrXvvIzlpKrlsI/kuoYKCgogICAgICBpZiAobmV3SW5kZXggPCAwKSB7CiAgICAgICAgaW5kZXgudmFsdWUgPSBwcm9wcy5zbGlkZXJzLmxlbmd0aCAtIDE7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOato+W4uAoKCiAgICAgIGluZGV4LnZhbHVlID0gbmV3SW5kZXg7CiAgICB9OyAvLyA0LiDnu4Tku7bljbjovb3vvIzmuIXpmaTlrprml7blmagKCgogICAgb25Vbm1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgaW5kZXg6IGluZGV4LAogICAgICBzdG9wOiBzdG9wLAogICAgICBzdGFydDogc3RhcnQsCiAgICAgIHRvZ2dsZTogdG9nZ2xlCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\components\\library\\xtx-carousel.vue"],"names":[],"mappings":";AAiCA,SAAS,WAAT,EAAsB,GAAtB,EAA2B,KAA3B,QAAwC,KAAxC;AACA,eAAe;AACb,EAAA,IAAI,EAAE,aADO;AAEb,EAAA,KAAK,EAAE;AACL;AACA,IAAA,OAAO,EAAE;AACP,MAAA,IAAI,EAAE,KADC;AAEP,MAAA,OAAO,EAAE;AAAA,eAAM,EAAN;AAAA;AAFF,KAFJ;AAML;AACA,IAAA,QAAQ,EAAE;AACR,MAAA,IAAI,EAAE,OADE;AAER,MAAA,OAAO,EAAE;AAFD,KAPL;AAWL;AACA,IAAA,QAAQ,EAAE;AACR,MAAA,IAAI,EAAE,MADE;AAER,MAAA,OAAO,EAAE;AAFD;AAZL,GAFM;AAmBb,EAAA,KAnBa,iBAmBN,KAnBM,EAmBC;AACZ;AACA,QAAM,KAAI,GAAI,GAAG,CAAC,CAAD,CAAjB,CAFY,CAIZ;;AACA,QAAI,KAAI,GAAI,IAAZ;;AACA,QAAM,UAAS,GAAI,SAAb,UAAa,GAAM;AACvB;AACA,MAAA,aAAa,CAAC,KAAD,CAAb,CAFuB,CAGvB;;AACA,MAAA,KAAI,GAAI,WAAW,CAAC,YAAM;AACxB,QAAA,KAAK,CAAC,KAAN;;AACA,YAAI,KAAK,CAAC,KAAN,IAAe,KAAK,CAAC,OAAN,CAAc,MAAjC,EAAyC;AACvC,UAAA,KAAK,CAAC,KAAN,GAAc,CAAd;AACF;AACD,OALkB,EAKhB,KAAK,CAAC,QALU,CAAnB;AAMF,KAVA,CANY,CAiBZ;;;AACA,IAAA,KAAK,CAAC;AAAA,aAAM,KAAK,CAAC,OAAZ;AAAA,KAAD,EAAsB,UAAC,MAAD,EAAY;AACrC,UAAI,MAAM,CAAC,MAAP,IAAiB,KAAK,CAAC,QAA3B,EAAqC;AACnC,QAAA,UAAU;AACZ;AACD,KAJI,EAIF;AAAE,MAAA,SAAS,EAAE;AAAb,KAJE,CAAL,CAlBY,CAwBZ;;AACA,QAAM,IAAG,GAAI,SAAP,IAAO,GAAM;AACjB,UAAI,KAAJ,EAAW,aAAa,CAAC,KAAD,CAAb;AACb,KAFA;;AAGA,QAAM,KAAI,GAAI,SAAR,KAAQ,GAAM;AAClB,UAAI,KAAK,CAAC,OAAN,CAAc,MAAd,IAAwB,KAAK,CAAC,QAAlC,EAA4C;AAC1C,QAAA,UAAU;AACZ;AACF,KAJA,CA5BY,CAkCZ;;;AACA,QAAM,MAAK,GAAI,SAAT,MAAS,CAAC,IAAD,EAAU;AACvB;AACA,UAAM,QAAO,GAAI,KAAK,CAAC,KAAN,GAAc,IAA/B,CAFuB,CAGvB;;AACA,UAAI,QAAO,GAAK,KAAK,CAAC,OAAN,CAAc,MAAd,GAAuB,CAAvC,EAA2C;AACzC,QAAA,KAAK,CAAC,KAAN,GAAc,CAAd;AACA;AACF,OAPuB,CAQvB;;;AACA,UAAI,QAAO,GAAI,CAAf,EAAkB;AAChB,QAAA,KAAK,CAAC,KAAN,GAAc,KAAK,CAAC,OAAN,CAAc,MAAd,GAAuB,CAArC;AACA;AACF,OAZuB,CAavB;;;AACA,MAAA,KAAK,CAAC,KAAN,GAAc,QAAd;AACF,KAfA,CAnCY,CAoDZ;;;AACA,IAAA,WAAW,CAAC,YAAM;AAChB,MAAA,aAAa,CAAC,KAAD,CAAb;AACD,KAFU,CAAX;AAIA,WAAO;AAAE,MAAA,KAAK,EAAL,KAAF;AAAS,MAAA,IAAI,EAAJ,IAAT;AAAe,MAAA,KAAK,EAAL,KAAf;AAAsB,MAAA,MAAK,EAAL;AAAtB,KAAP;AACF;AA7Ea,CAAf","sourcesContent":["<template>\n  <div class='xtx-carousel' @mouseenter=\"stop()\" @mouseleave=\"start()\">\n    <!-- 图片容器 -->\n    <ul class=\"carousel-body\">\n      <!-- fade 显示的图片加上 -->\n      <li class=\"carousel-item\" v-for=\"(item,i) in sliders\" :key=\"i\" :class=\"{fade:index===i}\">\n        <!-- 图片 -->\n        <RouterLink v-if=\"item.imgUrl\" to=\"/\">\n          <img :src=\"item.imgUrl\" alt=\"\">\n        </RouterLink>\n        <!-- 商品列表 item=[goods1,goods2,。。。]-->\n        <div v-else class=\"slider\">\n          <RouterLink v-for=\"goods in item\" :key=\"goods.id\" :to=\"`/product/${goods.id}`\">\n            <img :src=\"goods.picture\" alt=\"\">\n            <p class=\"name ellipsis\">{{goods.name}}</p>\n            <p class=\"price\">&yen;{{goods.price}}</p>\n          </RouterLink>\n        </div>\n      </li>\n    </ul>\n    <!-- 上一张 -->\n    <a @click=\"toggle(-1)\" href=\"javascript:;\" class=\"carousel-btn prev\"><i class=\"iconfont icon-angle-left\"></i></a>\n    <!-- 下一张 -->\n    <a @click=\"toggle(1)\" href=\"javascript:;\" class=\"carousel-btn next\"><i class=\"iconfont icon-angle-right\"></i></a>\n    <!-- 指示器 -->\n    <div class=\"carousel-indicator\">\n      <!-- active 激活点 -->\n      <span @click=\"index=i\" v-for=\"(item,i) in sliders\" :key=\"i\" :class=\"{active:index===i}\"></span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { onUnmounted, ref, watch } from 'vue'\nexport default {\n  name: 'XtxCarousel',\n  props: {\n    // 轮播图数据\n    sliders: {\n      type: Array,\n      default: () => []\n    },\n    // 是否自动轮播\n    autoPlay: {\n      type: Boolean,\n      default: false\n    },\n    // 间隔时长\n    duration: {\n      type: Number,\n      default: 3000\n    }\n  },\n  setup (props) {\n    // 控制显示图片的索引\n    const index = ref(0)\n\n    // 1. 自动轮播图的逻辑\n    let timer = null\n    const autoPlayFn = () => {\n      // 防止定时器重复添加\n      clearInterval(timer)\n      // 自动播放，每隔多久切换索引\n      timer = setInterval(() => {\n        index.value++\n        if (index.value >= props.sliders.length) {\n          index.value = 0\n        }\n      }, props.duration)\n    }\n    // 需要监听sliders数据变化，判断如果有数据且autoPlay是true\n    watch(() => props.sliders, (newVal) => {\n      if (newVal.length && props.autoPlay) {\n        autoPlayFn()\n      }\n    }, { immediate: true })\n\n    // 2. 鼠标进入暂停  离开开启自动播放（有开启条件）\n    const stop = () => {\n      if (timer) clearInterval(timer)\n    }\n    const start = () => {\n      if (props.sliders.length && props.autoPlay) {\n        autoPlayFn()\n      }\n    }\n\n    // 3. 点击点点可以切换，上一张下一张\n    const toggle = (step) => {\n      // 将要改变的索引\n      const newIndex = index.value + step\n      // 超出的情况，太大了\n      if (newIndex > (props.sliders.length - 1)) {\n        index.value = 0\n        return\n      }\n      // 超出的情况，太小了\n      if (newIndex < 0) {\n        index.value = props.sliders.length - 1\n        return\n      }\n      // 正常\n      index.value = newIndex\n    }\n\n    // 4. 组件卸载，清除定时器\n    onUnmounted(() => {\n      clearInterval(timer)\n    })\n\n    return { index, stop, start, toggle }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.xtx-carousel{\n  width: 100%;\n  height: 100%;\n  min-width: 300px;\n  min-height: 150px;\n  position: relative;\n  .carousel{\n    &-body {\n      width: 100%;\n      height: 100%;\n    }\n    &-item {\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      left: 0;\n      top: 0;\n      opacity: 0;\n      transition: opacity 0.5s linear;\n      &.fade {\n        opacity: 1;\n        z-index: 1;\n      }\n      img {\n        width: 100%;\n        height: 100%;\n      }\n    }\n    &-indicator {\n      position: absolute;\n      left: 0;\n      bottom: 20px;\n      z-index: 2;\n      width: 100%;\n      text-align: center;\n      span {\n        display: inline-block;\n        width: 12px;\n        height: 12px;\n        background: rgba(0,0,0,0.2);\n        border-radius: 50%;\n        cursor: pointer;\n        ~ span {\n          margin-left: 12px;\n        }\n        &.active {\n          background:  #fff;\n        }\n      }\n    }\n    &-btn {\n      width: 44px;\n      height: 44px;\n      background: rgba(0,0,0,.2);\n      color: #fff;\n      border-radius: 50%;\n      position: absolute;\n      top: 228px;\n      z-index: 2;\n      text-align: center;\n      line-height: 44px;\n      opacity: 0;\n      transition: all 0.5s;\n      &.prev{\n        left: 20px;\n      }\n      &.next{\n        right: 20px;\n      }\n    }\n  }\n  &:hover {\n    .carousel-btn {\n      opacity: 1;\n    }\n  }\n}\n// 轮播商品\n.slider {\n  display: flex;\n  justify-content: space-around;\n  padding: 0 40px;\n  > a {\n    width: 240px;\n    text-align: center;\n    img {\n      padding: 20px;\n      width: 230px!important;\n      height: 230px!important;\n    }\n    .name {\n      font-size: 16px;\n      color: #666;\n      padding: 0 40px;\n    }\n    .price {\n      font-size: 16px;\n      color: @priceColor;\n      margin-top: 15px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}