{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\member\\order\\index.vue?vue&type=template&id=175f2ec7&scoped=true","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\member\\order\\index.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1656924654079},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtMTc1ZjJlYzciKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTE3NWYyZWM3Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIm1lbWJlci1vcmRlciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJvcmRlci1saXN0Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJsb2FkaW5nIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJub25lIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1h0eFRhYnNQYW5lbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJYdHhUYWJzUGFuZWwiKTsKCiAgdmFyIF9jb21wb25lbnRfWHR4VGFicyA9IF9yZXNvbHZlQ29tcG9uZW50KCJYdHhUYWJzIik7CgogIHZhciBfY29tcG9uZW50X09yZGVySXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJPcmRlckl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfWHR4UGFnaW5hdGlvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJYdHhQYWdpbmF0aW9uIik7CgogIHZhciBfY29tcG9uZW50X09yZGVyQ2FuY2VsID0gX3Jlc29sdmVDb21wb25lbnQoIk9yZGVyQ2FuY2VsIik7CgogIHZhciBfY29tcG9uZW50X09yZGVyTG9naXN0aWNzID0gX3Jlc29sdmVDb21wb25lbnQoIk9yZGVyTG9naXN0aWNzIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1h0eFRhYnMsIHsKICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5hY3RpdmVOYW1lLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5hY3RpdmVOYW1lID0gJGV2ZW50OwogICAgfSksCiAgICBvblRhYkNsaWNrOiAkc2V0dXAudGFiQ2xpY2sKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLm9yZGVyU3RhdHVzLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X1h0eFRhYnNQYW5lbCwgewogICAgICAgICAga2V5OiBpdGVtLm5hbWUsCiAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbCwKICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZQogICAgICAgIH0sIG51bGwsIDgsIFsibGFiZWwiLCAibmFtZSJdKTsKICAgICAgfSksIDEyOCkpXTsKICAgIH0pLAogICAgXzogMQogIH0sIDgsIFsibW9kZWxWYWx1ZSIsICJvblRhYkNsaWNrIl0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFskc2V0dXAubG9hZGluZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMykpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksICEkc2V0dXAubG9hZGluZyAmJiAkc2V0dXAub3JkZXJMaXN0Lmxlbmd0aCA9PT0gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNCwgIuaaguaXoOaVsOaNriIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLm9yZGVyTGlzdCwgZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X09yZGVySXRlbSwgewogICAgICBvbk9uQ2FuY2VsOiBfY3R4LmhhbmRsZXJDYW5jZWwsCiAgICAgIG9uT25EZWxldGU6ICRzZXR1cC5oYW5kbGVyRGVsZXRlLAogICAgICBvbk9uQ29uZmlybTogX2N0eC5oYW5kbGVyQ29uZmlybSwKICAgICAgb25PbkxvZ2lzdGljczogX2N0eC5oYW5kbGVyTG9naXN0aWNzLAogICAgICBrZXk6IGl0ZW0uaWQsCiAgICAgIG9yZGVyOiBpdGVtCiAgICB9LCBudWxsLCA4LCBbIm9uT25DYW5jZWwiLCAib25PbkRlbGV0ZSIsICJvbk9uQ29uZmlybSIsICJvbk9uTG9naXN0aWNzIiwgIm9yZGVyIl0pOwogIH0pLCAxMjgpKV0pLCAkc2V0dXAudG90YWwgPiAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfWHR4UGFnaW5hdGlvbiwgewogICAga2V5OiAwLAogICAgImN1cnJlbnQtcGFnZSI6ICRzZXR1cC5yZXFQYXJhbXMucGFnZSwKICAgICJwYWdlLXNpemUiOiAkc2V0dXAucmVxUGFyYW1zLnBhZ2VTaXplLAogICAgdG90YWw6ICRzZXR1cC50b3RhbCwKICAgIG9uQ3VycmVudENoYW5nZTogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAucmVxUGFyYW1zLnBhZ2UgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDgsIFsiY3VycmVudC1wYWdlIiwgInBhZ2Utc2l6ZSIsICJ0b3RhbCJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfT3JkZXJDYW5jZWwsIHsKICAgIHJlZjogIm9yZGVyQ2FuY2VsQ29tIgogIH0sIG51bGwsIDUxMiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X09yZGVyTG9naXN0aWNzLCB7CiAgICByZWY6ICJvcmRlckxvZ2lzdGljc0NvbSIKICB9LCBudWxsLCA1MTIpXSk7Cn0pOw=="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\member\\order\\index.vue"],"names":[],"mappings":";;;;;;;;AACO,EAAA,KAAK,EAAC;;;AAYJ,EAAA,KAAK,EAAC;;;;AACW,EAAA,KAAK,EAAC;;;;AACrB,EAAA,KAAK,EAAC;;;;;;;;;;;;;;;;;;uBAdf,YAAA,CAqCM,KArCN,EAAA,UAAA,EAqCM,CAnCJ,YAAA,CAQU,kBARV,EAQU;gBARQ,MAAA,CAAA,UAQR;;aARQ,MAAA,CAAA,UAAA,GAAU,M;MAQlB;AARqB,IAAA,UAAS,EAAE,MAAA,CAAA;AAQhC,GARV,E;qBAEI;AAAA,aAA2B,E,kBAD7B,YAAA,CAMe,SANf,EAMe,IANf,EAMe,WAAA,CALE,MAAA,CAAA,WAKF,EALa,UAAnB,IAAmB,EAAf;6BADb,YAAA,CAMe,uBANf,EAMe;AAJZ,UAAA,GAAG,EAAE,IAAI,CAAC,IAIE;AAHZ,UAAA,KAAK,EAAE,IAAI,CAAC,KAGA;AAFZ,UAAA,IAAI,EAAE,IAAI,CAAC;AAEC,SANf,E,IAAA,E,CAAA,E,iBAAA,C;OAMe,CANf,E,GAAA,CAC6B,EAA3B;AAAA,K;;GAFJ,E,CAAA,E,4BAAA,CAmCI,EAzBJ,YAAA,CAYM,KAZN,EAAA,UAAA,EAYM,CAXO,MAAA,CAAA,O,kBAAX,YAAA,CAA0C,KAA1C,EAAA,UAAA,C,iCAWI,E,CAVqB,MAAA,CAAA,O,IAAW,MAAA,CAAA,SAAA,CAAU,MAAV,KAAgB,C,kBAApD,YAAA,CAAsE,KAAtE,EAAA,UAAA,EAA4D,MAA5D,C,iCAUI,G,kBATJ,YAAA,CAQE,SARF,EAQE,IARF,EAQE,WAAA,CAHe,MAAA,CAAA,SAGf,EAHwB,UAAjB,IAAiB,EAAb;yBALb,YAAA,CAQE,oBARF,EAQE;AAPC,MAAA,UAAS,EAAE,IAAA,CAAA,aAOZ;AANC,MAAA,UAAS,EAAE,MAAA,CAAA,aAMZ;AALC,MAAA,WAAU,EAAE,IAAA,CAAA,cAKb;AAJC,MAAA,aAAY,EAAE,IAAA,CAAA,gBAIf;AAFC,MAAA,GAAG,EAAE,IAAI,CAAC,EAEX;AADC,MAAA,KAAK,EAAE;AACR,KARF,E,IAAA,E,CAAA,E,qEAAA,C;GAQE,CARF,E,GAAA,CASI,EAZN,CAyBI,EAVI,MAAA,CAAA,KAAA,GAAK,C,kBADb,YAAA,CAME,wBANF,EAME;UAAA;AAJC,oBAAc,MAAA,CAAA,SAAA,CAAU,IAIzB;AAHC,iBAAW,MAAA,CAAA,SAAA,CAAU,QAGtB;AAFC,IAAA,KAAK,EAAE,MAAA,CAAA,KAER;AADC,IAAA,eAAc,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,MAAA,CAAA,SAAA,CAAU,IAAV,GAAe,MAAjB;AAAA,KAAA;AACf,GANF,E,IAAA,E,CAAA,E,sCAAA,C,iCAWI,EAHJ,YAAA,CAAoC,sBAApC,EAAoC;AAAvB,IAAA,GAAG,EAAC;AAAmB,GAApC,EAAiC,IAAjC,EAAiC,GAAjC,CAGI,EADJ,YAAA,CAA0C,yBAA1C,EAA0C;AAA1B,IAAA,GAAG,EAAC;AAAsB,GAA1C,EAAuC,IAAvC,EAAuC,GAAvC,CACI,CArCN,C","sourcesContent":["<template>\n  <div class=\"member-order\">\n    <!-- tab组件 -->\n    <XtxTabs v-model=\"activeName\" @tab-click=\"tabClick\">\n      <XtxTabsPanel\n        v-for=\"item in orderStatus\"\n        :key=\"item.name\"\n        :label=\"item.label\"\n        :name=\"item.name\"\n      >\n      </XtxTabsPanel>\n    </XtxTabs>\n    <!-- 订单列表 -->\n    <div class=\"order-list\">\n      <div v-if=\"loading\" class=\"loading\"></div>\n      <div class=\"none\" v-if=\"!loading && orderList.length === 0\">暂无数据</div>\n      <OrderItem\n        @on-cancel=\"handlerCancel\"\n        @on-delete=\"handlerDelete\"\n        @on-confirm=\"handlerConfirm\"\n        @on-logistics=\"handlerLogistics\"\n        v-for=\"item in orderList\"\n        :key=\"item.id\"\n        :order=\"item\"\n      />\n    </div>\n    <!-- 分页组件 -->\n    <XtxPagination\n      v-if=\"total>0\"\n      :current-page=\"reqParams.page\"\n      :page-size=\"reqParams.pageSize\"\n      :total=\"total\"\n      @current-change=\"reqParams.page=$event\"\n    />\n    <!-- 取消原因组件 -->\n    <OrderCancel ref=\"orderCancelCom\" />\n    <!-- 查看物流组件 -->\n    <OrderLogistics ref=\"orderLogisticsCom\" />\n  </div>\n</template>\n<script>\nimport { reactive, ref, watch } from 'vue'\nimport { orderStatus } from '@/api/constants'\nimport OrderItem from './components/order-item'\nimport OrderCancel from './components/order-cancel'\nimport OrderLogistics from './components/order-logistics'\nimport { confirmOrder, deleteOrder, findOrderList } from '@/api/order'\nimport Confirm from '@/components/library/Confirm'\nimport Message from '@/components/library/Message'\nexport default {\n  name: 'MemberOrder',\n  components: {\n    OrderItem,\n    OrderCancel,\n    OrderLogistics\n  },\n  setup () {\n    const activeName = ref('all')\n\n    // 筛选条件\n    const reqParams = reactive({\n      page: 1,\n      pageSize: 5,\n      orderState: 0\n    })\n    const orderList = ref([])\n    const loading = ref(false)\n    const total = ref(0)\n\n    const getOrderList = () => {\n      loading.value = true\n      findOrderList(reqParams).then(data => {\n        orderList.value = data.result.items\n        total.value = data.result.counts\n        loading.value = false\n      })\n    }\n    // 筛选条件变化重新加载\n    watch(reqParams, () => {\n      getOrderList()\n    }, { immediate: true })\n\n    // 点击选项卡\n    const tabClick = ({ index }) => {\n      reqParams.page = 1\n      reqParams.orderState = index\n    }\n\n    // 删除订单\n    const handlerDelete = (order) => {\n      Confirm({ text: '亲，您确认删除该订单吗？' }).then(() => {\n        deleteOrder(order.id).then(() => {\n          Message({ type: 'success', text: '删除成功' })\n          getOrderList()\n        })\n      }).catch(() => {})\n    }\n\n    return {\n      activeName,\n      orderStatus,\n      orderList,\n      tabClick,\n      loading,\n      total,\n      reqParams,\n      handlerDelete,\n      ...useCancel(),\n      ...useConfirm(),\n      ...useLogistics()\n    }\n  }\n}\n// 取消订单逻辑\nexport const useCancel = () => {\n  // 组件实例\n  const orderCancelCom = ref(null)\n  // 点击取消\n  const handlerCancel = (order) => {\n    orderCancelCom.value.open(order)\n  }\n  return { handlerCancel, orderCancelCom }\n}\n// 确认收货逻辑\nexport const useConfirm = () => {\n  const handlerConfirm = (order) => {\n    Confirm({ text: '亲，您确认收货吗？确认后货款将打给卖家。' }).then(() => {\n      confirmOrder(order.id).then(() => {\n        Message({ type: 'success', text: '确认收货成功' })\n        // 待收货--->待评价\n        order.orderState = 4\n      })\n    }).catch(() => {})\n  }\n  return { handlerConfirm }\n}\n// 查看物流逻辑\nexport const useLogistics = () => {\n  const orderLogisticsCom = ref(null)\n  const handlerLogistics = (order) => {\n    orderLogisticsCom.value.open(order)\n  }\n  return { handlerLogistics, orderLogisticsCom }\n}\n\n</script>\n<style scoped lang=\"less\">\n.member-order {\n  height: 100%;\n  background: #fff;\n}\n.order-list {\n  background: #fff;\n  padding: 20px;\n  position: relative;\n  min-height: 400px;\n}\n.loading {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: rgba(255,255,255,.9) url(../../../assets/images/loading.gif) no-repeat center;\n}\n.none {\n  height: 400px;\n  text-align: center;\n  line-height: 400px;\n  color: #999;\n}\n</style>\n"],"sourceRoot":""}]}