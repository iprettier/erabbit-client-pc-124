{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\goods\\components\\goods-image.vue?vue&type=template&id=73989c9e&scoped=true","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\goods\\components\\goods-image.vue","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1656924654079},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZTaG93IGFzIF92U2hvdywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtNzM5ODljOWUiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTczOTg5YzllIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImdvb2RzLWltYWdlIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBjbGFzczogIm1pZGRsZSIsCiAgcmVmOiAidGFyZ2V0Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInNtYWxsIgp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiDlpKflm74gIiksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibGFyZ2UiLAogICAgc3R5bGU6IFt7CiAgICAgIGJhY2tncm91bmRJbWFnZTogInVybCgiLmNvbmNhdCgkcHJvcHMuaW1hZ2VzWyRzZXR1cC5jdXJySW5kZXhdLCAiKSIpCiAgICB9LCAkc2V0dXAubGFyZ2VQb3NpdGlvbl0KICB9LCBudWxsLCA0CiAgLyogU1RZTEUgKi8KICApLCBbW192U2hvdywgJHNldHVwLnNob3ddXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDkuK3lm74gIiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgc3JjOiAkcHJvcHMuaW1hZ2VzWyRzZXR1cC5jdXJySW5kZXhdLAogICAgYWx0OiAiIgogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJzcmMiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDpga7nvanoibLlnZcgIiksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAibGF5ZXIiLAogICAgc3R5bGU6ICRzZXR1cC5sYXllclBvc2l0aW9uCiAgfSwgbnVsbCwgNAogIC8qIFNUWUxFICovCiAgKSwgW1tfdlNob3csICRzZXR1cC5zaG93XV0pXSwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDlsI/lm74gIiksIF9jcmVhdGVWTm9kZSgidWwiLCBfaG9pc3RlZF8zLCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRwcm9wcy5pbWFnZXMsIGZ1bmN0aW9uIChpbWcsIGkpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibGkiLCB7CiAgICAgIGtleTogaW1nLAogICAgICBjbGFzczogewogICAgICAgIGFjdGl2ZTogaSA9PT0gJHNldHVwLmN1cnJJbmRleAogICAgICB9CiAgICB9LCBbX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgICAgIG9uTW91c2VlbnRlcjogZnVuY3Rpb24gb25Nb3VzZWVudGVyKCRldmVudCkgewogICAgICAgIHJldHVybiAkc2V0dXAuY3VyckluZGV4ID0gaTsKICAgICAgfSwKICAgICAgc3JjOiBpbWcsCiAgICAgIGFsdDogIiIKICAgIH0sIG51bGwsIDQwCiAgICAvKiBQUk9QUywgSFlEUkFURV9FVkVOVFMgKi8KICAgICwgWyJvbk1vdXNlZW50ZXIiLCAic3JjIl0pXSwgMgogICAgLyogQ0xBU1MgKi8KICAgICk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0pOwp9KTs="},{"version":3,"sources":["E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\goods\\components\\goods-image.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AAIJ,EAAA,KAAK,EAAC,Q;AAAS,EAAA,GAAG,EAAC;;;AAMpB,EAAA,KAAK,EAAC;;;;;;uBAVZ,YAAA,CAeM,KAfN,EAAA,UAAA,EAeM,CAdJ,mBAAA,CAAA,MAAA,CAcI,E,gBAbJ,YAAA,CAA8G,KAA9G,EAA8G;AAA3F,IAAA,KAAK,EAAC,OAAqF;AAA5E,IAAA,KAAK,EAAA,CAAA;AAAA,MAAA,eAAA,gBAA2B,MAAA,CAAA,MAAA,CAAO,MAAA,CAAA,SAAP,CAA3B;AAAA,KAAA,EAAiD,MAAA,CAAA,aAAjD;AAAuE,GAA9G,E,IAAA,E;;AAAA,G,YAAa,MAAA,CAAA,I,GAaT,EAZJ,mBAAA,CAAA,MAAA,CAYI,EAXJ,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAAqC,KAArC,EAAqC;AAA/B,IAAA,GAAG,EAAE,MAAA,CAAA,MAAA,CAAO,MAAA,CAAA,SAAP,CAA0B;AAAP,IAAA,GAAG,EAAC;AAAG,GAArC,E,IAAA,E;;AAAA,I,OAAA,CAGI,EAFJ,mBAAA,CAAA,QAAA,CAEI,E,gBADJ,YAAA,CAA8D,KAA9D,EAA8D;AAA3C,IAAA,KAAK,EAAC,OAAqC;AAA5B,IAAA,KAAK,EAAE,MAAA,CAAA;AAAqB,GAA9D,E,IAAA,E;;AAAA,G,YAAa,MAAA,CAAA,I,GACT,CAJN,E;;AAAA,GAWI,EANJ,mBAAA,CAAA,MAAA,CAMI,EALJ,YAAA,CAIK,IAJL,EAAA,UAAA,EAIK,E,kBAHH,YAAA,CAEK,SAFL,EAEK,IAFL,EAEK,WAAA,CAFiB,MAAA,CAAA,MAEjB,EAFuB,UAAhB,GAAgB,EAAZ,CAAY,EAAX;yBAAjB,YAAA,CAEK,IAFL,EAEK;AAF0B,MAAA,GAAG,EAAE,GAE/B;AAFqC,MAAA,KAAK,EAAA;AAAA,QAAA,MAAA,EAAU,CAAC,KAAG,MAAA,CAAA;AAAd;AAE1C,KAFL,E,CACE,YAAA,CAAiD,KAAjD,EAAiD;AAA3C,MAAA,YAAU,EAAA,sBAAA,MAAA;AAAA,eAAE,MAAA,CAAA,SAAA,GAAU,CAAZ;AAAA,OAAiC;AAAjB,MAAA,GAAG,EAAE,GAAY;AAAP,MAAA,GAAG,EAAC;AAAG,KAAjD,E,IAAA,E;;AAAA,M,uBAAA,C,CADF,E;;AAAA,K;GAEK,CAFL,E;;AAAA,GAGG,EAJL,CAKI,CAfN,C","sourcesContent":["<template>\n  <div class=\"goods-image\">\n    <!-- 大图 -->\n    <div v-show=\"show\" class=\"large\" :style=\"[{backgroundImage:`url(${images[currIndex]})`},largePosition]\"></div>\n    <!-- 中图 -->\n    <div class=\"middle\" ref=\"target\">\n      <img :src=\"images[currIndex]\" alt=\"\">\n      <!-- 遮罩色块 -->\n      <div v-show=\"show\" class=\"layer\" :style=\"layerPosition\"></div>\n    </div>\n    <!-- 小图 -->\n    <ul class=\"small\">\n      <li v-for=\"(img,i) in images\" :key=\"img\" :class=\"{active:i===currIndex}\">\n        <img @mouseenter=\"currIndex=i\" :src=\"img\" alt=\"\">\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport { reactive, ref, watch } from 'vue'\nimport { useMouseInElement } from '@vueuse/core'\nexport default {\n  name: 'GoodsImage',\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup (props) {\n    // 当前预览图的索引\n    const currIndex = ref(0)\n\n    // 1. 是否显示遮罩和大图\n    const show = ref(false)\n    // 2. 遮罩的坐标(样式)\n    const layerPosition = reactive({\n      left: 0,\n      top: 0\n    })\n    // 3. 大图背景定位(样式)\n    const largePosition = reactive({\n      backgroundPositionX: 0,\n      backgroundPositionY: 0\n    })\n    // 4. 使用useMouseInElement得到基于元素左上角的坐标和是否离开元素数据\n    const target = ref(null)\n    const { elementX, elementY, isOutside } = useMouseInElement(target)\n    watch([elementX, elementY, isOutside], () => {\n      // 5. 根据得到数据设置样式数据和是否显示数据\n      show.value = !isOutside.value\n      // 计算坐标\n      const position = { x: 0, y: 0 }\n\n      if (elementX.value < 100) position.x = 0\n      else if (elementX.value > 300) position.x = 200\n      else position.x = elementX.value - 100\n\n      if (elementY.value < 100) position.y = 0\n      else if (elementY.value > 300) position.y = 200\n      else position.y = elementY.value - 100\n      // 给样式赋值\n      layerPosition.left = position.x + 'px'\n      layerPosition.top = position.y + 'px'\n      largePosition.backgroundPositionX = -2 * position.x + 'px'\n      largePosition.backgroundPositionY = -2 * position.y + 'px'\n    })\n\n    return { currIndex, show, layerPosition, largePosition, target }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-image {\n  width: 480px;\n  height: 400px;\n  position: relative;\n  display: flex;\n  z-index: 500;\n  .large {\n    position: absolute;\n    top: 0;\n    left: 412px;\n    width: 400px;\n    height: 400px;\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\n    background-repeat: no-repeat;\n    background-size: 800px 800px;\n    background-color: #f8f8f8;\n  }\n  .middle {\n    width: 400px;\n    height: 400px;\n    background: #f5f5f5;\n    position: relative;\n    cursor: move;\n    .layer {\n      width: 200px;\n      height: 200px;\n      background: rgba(0,0,0,.2);\n      left: 0;\n      top: 0;\n      position: absolute;\n    }\n  }\n  .small {\n    width: 80px;\n    li {\n      width: 68px;\n      height: 68px;\n      margin-left: 12px;\n      margin-bottom: 15px;\n      cursor: pointer;\n      &:hover,&.active {\n        border: 2px solid @xtxColor;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}