{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\store\\modules\\cart.js","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\store\\modules\\cart.js","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\eslint-loader\\index.js","mtime":1656924650183}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovXHU0RUUzXHU3ODAxL1Z1ZSBcdTRFRTNcdTc4MDEvZXJhYmJpdC1jbGllbnQtcGMtMTI0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6L1x1NEVFM1x1NzgwMS9WdWUgXHU0RUUzXHU3ODAxL2VyYWJiaXQtY2xpZW50LXBjLTEyNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBjaGVja0FsbENhcnQgYXMgX2NoZWNrQWxsQ2FydCwgZGVsZXRlQ2FydCBhcyBfZGVsZXRlQ2FydCwgZmluZENhcnQgYXMgX2ZpbmRDYXJ0LCBnZXROZXdDYXJ0R29vZHMsIGluc2VydENhcnQgYXMgX2luc2VydENhcnQsIG1lcmdlQ2FydCBhcyBfbWVyZ2VDYXJ0LCB1cGRhdGVDYXJ0IGFzIF91cGRhdGVDYXJ0IH0gZnJvbSAnQC9hcGkvY2FydCc7IC8vIOi0reeJqei9puaooeWdlwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6LSt54mp6L2m5ZWG5ZOB5YiX6KGoCiAgICAgIGxpc3Q6IFtdCiAgICB9OwogIH0sCiAgZ2V0dGVyczogewogICAgLy8g5pyJ5pWI5ZWG5ZOB5YiX6KGoCiAgICB2YWxpZExpc3Q6IGZ1bmN0aW9uIHZhbGlkTGlzdChzdGF0ZSkgewogICAgICAvLyDmnInmlYjllYblk4HvvJrlupPlrZjlpKfkuo4wICBzdG9jayAg5ZWG5ZOB5pyJ5pWI5qCH6K+G5Li6ICB0cnVlICBpc0VmZmVjdGl2ZQogICAgICByZXR1cm4gc3RhdGUubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGdvb2RzKSB7CiAgICAgICAgcmV0dXJuIGdvb2RzLnN0b2NrID4gMCAmJiBnb29kcy5pc0VmZmVjdGl2ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pyJ5pWI5ZWG5ZOB5oC75Lu25pWwCiAgICB2YWxpZFRvdGFsOiBmdW5jdGlvbiB2YWxpZFRvdGFsKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAgIHJldHVybiBnZXR0ZXJzLnZhbGlkTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHAsIGMpIHsKICAgICAgICByZXR1cm4gcCArIGMuY291bnQ7CiAgICAgIH0sIDApOwogICAgfSwKICAgIC8vIOacieaViOWVhuWTgeaAu+mHkeminQogICAgdmFsaWRBbW91bnQ6IGZ1bmN0aW9uIHZhbGlkQW1vdW50KHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAgIC8vIHJldHVybiAoZ2V0dGVycy52YWxpZExpc3QucmVkdWNlKChwLCBjKSA9PiBwICsgYy5ub3dQcmljZSAqIDEwMCAqIGMuY291bnQsIDApIC8gMTAwKS50b0ZpeGVkKDIpCiAgICAgIHJldHVybiBnZXR0ZXJzLnZhbGlkTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHAsIGMpIHsKICAgICAgICByZXR1cm4gcCArIE1hdGgucm91bmQoYy5ub3dQcmljZSAqIDEwMCkgKiBjLmNvdW50OwogICAgICB9LCAwKSAvIDEwMDsKICAgIH0sCiAgICAvLyDml6DmlYjllYblk4HliJfooagKICAgIGludmFsaWRMaXN0OiBmdW5jdGlvbiBpbnZhbGlkTGlzdChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGdvb2RzKSB7CiAgICAgICAgcmV0dXJuIGdvb2RzLnN0b2NrIDw9IDAgfHwgIWdvb2RzLmlzRWZmZWN0aXZlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlt7LpgInllYblk4HliJfooagKICAgIHNlbGVjdGVkTGlzdDogZnVuY3Rpb24gc2VsZWN0ZWRMaXN0KHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAgIHJldHVybiBnZXR0ZXJzLnZhbGlkTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5zZWxlY3RlZDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5bey6YCJ5ZWG5ZOB5oC75Lu25pWwCiAgICBzZWxlY3RlZFRvdGFsOiBmdW5jdGlvbiBzZWxlY3RlZFRvdGFsKHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAgIHJldHVybiBnZXR0ZXJzLnNlbGVjdGVkTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHAsIGMpIHsKICAgICAgICByZXR1cm4gcCArIGMuY291bnQ7CiAgICAgIH0sIDApOwogICAgfSwKICAgIC8vIOW3sumAieWVhuWTgeaAu+mHkeminQogICAgc2VsZWN0ZWRBbW91bnQ6IGZ1bmN0aW9uIHNlbGVjdGVkQW1vdW50KHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAgIHJldHVybiBnZXR0ZXJzLnNlbGVjdGVkTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKHAsIGMpIHsKICAgICAgICByZXR1cm4gcCArIE1hdGgucm91bmQoYy5ub3dQcmljZSAqIDEwMCkgKiBjLmNvdW50OwogICAgICB9LCAwKSAvIDEwMDsKICAgIH0sCiAgICAvLyDmmK/lkKblhajpgIkKICAgIGlzQ2hlY2tBbGw6IGZ1bmN0aW9uIGlzQ2hlY2tBbGwoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGdldHRlcnMudmFsaWRMaXN0Lmxlbmd0aCAhPT0gMCAmJiBnZXR0ZXJzLnNlbGVjdGVkTGlzdC5sZW5ndGggPT09IGdldHRlcnMudmFsaWRMaXN0Lmxlbmd0aDsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgLy8g5Yqg5YWl6LSt54mp6L2mCiAgICBpbnNlcnRDYXJ0OiBmdW5jdGlvbiBpbnNlcnRDYXJ0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIC8vIOe6puWumuWKoOWFpei0reeJqei9puWtl+auteW/hemhu+WSjOWQjuerr+S/neaMgeS4gOiHtCBwYXlsb2Fk5a+56LGhIOeahOWtl+autQogICAgICAvLyDlroPku6zmmK/vvJppZCBza3VJZCBuYW1lIGF0dHJzVGV4dCBwaWN0dXJlIHByaWNlIG5vd1ByaWNlIHNlbGVjdGVkIHN0b2NrIGNvdW50IGlzRWZmZWN0aXZlCiAgICAgIC8vIOaPkuWFpeaVsOaNruinhOWIme+8mgogICAgICAvLyAxLiDlhYjmib7kuIvmmK/lkKbmnInnm7jlkIzllYblk4EKICAgICAgLy8gMi4g5aaC5p6c5pyJ55u45ZCM55qE5ZWG5ZOB77yM5p+l6K+i5a6D55qE5pWw6YeP77yM57Sv5Yqg5YiwcGF5bG9hZOS4iu+8jOWGjeS/neWtmOacgOaWsOS9jee9ru+8jOWOn+adpeWVhuWTgemcgOimgeWIoOmZpAogICAgICAvLyAzLiDlpoLmnpzmsqHmnInnm7jlkIzllYblk4HvvIzkv53lrZjlnKjmnIDmlrDkvY3nva7ljbPlj68KICAgICAgdmFyIHNhbWVJbmRleCA9IHN0YXRlLmxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChnb29kcykgewogICAgICAgIHJldHVybiBnb29kcy5za3VJZCA9PT0gcGF5bG9hZC5za3VJZDsKICAgICAgfSk7CgogICAgICBpZiAoc2FtZUluZGV4ID4gLTEpIHsKICAgICAgICB2YXIgY291bnQgPSBzdGF0ZS5saXN0W3NhbWVJbmRleF0uY291bnQ7CiAgICAgICAgcGF5bG9hZC5jb3VudCArPSBjb3VudDsgLy8g5Yig6Zmk5Y6f5p2lCgogICAgICAgIHN0YXRlLmxpc3Quc3BsaWNlKHNhbWVJbmRleCwgMSk7CiAgICAgIH0gLy8g6L+95Yqg5paw55qECgoKICAgICAgc3RhdGUubGlzdC51bnNoaWZ0KHBheWxvYWQpOwogICAgfSwKICAgIC8vIOS/ruaUuei0reeJqei9puWVhuWTgQogICAgdXBkYXRlQ2FydDogZnVuY3Rpb24gdXBkYXRlQ2FydChzdGF0ZSwgZ29vZHMpIHsKICAgICAgLy8gZ29vZHMg5ZWG5ZOB5L+h5oGv77yabm93UHJpY2Ugc3RvY2sgaXNFZmZlY3RpdmUKICAgICAgLy8gZ29vZHMg5ZWG5ZOB5a+56LGh55qE5a2X5q615LiN5Zu65a6a77yM5a+56LGh5Lit5pyJ5ZOq5Lqb5a2X5q615bCx5pS55ZOq5Lqb5a2X5q6177yM5a2X5q6155qE5YC85ZCI55CG5omN5pS5CiAgICAgIC8vIGdvb2RzIOWVhuWTgeWvueixoSDlv4XpnIDmnIlTS1VJRAogICAgICB2YXIgdXBkYXRlR29vZHMgPSBzdGF0ZS5saXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5za3VJZCA9PT0gZ29vZHMuc2t1SWQ7CiAgICAgIH0pOwoKICAgICAgZm9yICh2YXIga2V5IGluIGdvb2RzKSB7CiAgICAgICAgaWYgKGdvb2RzW2tleV0gIT09IHVuZGVmaW5lZCAmJiBnb29kc1trZXldICE9PSBudWxsICYmIGdvb2RzW2tleV0gIT09ICcnKSB7CiAgICAgICAgICB1cGRhdGVHb29kc1trZXldID0gZ29vZHNba2V5XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyDliKDpmaTotK3nianovabllYblk4EKICAgIGRlbGV0ZUNhcnQ6IGZ1bmN0aW9uIGRlbGV0ZUNhcnQoc3RhdGUsIHNrdUlkKSB7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLmxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc2t1SWQgPT09IHNrdUlkOwogICAgICB9KTsKICAgICAgc3RhdGUubGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIC8vIOiuvue9rui0reeJqei9pgogICAgc2V0Q2FydDogZnVuY3Rpb24gc2V0Q2FydChzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvLyBwYXlsb2FkIOS4uuepuuaVsOe7hO+8jOa4heepuuOAguS4uuWPiOWAvOaVsOe7hO+8jOiuvue9ruOAggogICAgICBzdGF0ZS5saXN0ID0gcGF5bG9hZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOWQiOW5tui0reeJqei9pgogICAgbWVyZ2VDYXJ0OiBmdW5jdGlvbiBtZXJnZUNhcnQoY3R4KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNhcnRMaXN0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIOWHhuWkh+WQiOW5tueahOWPguaVsAogICAgICAgICAgICAgICAgY2FydExpc3QgPSBjdHguc3RhdGUubGlzdC5tYXAoZnVuY3Rpb24gKGdvb2RzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgc2t1SWQ6IGdvb2RzLnNrdUlkLAogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBnb29kcy5zZWxlY3RlZCwKICAgICAgICAgICAgICAgICAgICBjb3VudDogZ29vZHMuY291bnQKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX21lcmdlQ2FydChjYXJ0TGlzdCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIC8vIOWQiOW5tuaIkOWKn++8jOa4heepuuacrOWcsOi0reeJqei9pgogICAgICAgICAgICAgICAgY3R4LmNvbW1pdCgnc2V0Q2FydCcsIFtdKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS/ruaUueinhOagvAogICAgdXBkYXRlQ2FydFNrdTogZnVuY3Rpb24gdXBkYXRlQ2FydFNrdShjdHgsIF9yZWYpIHsKICAgICAgdmFyIG9sZFNrdUlkID0gX3JlZi5vbGRTa3VJZCwKICAgICAgICAgIG5ld1NrdSA9IF9yZWYubmV3U2t1OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChjdHgucm9vdFN0YXRlLnVzZXIucHJvZmlsZS50b2tlbikgewogICAgICAgICAgLy8g5bey55m75b2VCiAgICAgICAgICAvLyAxLiDmib7lh7rml6fnmoTllYblk4Hkv6Hmga8KICAgICAgICAgIC8vIDIuIOWIoOmZpOaXp+WVhuWTgeaVsOaNrgogICAgICAgICAgLy8gMy4g5Y6f5YWI5ZWG5ZOB55qE5pWw6YePK+aWsHNrdUlkCiAgICAgICAgICAvLyA0LiDmt7vliqDmlrDnmoTllYblk4EKICAgICAgICAgIHZhciBvbGRHb29kcyA9IGN0eC5zdGF0ZS5saXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2t1SWQgPT09IG9sZFNrdUlkOwogICAgICAgICAgfSk7CgogICAgICAgICAgX2RlbGV0ZUNhcnQoW29sZEdvb2RzLnNrdUlkXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfaW5zZXJ0Q2FydCh7CiAgICAgICAgICAgICAgc2t1SWQ6IG5ld1NrdS5za3VJZCwKICAgICAgICAgICAgICBjb3VudDogb2xkR29vZHMuY291bnQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF9maW5kQ2FydCgpOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjdHguY29tbWl0KCdzZXRDYXJ0JywgZGF0YS5yZXN1bHQpOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5pyq55m75b2VCiAgICAgICAgICAvLyAxLiDmib7lh7rml6fnmoTllYblk4Hkv6Hmga8KICAgICAgICAgIC8vIDIuIOWIoOmZpOaXp+WVhuWTgeaVsOaNrgogICAgICAgICAgLy8gMy4g5qC55o2u5paw55qEc2t15L+h5oGv5ZKM5pen55qE5ZWG5ZOB5L+h5oGv77yM5ZCI5bm25oiQ5LiA5p2h5paw55qE6LSt54mp6L2m5ZWG5ZOB5pWw5o2uCiAgICAgICAgICAvLyA0LiDmt7vliqDmlrDnmoTllYblk4EKICAgICAgICAgIHZhciBfb2xkR29vZHMgPSBjdHguc3RhdGUubGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnNrdUlkID09PSBvbGRTa3VJZDsKICAgICAgICAgIH0pOwoKICAgICAgICAgIGN0eC5jb21taXQoJ2RlbGV0ZUNhcnQnLCBvbGRTa3VJZCk7CiAgICAgICAgICB2YXIgc2t1SWQgPSBuZXdTa3Uuc2t1SWQsCiAgICAgICAgICAgICAgbm93UHJpY2UgPSBuZXdTa3UucHJpY2UsCiAgICAgICAgICAgICAgYXR0cnNUZXh0ID0gbmV3U2t1LnNwZWNzVGV4dCwKICAgICAgICAgICAgICBzdG9jayA9IG5ld1NrdS5pbnZlbnRvcnk7CgogICAgICAgICAgdmFyIG5ld0dvb2RzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfb2xkR29vZHMpLCB7fSwgewogICAgICAgICAgICBza3VJZDogc2t1SWQsCiAgICAgICAgICAgIG5vd1ByaWNlOiBub3dQcmljZSwKICAgICAgICAgICAgYXR0cnNUZXh0OiBhdHRyc1RleHQsCiAgICAgICAgICAgIHN0b2NrOiBzdG9jawogICAgICAgICAgfSk7CgogICAgICAgICAgY3R4LmNvbW1pdCgnaW5zZXJ0Q2FydCcsIG5ld0dvb2RzKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaJuemHj+WIoOmZpAogICAgYmF0Y2hEZWxldGVDYXJ0OiBmdW5jdGlvbiBiYXRjaERlbGV0ZUNhcnQoY3R4LCBpc0NsZWFyKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKGN0eC5yb290U3RhdGUudXNlci5wcm9maWxlLnRva2VuKSB7CiAgICAgICAgICAvLyDlt7LnmbvlvZUKICAgICAgICAgIHZhciBpZHMgPSBjdHguZ2V0dGVyc1tpc0NsZWFyID8gJ2ludmFsaWRMaXN0JyA6ICdzZWxlY3RlZExpc3QnXS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2t1SWQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfZGVsZXRlQ2FydChpZHMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX2ZpbmRDYXJ0KCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIC8vIOaJvuWHuumAieS4reeahOWVhuWTgeWIl+ihqO+8jOmBjeWOhuiwg+eUqOWIoOmZpOeahG11dGF0aW9ucwogICAgICAgICAgLy8gaXNDbGVhciDmnKogdHJ1ZSAg5Yig6Zmk5aSx5pWI5ZWG5ZOB5YiX6KGo77yM5ZCm5YiZ5LqL6YCJ5Lit55qE5ZWG5ZOB5YiX6KGoCiAgICAgICAgICBjdHguZ2V0dGVyc1tpc0NsZWFyID8gJ2ludmFsaWRMaXN0JyA6ICdzZWxlY3RlZExpc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ2RlbGV0ZUNhcnQnLCBpdGVtLnNrdUlkKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5YWo6YCJ5LiO5Y+W5raI5YWo6YCJCiAgICBjaGVja0FsbENhcnQ6IGZ1bmN0aW9uIGNoZWNrQWxsQ2FydChjdHgsIHNlbGVjdGVkKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKGN0eC5yb290U3RhdGUudXNlci5wcm9maWxlLnRva2VuKSB7CiAgICAgICAgICAvLyDlt7LnmbvlvZUKICAgICAgICAgIHZhciBpZHMgPSBjdHguZ2V0dGVycy52YWxpZExpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLnNrdUlkOwogICAgICAgICAgfSk7CgogICAgICAgICAgX2NoZWNrQWxsQ2FydCh7CiAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCwKICAgICAgICAgICAgaWRzOiBpZHMKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX2ZpbmRDYXJ0KCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIGN0eC5nZXR0ZXJzLnZhbGlkTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChnb29kcykgewogICAgICAgICAgICBjdHguY29tbWl0KCd1cGRhdGVDYXJ0JywgewogICAgICAgICAgICAgIHNrdUlkOiBnb29kcy5za3VJZCwKICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/ruaUuei0reeJqei9pu+8iOmAieS4reeKtuaAge+8jOaVsOmHj++8iQogICAgdXBkYXRlQ2FydDogZnVuY3Rpb24gdXBkYXRlQ2FydChjdHgsIHBheWxvYWQpIHsKICAgICAgLy8gcGF5bG9hZCDpnIDopoHvvJrlv4XpnIDmnIlza3VJZCAg5Y+v6IO977yac2VsZWN0ZWQgIGNvdW50CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKGN0eC5yb290U3RhdGUudXNlci5wcm9maWxlLnRva2VuKSB7CiAgICAgICAgICAvLyDlt7LnmbvlvZUKICAgICAgICAgIF91cGRhdGVDYXJ0KHBheWxvYWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX2ZpbmRDYXJ0KCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIGN0eC5jb21taXQoJ3VwZGF0ZUNhcnQnLCBwYXlsb2FkKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpOi0reeJqei9pgogICAgZGVsZXRlQ2FydDogZnVuY3Rpb24gZGVsZXRlQ2FydChjdHgsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY3R4LnJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudG9rZW4pIHsKICAgICAgICAgIC8vIOW3sueZu+W9lQogICAgICAgICAgX2RlbGV0ZUNhcnQoW3BheWxvYWRdKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF9maW5kQ2FydCgpOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjdHguY29tbWl0KCdzZXRDYXJ0JywgZGF0YS5yZXN1bHQpOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5pyq55m75b2VCiAgICAgICAgICAvLyDljZXmnaHliKDpmaQgcGF5bG9hZCDnjrDlnKggIOWwseaYr3NrdUlkCiAgICAgICAgICBjdHguY29tbWl0KCdkZWxldGVDYXJ0JywgcGF5bG9hZCk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDliqDlhaXotK3nianovaYKICAgIGluc2VydENhcnQ6IGZ1bmN0aW9uIGluc2VydENhcnQoY3R4LCBwYXlsb2FkKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKGN0eC5yb290U3RhdGUudXNlci5wcm9maWxlLnRva2VuKSB7CiAgICAgICAgICAvLyDlt7LnmbvlvZUKICAgICAgICAgIF9pbnNlcnRDYXJ0KHsKICAgICAgICAgICAgc2t1SWQ6IHBheWxvYWQuc2t1SWQsCiAgICAgICAgICAgIGNvdW50OiBwYXlsb2FkLmNvdW50CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF9maW5kQ2FydCgpOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjdHguY29tbWl0KCdzZXRDYXJ0JywgZGF0YS5yZXN1bHQpOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5pyq55m75b2VCiAgICAgICAgICBjdHguY29tbWl0KCdpbnNlcnRDYXJ0JywgcGF5bG9hZCk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bllYblk4HliJfooagKICAgIGZpbmRDYXJ0OiBmdW5jdGlvbiBmaW5kQ2FydChjdHgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY3R4LnJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudG9rZW4pIHsKICAgICAgICAgIC8vIOW3sueZu+W9lQogICAgICAgICAgX2ZpbmRDYXJ0KCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjdHguY29tbWl0KCdzZXRDYXJ0JywgZGF0YS5yZXN1bHQpOwogICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g5pyq55m75b2VCiAgICAgICAgICAvLyDlkIzml7blj5HpgIHor7fmsYLvvIjmnInlh6DkuKrllYblk4Hlj5Hlh6DkuKror7fmsYLvvInnrYnmiYDmnInor7fmsYLmiJDlip/vvIzkuIDlubbljrvkv67mlLnmnKzlnLDmlbDmja7jgIIKICAgICAgICAgIC8vIFByb21pc2UuYWxsKHByb21pc2XmlbDnu4QpLnRoZW4oKGRhdGFMaXN0KT0+e30pICDlkIzml7blj5Hor7fmsYLvvIzmiYDmnInor7fmsYLmiJDlip/vvIzlvpfliLDmiYDmnInmiJDlip/nu5PmnpwKICAgICAgICAgIC8vIFByb21pc2UucmVzb2x2ZSgpIFByb21pc2UucmVqZWN0KCkgbmV3IFByb21pc2UoKQogICAgICAgICAgLy8gUHJvbWlzZS5yYWNlKHByb21pc2XmlbDnu4QpLnRoZW4oKGRhdGEpPT57fSkg5ZCM5pe25Y+R6K+35rGC77yM5pyA5b+r55qE6K+35rGC5oiQ5Yqf77yM5b6X5Yiw5oiQ5Yqf57uT5p6cCiAgICAgICAgICB2YXIgcHJvbWlzZUFyciA9IGN0eC5zdGF0ZS5saXN0Lm1hcChmdW5jdGlvbiAoZ29vZHMpIHsKICAgICAgICAgICAgcmV0dXJuIGdldE5ld0NhcnRHb29kcyhnb29kcy5za3VJZCk7CiAgICAgICAgICB9KTsgLy8gZGF0YUxpc3TmiJDlip/nu5PmnpznmoTpm4blkIjvvIzmlbDmja7pobrluo/lkoxwcm9taXNlQXJy6aG65bqP5LiA6Ie077yM5a6D5Y+I5piv5qC55o2uc3RhdGUubGlzdOiAjOadpQoKICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VBcnIpLnRoZW4oZnVuY3Rpb24gKGRhdGFMaXN0KSB7CiAgICAgICAgICAgIC8vIOabtOaWsOacrOWcsOi0reeJqei9pgogICAgICAgICAgICBkYXRhTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhLCBpKSB7CiAgICAgICAgICAgICAgY3R4LmNvbW1pdCgndXBkYXRlQ2FydCcsIF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgc2t1SWQ6IGN0eC5zdGF0ZS5saXN0W2ldLnNrdUlkCiAgICAgICAgICAgICAgfSwgZGF0YS5yZXN1bHQpKTsKICAgICAgICAgICAgfSk7IC8vIOiwg+eUqHJlc29sdmXku6Pooajmk43kvZzmiJDlip8KCiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["F:/代码/Vue 代码/erabbit-client-pc-124/src/store/modules/cart.js"],"names":["checkAllCart","deleteCart","findCart","getNewCartGoods","insertCart","mergeCart","updateCart","namespaced","state","list","getters","validList","filter","goods","stock","isEffective","validTotal","reduce","p","c","count","validAmount","Math","round","nowPrice","invalidList","selectedList","item","selected","selectedTotal","selectedAmount","isCheckAll","length","mutations","payload","sameIndex","findIndex","skuId","splice","unshift","updateGoods","find","key","undefined","index","setCart","actions","ctx","cartList","map","commit","updateCartSku","oldSkuId","newSku","Promise","resolve","reject","rootState","user","profile","token","oldGoods","then","data","result","price","attrsText","specsText","inventory","newGoods","batchDeleteCart","isClear","ids","forEach","promiseArr","all","dataList","i"],"mappings":"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","sourcesContent":["import { checkAllCart, deleteCart, findCart, getNewCartGoods, insertCart, mergeCart, updateCart } from '@/api/cart'\n\n// 购物车模块\nexport default {\n  namespaced: true,\n  state () {\n    return {\n      // 购物车商品列表\n      list: []\n    }\n  },\n  getters: {\n    // 有效商品列表\n    validList (state) {\n      // 有效商品：库存大于0  stock  商品有效标识为  true  isEffective\n      return state.list.filter(goods => goods.stock > 0 && goods.isEffective)\n    },\n    // 有效商品总件数\n    validTotal (state, getters) {\n      return getters.validList.reduce((p, c) => p + c.count, 0)\n    },\n    // 有效商品总金额\n    validAmount (state, getters) {\n      // return (getters.validList.reduce((p, c) => p + c.nowPrice * 100 * c.count, 0) / 100).toFixed(2)\n      return getters.validList.reduce((p, c) => p + Math.round(c.nowPrice * 100) * c.count, 0) / 100\n    },\n    // 无效商品列表\n    invalidList (state) {\n      return state.list.filter(goods => goods.stock <= 0 || !goods.isEffective)\n    },\n    // 已选商品列表\n    selectedList (state, getters) {\n      return getters.validList.filter(item => item.selected)\n    },\n    // 已选商品总件数\n    selectedTotal (state, getters) {\n      return getters.selectedList.reduce((p, c) => p + c.count, 0)\n    },\n    // 已选商品总金额\n    selectedAmount (state, getters) {\n      return getters.selectedList.reduce((p, c) => p + Math.round(c.nowPrice * 100) * c.count, 0) / 100\n    },\n    // 是否全选\n    isCheckAll (state, getters) {\n      return getters.validList.length !== 0 && getters.selectedList.length === getters.validList.length\n    }\n  },\n  mutations: {\n    // 加入购物车\n    insertCart (state, payload) {\n      // 约定加入购物车字段必须和后端保持一致 payload对象 的字段\n      // 它们是：id skuId name attrsText picture price nowPrice selected stock count isEffective\n      // 插入数据规则：\n      // 1. 先找下是否有相同商品\n      // 2. 如果有相同的商品，查询它的数量，累加到payload上，再保存最新位置，原来商品需要删除\n      // 3. 如果没有相同商品，保存在最新位置即可\n      const sameIndex = state.list.findIndex(goods => goods.skuId === payload.skuId)\n      if (sameIndex > -1) {\n        const count = state.list[sameIndex].count\n        payload.count += count\n        // 删除原来\n        state.list.splice(sameIndex, 1)\n      }\n      // 追加新的\n      state.list.unshift(payload)\n    },\n    // 修改购物车商品\n    updateCart (state, goods) {\n      // goods 商品信息：nowPrice stock isEffective\n      // goods 商品对象的字段不固定，对象中有哪些字段就改哪些字段，字段的值合理才改\n      // goods 商品对象 必需有SKUID\n      const updateGoods = state.list.find(item => item.skuId === goods.skuId)\n      for (const key in goods) {\n        if (goods[key] !== undefined && goods[key] !== null && goods[key] !== '') {\n          updateGoods[key] = goods[key]\n        }\n      }\n    },\n    // 删除购物车商品\n    deleteCart (state, skuId) {\n      const index = state.list.findIndex(item => item.skuId === skuId)\n      state.list.splice(index, 1)\n    },\n    // 设置购物车\n    setCart (state, payload) {\n      // payload 为空数组，清空。为又值数组，设置。\n      state.list = payload\n    }\n  },\n  actions: {\n    // 合并购物车\n    async mergeCart (ctx) {\n      // 准备合并的参数\n      const cartList = ctx.state.list.map(goods => {\n        return {\n          skuId: goods.skuId,\n          selected: goods.selected,\n          count: goods.count\n        }\n      })\n      await mergeCart(cartList)\n      // 合并成功，清空本地购物车\n      ctx.commit('setCart', [])\n    },\n    // 修改规格\n    updateCartSku (ctx, { oldSkuId, newSku }) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          // 1. 找出旧的商品信息\n          // 2. 删除旧商品数据\n          // 3. 原先商品的数量+新skuId\n          // 4. 添加新的商品\n          const oldGoods = ctx.state.list.find(item => item.skuId === oldSkuId)\n          deleteCart([oldGoods.skuId]).then(() => {\n            return insertCart({ skuId: newSku.skuId, count: oldGoods.count })\n          }).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 1. 找出旧的商品信息\n          // 2. 删除旧商品数据\n          // 3. 根据新的sku信息和旧的商品信息，合并成一条新的购物车商品数据\n          // 4. 添加新的商品\n          const oldGoods = ctx.state.list.find(item => item.skuId === oldSkuId)\n          ctx.commit('deleteCart', oldSkuId)\n          const { skuId, price: nowPrice, specsText: attrsText, inventory: stock } = newSku\n          const newGoods = { ...oldGoods, skuId, nowPrice, attrsText, stock }\n          ctx.commit('insertCart', newGoods)\n          resolve()\n        }\n      })\n    },\n    // 批量删除\n    batchDeleteCart (ctx, isClear) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          const ids = ctx.getters[isClear ? 'invalidList' : 'selectedList'].map(item => item.skuId)\n          deleteCart(ids).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 找出选中的商品列表，遍历调用删除的mutations\n          // isClear 未 true  删除失效商品列表，否则事选中的商品列表\n          ctx.getters[isClear ? 'invalidList' : 'selectedList'].forEach(item => {\n            ctx.commit('deleteCart', item.skuId)\n          })\n          resolve()\n        }\n      })\n    },\n    // 全选与取消全选\n    checkAllCart (ctx, selected) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          const ids = ctx.getters.validList.map(item => item.skuId)\n          checkAllCart({ selected, ids }).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          ctx.getters.validList.forEach(goods => {\n            ctx.commit('updateCart', { skuId: goods.skuId, selected })\n          })\n          resolve()\n        }\n      })\n    },\n    // 修改购物车（选中状态，数量）\n    updateCart (ctx, payload) {\n      // payload 需要：必需有skuId  可能：selected  count\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          updateCart(payload).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          ctx.commit('updateCart', payload)\n          resolve()\n        }\n      })\n    },\n    // 删除购物车\n    deleteCart (ctx, payload) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          deleteCart([payload]).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 单条删除 payload 现在  就是skuId\n          ctx.commit('deleteCart', payload)\n          resolve()\n        }\n      })\n    },\n    // 加入购物车\n    insertCart (ctx, payload) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          insertCart({ skuId: payload.skuId, count: payload.count }).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          ctx.commit('insertCart', payload)\n          resolve()\n        }\n      })\n    },\n    // 获取商品列表\n    findCart (ctx) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          findCart().then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 同时发送请求（有几个商品发几个请求）等所有请求成功，一并去修改本地数据。\n          // Promise.all(promise数组).then((dataList)=>{})  同时发请求，所有请求成功，得到所有成功结果\n          // Promise.resolve() Promise.reject() new Promise()\n          // Promise.race(promise数组).then((data)=>{}) 同时发请求，最快的请求成功，得到成功结果\n          const promiseArr = ctx.state.list.map(goods => {\n            return getNewCartGoods(goods.skuId)\n          })\n          // dataList成功结果的集合，数据顺序和promiseArr顺序一致，它又是根据state.list而来\n          Promise.all(promiseArr).then(dataList => {\n            // 更新本地购物车\n            dataList.forEach((data, i) => {\n              ctx.commit('updateCart', { skuId: ctx.state.list[i].skuId, ...data.result })\n            })\n            // 调用resolve代表操作成功\n            resolve()\n          })\n        }\n      })\n    }\n  }\n}\n"]}]}