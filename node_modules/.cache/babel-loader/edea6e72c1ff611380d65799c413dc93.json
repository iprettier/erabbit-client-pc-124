{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\hooks\\index.js","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\hooks\\index.js","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\eslint-loader\\index.js","mtime":1656924650183}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkU6L1x1NzY3RVx1NUVBNlx1N0Y1MVx1NzZEOFx1NEUwQlx1OEY3RC9cdTlFRDFcdTlBNkN2dWUvVnVlMy4wXHU1QzBGXHU1MTU0XHU5QzlDXHU1MTNGXHU5ODc5XHU3NkVFXHU4RDQ0XHU2NTk5L1x1NEVFM1x1NzgwMS9lcmFiYml0LWNsaWVudC1wYy0xMjQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwovLyDmj5DkvpvlpI3nlKjpgLvovpHnmoTlh73mlbDvvIjpkqnlrZDvvIkKaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIHVzZUludGVydmFsRm4gfSBmcm9tICdAdnVldXNlL2NvcmUnOwppbXBvcnQgeyByZWYsIG9uVW5tb3VudGVkIH0gZnJvbSAndnVlJzsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKLyoqCiAqIOaVsOaNruaHkuWKoOi9veWHveaVsAogKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCAtIERvbeWvueixoQogKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcGlGbiAtIEFQSeWHveaVsAogKi8KCmV4cG9ydCB2YXIgdXNlTGF6eURhdGEgPSBmdW5jdGlvbiB1c2VMYXp5RGF0YShhcGlGbikgewogIHZhciByZXN1bHQgPSByZWYoW10pOwogIHZhciB0YXJnZXQgPSByZWYobnVsbCk7IC8vIHN0b3Ag5YGc5q2i6KeC5a+fCgogIHZhciBfdXNlSW50ZXJzZWN0aW9uT2JzZXIgPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciggLy8g55uR5ZCs55qE55uu5qCH5YWD57SgCiAgdGFyZ2V0LCBmdW5jdGlvbiAoX3JlZiwgb2JzZXJ2ZXJFbGVtZW50KSB7CiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAxKSwKICAgICAgICBpc0ludGVyc2VjdGluZyA9IF9yZWYyWzBdLmlzSW50ZXJzZWN0aW5nOwoKICAgIC8vIGlzSW50ZXJzZWN0aW5nIOaYr+WQpui/m+WFpeWPr+inhuWMugogICAgaWYgKGlzSW50ZXJzZWN0aW5nKSB7CiAgICAgIHN0b3AoKTsgLy8g6LCD55SoQVBJ5Ye95pWw6I635Y+W5pWw5o2uCgogICAgICAvLyDosIPnlKhBUEnlh73mlbDojrflj5bmlbDmja4KICAgICAgYXBpRm4oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmVzdWx0LnZhbHVlID0gZGF0YS5yZXN1bHQ7CiAgICAgIH0pOwogICAgfQogIH0sIC8vIOmFjee9rumAiemhue+8jOebuOS6pOeahOavlOS+i+Wkp+S6jjDlsLHop6blj5EKICB7CiAgICB0aHJlc2hvbGQ6IDAKICB9KSwKICAgICAgc3RvcCA9IF91c2VJbnRlcnNlY3Rpb25PYnNlci5zdG9wOwoKICByZXR1cm4gewogICAgcmVzdWx0OiByZXN1bHQsCiAgICB0YXJnZXQ6IHRhcmdldAogIH07Cn07Ci8qKgogKiDmlK/ku5jlgJLorqHml7blh73mlbAKICovCgpleHBvcnQgdmFyIHVzZVBheVRpbWUgPSBmdW5jdGlvbiB1c2VQYXlUaW1lKCkgewogIC8vIOWAkuiuoeaXtumAu+i+kQogIHZhciB0aW1lID0gcmVmKDApOwogIHZhciB0aW1lVGV4dCA9IHJlZignJyk7CgogIHZhciBfdXNlSW50ZXJ2YWxGbiA9IHVzZUludGVydmFsRm4oZnVuY3Rpb24gKCkgewogICAgdGltZS52YWx1ZS0tOwogICAgdGltZVRleHQudmFsdWUgPSBkYXlqcy51bml4KHRpbWUudmFsdWUpLmZvcm1hdCgnbW3liIZzc+enkicpOwoKICAgIGlmICh0aW1lLnZhbHVlIDw9IDApIHsKICAgICAgcGF1c2UoKTsKICAgIH0KICB9LCAxMDAwLCBmYWxzZSksCiAgICAgIHBhdXNlID0gX3VzZUludGVydmFsRm4ucGF1c2UsCiAgICAgIHJlc3VtZSA9IF91c2VJbnRlcnZhbEZuLnJlc3VtZTsKCiAgb25Vbm1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgcGF1c2UoKTsKICB9KTsgLy8g5byA5ZCv5a6a5pe25ZmoIGNvdW50ZG93biDlgJLorqHml7bml7bpl7QKCiAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoY291bnRkb3duKSB7CiAgICB0aW1lLnZhbHVlID0gY291bnRkb3duOwogICAgdGltZVRleHQudmFsdWUgPSBkYXlqcy51bml4KHRpbWUudmFsdWUpLmZvcm1hdCgnbW3liIZzc+enkicpOwogICAgcmVzdW1lKCk7CiAgfTsKCiAgcmV0dXJuIHsKICAgIHN0YXJ0OiBzdGFydCwKICAgIHRpbWVUZXh0OiB0aW1lVGV4dAogIH07Cn07"},{"version":3,"sources":["E:/百度网盘下载/黑马vue/Vue3.0小兔鲜儿项目资料/代码/erabbit-client-pc-124/src/hooks/index.js"],"names":["useIntersectionObserver","useIntervalFn","ref","onUnmounted","dayjs","useLazyData","apiFn","result","target","observerElement","isIntersecting","stop","then","data","value","threshold","usePayTime","time","timeText","unix","format","pause","resume","start","countdown"],"mappings":";AAAA;AACA,SAASA,uBAAT,EAAkCC,aAAlC,QAAuD,cAAvD;AACA,SAASC,GAAT,EAAcC,WAAd,QAAiC,KAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AACpC,MAAMC,MAAM,GAAGL,GAAG,CAAC,EAAD,CAAlB;AACA,MAAMM,MAAM,GAAGN,GAAG,CAAC,IAAD,CAAlB,CAFoC,CAGpC;;AACA,8BAAiBF,uBAAuB,EACtC;AACAQ,EAAAA,MAFsC,EAGtC,gBAAuBC,eAAvB,EAA2C;AAAA;AAAA,QAAvCC,cAAuC,YAAvCA,cAAuC;;AACzC;AACA,QAAIA,cAAJ,EAAoB;AAClBC,MAAAA,IAAI,GADc,CAElB;;AAAA;AACAL,MAAAA,KAAK,GAAGM,IAAR,CAAa,UAAAC,IAAI,EAAI;AACnBN,QAAAA,MAAM,CAACO,KAAP,GAAeD,IAAI,CAACN,MAApB;AACD,OAFD;AAGD;AACF,GAZqC,EAatC;AACA;AACEQ,IAAAA,SAAS,EAAE;AADb,GAdsC,CAAxC;AAAA,MAAQJ,IAAR,yBAAQA,IAAR;;AAkBA,SAAO;AAAEJ,IAAAA,MAAM,EAANA,MAAF;AAAUC,IAAAA,MAAM,EAANA;AAAV,GAAP;AACD,CAvBM;AAyBP;AACA;AACA;;AACA,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B;AACA,MAAMC,IAAI,GAAGf,GAAG,CAAC,CAAD,CAAhB;AACA,MAAMgB,QAAQ,GAAGhB,GAAG,CAAC,EAAD,CAApB;;AACA,uBAA0BD,aAAa,CAAC,YAAM;AAC5CgB,IAAAA,IAAI,CAACH,KAAL;AACAI,IAAAA,QAAQ,CAACJ,KAAT,GAAiBV,KAAK,CAACe,IAAN,CAAWF,IAAI,CAACH,KAAhB,EAAuBM,MAAvB,CAA8B,QAA9B,CAAjB;;AACA,QAAIH,IAAI,CAACH,KAAL,IAAc,CAAlB,EAAqB;AACnBO,MAAAA,KAAK;AACN;AACF,GANsC,EAMpC,IANoC,EAM9B,KAN8B,CAAvC;AAAA,MAAQA,KAAR,kBAAQA,KAAR;AAAA,MAAeC,MAAf,kBAAeA,MAAf;;AAOAnB,EAAAA,WAAW,CAAC,YAAM;AAChBkB,IAAAA,KAAK;AACN,GAFU,CAAX,CAX8B,CAe9B;;AACA,MAAME,KAAK,GAAG,SAARA,KAAQ,CAACC,SAAD,EAAe;AAC3BP,IAAAA,IAAI,CAACH,KAAL,GAAaU,SAAb;AACAN,IAAAA,QAAQ,CAACJ,KAAT,GAAiBV,KAAK,CAACe,IAAN,CAAWF,IAAI,CAACH,KAAhB,EAAuBM,MAAvB,CAA8B,QAA9B,CAAjB;AACAE,IAAAA,MAAM;AACP,GAJD;;AAMA,SAAO;AACLC,IAAAA,KAAK,EAALA,KADK;AAELL,IAAAA,QAAQ,EAARA;AAFK,GAAP;AAID,CA1BM","sourcesContent":["// 提供复用逻辑的函数（钩子）\nimport { useIntersectionObserver, useIntervalFn } from '@vueuse/core'\nimport { ref, onUnmounted } from 'vue'\nimport dayjs from 'dayjs'\n\n/**\n * 数据懒加载函数\n * @param {Element} target - Dom对象\n * @param {Function} apiFn - API函数\n */\nexport const useLazyData = (apiFn) => {\n  const result = ref([])\n  const target = ref(null)\n  // stop 停止观察\n  const { stop } = useIntersectionObserver(\n    // 监听的目标元素\n    target,\n    ([{ isIntersecting }], observerElement) => {\n      // isIntersecting 是否进入可视区\n      if (isIntersecting) {\n        stop()\n        // 调用API函数获取数据\n        apiFn().then(data => {\n          result.value = data.result\n        })\n      }\n    },\n    // 配置选项，相交的比例大于0就触发\n    {\n      threshold: 0\n    }\n  )\n  return { result, target }\n}\n\n/**\n * 支付倒计时函数\n */\nexport const usePayTime = () => {\n  // 倒计时逻辑\n  const time = ref(0)\n  const timeText = ref('')\n  const { pause, resume } = useIntervalFn(() => {\n    time.value--\n    timeText.value = dayjs.unix(time.value).format('mm分ss秒')\n    if (time.value <= 0) {\n      pause()\n    }\n  }, 1000, false)\n  onUnmounted(() => {\n    pause()\n  })\n\n  // 开启定时器 countdown 倒计时时间\n  const start = (countdown) => {\n    time.value = countdown\n    timeText.value = dayjs.unix(time.value).format('mm分ss秒')\n    resume()\n  }\n\n  return {\n    start,\n    timeText\n  }\n}\n"]}]}