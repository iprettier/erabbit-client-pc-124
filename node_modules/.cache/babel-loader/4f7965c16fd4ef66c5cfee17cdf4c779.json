{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\store\\modules\\cart.js","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\store\\modules\\cart.js","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\eslint-loader\\index.js","mtime":1656924650183}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU3NjdFXHU1RUE2XHU3RjUxXHU3NkQ4XHU0RTBCXHU4RjdEL1x1OUVEMVx1OUE2Q3Z1ZS9WdWUzLjBcdTVDMEZcdTUxNTRcdTlDOUNcdTUxM0ZcdTk4NzlcdTc2RUVcdThENDRcdTY1OTkvXHU0RUUzXHU3ODAxL2VyYWJiaXQtY2xpZW50LXBjLTEyNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJFOi9cdTc2N0VcdTVFQTZcdTdGNTFcdTc2RDhcdTRFMEJcdThGN0QvXHU5RUQxXHU5QTZDdnVlL1Z1ZTMuMFx1NUMwRlx1NTE1NFx1OUM5Q1x1NTEzRlx1OTg3OVx1NzZFRVx1OEQ0NFx1NjU5OS9cdTRFRTNcdTc4MDEvZXJhYmJpdC1jbGllbnQtcGMtMTI0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCB7IGNoZWNrQWxsQ2FydCBhcyBfY2hlY2tBbGxDYXJ0LCBkZWxldGVDYXJ0IGFzIF9kZWxldGVDYXJ0LCBmaW5kQ2FydCBhcyBfZmluZENhcnQsIGdldE5ld0NhcnRHb29kcywgaW5zZXJ0Q2FydCBhcyBfaW5zZXJ0Q2FydCwgbWVyZ2VDYXJ0IGFzIF9tZXJnZUNhcnQsIHVwZGF0ZUNhcnQgYXMgX3VwZGF0ZUNhcnQgfSBmcm9tICdAL2FwaS9jYXJ0JzsgLy8g6LSt54mp6L2m5qih5Z2XCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDotK3nianovabllYblk4HliJfooagKICAgICAgbGlzdDogW10KICAgIH07CiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvLyDmnInmlYjllYblk4HliJfooagKICAgIHZhbGlkTGlzdDogZnVuY3Rpb24gdmFsaWRMaXN0KHN0YXRlKSB7CiAgICAgIC8vIOacieaViOWVhuWTge+8muW6k+WtmOWkp+S6jjAgIHN0b2NrICDllYblk4HmnInmlYjmoIfor4bkuLogIHRydWUgIGlzRWZmZWN0aXZlCiAgICAgIHJldHVybiBzdGF0ZS5saXN0LmZpbHRlcihmdW5jdGlvbiAoZ29vZHMpIHsKICAgICAgICByZXR1cm4gZ29vZHMuc3RvY2sgPiAwICYmIGdvb2RzLmlzRWZmZWN0aXZlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmnInmlYjllYblk4HmgLvku7bmlbAKICAgIHZhbGlkVG90YWw6IGZ1bmN0aW9uIHZhbGlkVG90YWwoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGdldHRlcnMudmFsaWRMaXN0LnJlZHVjZShmdW5jdGlvbiAocCwgYykgewogICAgICAgIHJldHVybiBwICsgYy5jb3VudDsKICAgICAgfSwgMCk7CiAgICB9LAogICAgLy8g5pyJ5pWI5ZWG5ZOB5oC76YeR6aKdCiAgICB2YWxpZEFtb3VudDogZnVuY3Rpb24gdmFsaWRBbW91bnQoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgLy8gcmV0dXJuIChnZXR0ZXJzLnZhbGlkTGlzdC5yZWR1Y2UoKHAsIGMpID0+IHAgKyBjLm5vd1ByaWNlICogMTAwICogYy5jb3VudCwgMCkgLyAxMDApLnRvRml4ZWQoMikKICAgICAgcmV0dXJuIGdldHRlcnMudmFsaWRMaXN0LnJlZHVjZShmdW5jdGlvbiAocCwgYykgewogICAgICAgIHJldHVybiBwICsgTWF0aC5yb3VuZChjLm5vd1ByaWNlICogMTAwKSAqIGMuY291bnQ7CiAgICAgIH0sIDApIC8gMTAwOwogICAgfSwKICAgIC8vIOaXoOaViOWVhuWTgeWIl+ihqAogICAgaW52YWxpZExpc3Q6IGZ1bmN0aW9uIGludmFsaWRMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5saXN0LmZpbHRlcihmdW5jdGlvbiAoZ29vZHMpIHsKICAgICAgICByZXR1cm4gZ29vZHMuc3RvY2sgPD0gMCB8fCAhZ29vZHMuaXNFZmZlY3RpdmU7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW3sumAieWVhuWTgeWIl+ihqAogICAgc2VsZWN0ZWRMaXN0OiBmdW5jdGlvbiBzZWxlY3RlZExpc3Qoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGdldHRlcnMudmFsaWRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnNlbGVjdGVkOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlt7LpgInllYblk4HmgLvku7bmlbAKICAgIHNlbGVjdGVkVG90YWw6IGZ1bmN0aW9uIHNlbGVjdGVkVG90YWwoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGdldHRlcnMuc2VsZWN0ZWRMaXN0LnJlZHVjZShmdW5jdGlvbiAocCwgYykgewogICAgICAgIHJldHVybiBwICsgYy5jb3VudDsKICAgICAgfSwgMCk7CiAgICB9LAogICAgLy8g5bey6YCJ5ZWG5ZOB5oC76YeR6aKdCiAgICBzZWxlY3RlZEFtb3VudDogZnVuY3Rpb24gc2VsZWN0ZWRBbW91bnQoc3RhdGUsIGdldHRlcnMpIHsKICAgICAgcmV0dXJuIGdldHRlcnMuc2VsZWN0ZWRMaXN0LnJlZHVjZShmdW5jdGlvbiAocCwgYykgewogICAgICAgIHJldHVybiBwICsgTWF0aC5yb3VuZChjLm5vd1ByaWNlICogMTAwKSAqIGMuY291bnQ7CiAgICAgIH0sIDApIC8gMTAwOwogICAgfSwKICAgIC8vIOaYr+WQpuWFqOmAiQogICAgaXNDaGVja0FsbDogZnVuY3Rpb24gaXNDaGVja0FsbChzdGF0ZSwgZ2V0dGVycykgewogICAgICByZXR1cm4gZ2V0dGVycy52YWxpZExpc3QubGVuZ3RoICE9PSAwICYmIGdldHRlcnMuc2VsZWN0ZWRMaXN0Lmxlbmd0aCA9PT0gZ2V0dGVycy52YWxpZExpc3QubGVuZ3RoOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICAvLyDliqDlhaXotK3nianovaYKICAgIGluc2VydENhcnQ6IGZ1bmN0aW9uIGluc2VydENhcnQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgLy8g57qm5a6a5Yqg5YWl6LSt54mp6L2m5a2X5q615b+F6aG75ZKM5ZCO56uv5L+d5oyB5LiA6Ie0IHBheWxvYWTlr7nosaEg55qE5a2X5q61CiAgICAgIC8vIOWug+S7rOaYr++8mmlkIHNrdUlkIG5hbWUgYXR0cnNUZXh0IHBpY3R1cmUgcHJpY2Ugbm93UHJpY2Ugc2VsZWN0ZWQgc3RvY2sgY291bnQgaXNFZmZlY3RpdmUKICAgICAgLy8g5o+S5YWl5pWw5o2u6KeE5YiZ77yaCiAgICAgIC8vIDEuIOWFiOaJvuS4i+aYr+WQpuacieebuOWQjOWVhuWTgQogICAgICAvLyAyLiDlpoLmnpzmnInnm7jlkIznmoTllYblk4HvvIzmn6Xor6LlroPnmoTmlbDph4/vvIzntK/liqDliLBwYXlsb2Fk5LiK77yM5YaN5L+d5a2Y5pyA5paw5L2N572u77yM5Y6f5p2l5ZWG5ZOB6ZyA6KaB5Yig6ZmkCiAgICAgIC8vIDMuIOWmguaenOayoeacieebuOWQjOWVhuWTge+8jOS/neWtmOWcqOacgOaWsOS9jee9ruWNs+WPrwogICAgICB2YXIgc2FtZUluZGV4ID0gc3RhdGUubGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGdvb2RzKSB7CiAgICAgICAgcmV0dXJuIGdvb2RzLnNrdUlkID09PSBwYXlsb2FkLnNrdUlkOwogICAgICB9KTsKCiAgICAgIGlmIChzYW1lSW5kZXggPiAtMSkgewogICAgICAgIHZhciBjb3VudCA9IHN0YXRlLmxpc3Rbc2FtZUluZGV4XS5jb3VudDsKICAgICAgICBwYXlsb2FkLmNvdW50ICs9IGNvdW50OyAvLyDliKDpmaTljp/mnaUKCiAgICAgICAgc3RhdGUubGlzdC5zcGxpY2Uoc2FtZUluZGV4LCAxKTsKICAgICAgfSAvLyDov73liqDmlrDnmoQKCgogICAgICBzdGF0ZS5saXN0LnVuc2hpZnQocGF5bG9hZCk7CiAgICB9LAogICAgLy8g5L+u5pS56LSt54mp6L2m5ZWG5ZOBCiAgICB1cGRhdGVDYXJ0OiBmdW5jdGlvbiB1cGRhdGVDYXJ0KHN0YXRlLCBnb29kcykgewogICAgICAvLyBnb29kcyDllYblk4Hkv6Hmga/vvJpub3dQcmljZSBzdG9jayBpc0VmZmVjdGl2ZQogICAgICAvLyBnb29kcyDllYblk4Hlr7nosaHnmoTlrZfmrrXkuI3lm7rlrprvvIzlr7nosaHkuK3mnInlk6rkupvlrZfmrrXlsLHmlLnlk6rkupvlrZfmrrXvvIzlrZfmrrXnmoTlgLzlkIjnkIbmiY3mlLkKICAgICAgLy8gZ29vZHMg5ZWG5ZOB5a+56LGhIOW/hemcgOaciVNLVUlECiAgICAgIHZhciB1cGRhdGVHb29kcyA9IHN0YXRlLmxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnNrdUlkID09PSBnb29kcy5za3VJZDsKICAgICAgfSk7CgogICAgICBmb3IgKHZhciBrZXkgaW4gZ29vZHMpIHsKICAgICAgICBpZiAoZ29vZHNba2V5XSAhPT0gdW5kZWZpbmVkICYmIGdvb2RzW2tleV0gIT09IG51bGwgJiYgZ29vZHNba2V5XSAhPT0gJycpIHsKICAgICAgICAgIHVwZGF0ZUdvb2RzW2tleV0gPSBnb29kc1trZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOWIoOmZpOi0reeJqei9puWVhuWTgQogICAgZGVsZXRlQ2FydDogZnVuY3Rpb24gZGVsZXRlQ2FydChzdGF0ZSwgc2t1SWQpIHsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUubGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5za3VJZCA9PT0gc2t1SWQ7CiAgICAgIH0pOwogICAgICBzdGF0ZS5saXN0LnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy8g6K6+572u6LSt54mp6L2mCiAgICBzZXRDYXJ0OiBmdW5jdGlvbiBzZXRDYXJ0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIC8vIHBheWxvYWQg5Li656m65pWw57uE77yM5riF56m644CC5Li65Y+I5YC85pWw57uE77yM6K6+572u44CCCiAgICAgIHN0YXRlLmxpc3QgPSBwYXlsb2FkOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g5ZCI5bm26LSt54mp6L2mCiAgICBtZXJnZUNhcnQ6IGZ1bmN0aW9uIG1lcmdlQ2FydChjdHgpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY2FydExpc3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8g5YeG5aSH5ZCI5bm255qE5Y+C5pWwCiAgICAgICAgICAgICAgICBjYXJ0TGlzdCA9IGN0eC5zdGF0ZS5saXN0Lm1hcChmdW5jdGlvbiAoZ29vZHMpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBza3VJZDogZ29vZHMuc2t1SWQsCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGdvb2RzLnNlbGVjdGVkLAogICAgICAgICAgICAgICAgICAgIGNvdW50OiBnb29kcy5jb3VudAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfbWVyZ2VDYXJ0KGNhcnRMaXN0KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8g5ZCI5bm25oiQ5Yqf77yM5riF56m65pys5Zyw6LSt54mp6L2mCiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCdzZXRDYXJ0JywgW10pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5L+u5pS56KeE5qC8CiAgICB1cGRhdGVDYXJ0U2t1OiBmdW5jdGlvbiB1cGRhdGVDYXJ0U2t1KGN0eCwgX3JlZikgewogICAgICB2YXIgb2xkU2t1SWQgPSBfcmVmLm9sZFNrdUlkLAogICAgICAgICAgbmV3U2t1ID0gX3JlZi5uZXdTa3U7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaWYgKGN0eC5yb290U3RhdGUudXNlci5wcm9maWxlLnRva2VuKSB7CiAgICAgICAgICAvLyDlt7LnmbvlvZUKICAgICAgICAgIC8vIDEuIOaJvuWHuuaXp+eahOWVhuWTgeS/oeaBrwogICAgICAgICAgLy8gMi4g5Yig6Zmk5pen5ZWG5ZOB5pWw5o2uCiAgICAgICAgICAvLyAzLiDljp/lhYjllYblk4HnmoTmlbDph48r5pawc2t1SWQKICAgICAgICAgIC8vIDQuIOa3u+WKoOaWsOeahOWVhuWTgQogICAgICAgICAgdmFyIG9sZEdvb2RzID0gY3R4LnN0YXRlLmxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5za3VJZCA9PT0gb2xkU2t1SWQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfZGVsZXRlQ2FydChbb2xkR29vZHMuc2t1SWRdKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF9pbnNlcnRDYXJ0KHsKICAgICAgICAgICAgICBza3VJZDogbmV3U2t1LnNrdUlkLAogICAgICAgICAgICAgIGNvdW50OiBvbGRHb29kcy5jb3VudAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX2ZpbmRDYXJ0KCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIC8vIDEuIOaJvuWHuuaXp+eahOWVhuWTgeS/oeaBrwogICAgICAgICAgLy8gMi4g5Yig6Zmk5pen5ZWG5ZOB5pWw5o2uCiAgICAgICAgICAvLyAzLiDmoLnmja7mlrDnmoRza3Xkv6Hmga/lkozml6fnmoTllYblk4Hkv6Hmga/vvIzlkIjlubbmiJDkuIDmnaHmlrDnmoTotK3nianovabllYblk4HmlbDmja4KICAgICAgICAgIC8vIDQuIOa3u+WKoOaWsOeahOWVhuWTgQogICAgICAgICAgdmFyIF9vbGRHb29kcyA9IGN0eC5zdGF0ZS5saXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2t1SWQgPT09IG9sZFNrdUlkOwogICAgICAgICAgfSk7CgogICAgICAgICAgY3R4LmNvbW1pdCgnZGVsZXRlQ2FydCcsIG9sZFNrdUlkKTsKICAgICAgICAgIHZhciBza3VJZCA9IG5ld1NrdS5za3VJZCwKICAgICAgICAgICAgICBub3dQcmljZSA9IG5ld1NrdS5wcmljZSwKICAgICAgICAgICAgICBhdHRyc1RleHQgPSBuZXdTa3Uuc3BlY3NUZXh0LAogICAgICAgICAgICAgIHN0b2NrID0gbmV3U2t1LmludmVudG9yeTsKCiAgICAgICAgICB2YXIgbmV3R29vZHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9vbGRHb29kcyksIHt9LCB7CiAgICAgICAgICAgIHNrdUlkOiBza3VJZCwKICAgICAgICAgICAgbm93UHJpY2U6IG5vd1ByaWNlLAogICAgICAgICAgICBhdHRyc1RleHQ6IGF0dHJzVGV4dCwKICAgICAgICAgICAgc3RvY2s6IHN0b2NrCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjdHguY29tbWl0KCdpbnNlcnRDYXJ0JywgbmV3R29vZHMpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5om56YeP5Yig6ZmkCiAgICBiYXRjaERlbGV0ZUNhcnQ6IGZ1bmN0aW9uIGJhdGNoRGVsZXRlQ2FydChjdHgsIGlzQ2xlYXIpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY3R4LnJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudG9rZW4pIHsKICAgICAgICAgIC8vIOW3sueZu+W9lQogICAgICAgICAgdmFyIGlkcyA9IGN0eC5nZXR0ZXJzW2lzQ2xlYXIgPyAnaW52YWxpZExpc3QnIDogJ3NlbGVjdGVkTGlzdCddLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5za3VJZDsKICAgICAgICAgIH0pOwoKICAgICAgICAgIF9kZWxldGVDYXJ0KGlkcykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfZmluZENhcnQoKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgY3R4LmNvbW1pdCgnc2V0Q2FydCcsIGRhdGEucmVzdWx0KTsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOacqueZu+W9lQogICAgICAgICAgLy8g5om+5Ye66YCJ5Lit55qE5ZWG5ZOB5YiX6KGo77yM6YGN5Y6G6LCD55So5Yig6Zmk55qEbXV0YXRpb25zCiAgICAgICAgICAvLyBpc0NsZWFyIOacqiB0cnVlICDliKDpmaTlpLHmlYjllYblk4HliJfooajvvIzlkKbliJnkuovpgInkuK3nmoTllYblk4HliJfooagKICAgICAgICAgIGN0eC5nZXR0ZXJzW2lzQ2xlYXIgPyAnaW52YWxpZExpc3QnIDogJ3NlbGVjdGVkTGlzdCddLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgY3R4LmNvbW1pdCgnZGVsZXRlQ2FydCcsIGl0ZW0uc2t1SWQpOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlhajpgInkuI7lj5bmtojlhajpgIkKICAgIGNoZWNrQWxsQ2FydDogZnVuY3Rpb24gY2hlY2tBbGxDYXJ0KGN0eCwgc2VsZWN0ZWQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY3R4LnJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudG9rZW4pIHsKICAgICAgICAgIC8vIOW3sueZu+W9lQogICAgICAgICAgdmFyIGlkcyA9IGN0eC5nZXR0ZXJzLnZhbGlkTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2t1SWQ7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfY2hlY2tBbGxDYXJ0KHsKICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLAogICAgICAgICAgICBpZHM6IGlkcwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfZmluZENhcnQoKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgY3R4LmNvbW1pdCgnc2V0Q2FydCcsIGRhdGEucmVzdWx0KTsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOacqueZu+W9lQogICAgICAgICAgY3R4LmdldHRlcnMudmFsaWRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGdvb2RzKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3VwZGF0ZUNhcnQnLCB7CiAgICAgICAgICAgICAgc2t1SWQ6IGdvb2RzLnNrdUlkLAogICAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+u5pS56LSt54mp6L2m77yI6YCJ5Lit54q25oCB77yM5pWw6YeP77yJCiAgICB1cGRhdGVDYXJ0OiBmdW5jdGlvbiB1cGRhdGVDYXJ0KGN0eCwgcGF5bG9hZCkgewogICAgICAvLyBwYXlsb2FkIOmcgOimge+8muW/hemcgOaciXNrdUlkICDlj6/og73vvJpzZWxlY3RlZCAgY291bnQKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY3R4LnJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudG9rZW4pIHsKICAgICAgICAgIC8vIOW3sueZu+W9lQogICAgICAgICAgX3VwZGF0ZUNhcnQocGF5bG9hZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfZmluZENhcnQoKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgY3R4LmNvbW1pdCgnc2V0Q2FydCcsIGRhdGEucmVzdWx0KTsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOacqueZu+W9lQogICAgICAgICAgY3R4LmNvbW1pdCgndXBkYXRlQ2FydCcsIHBheWxvYWQpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk6LSt54mp6L2mCiAgICBkZWxldGVDYXJ0OiBmdW5jdGlvbiBkZWxldGVDYXJ0KGN0eCwgcGF5bG9hZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChjdHgucm9vdFN0YXRlLnVzZXIucHJvZmlsZS50b2tlbikgewogICAgICAgICAgLy8g5bey55m75b2VCiAgICAgICAgICBfZGVsZXRlQ2FydChbcGF5bG9hZF0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX2ZpbmRDYXJ0KCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIC8vIOWNleadoeWIoOmZpCBwYXlsb2FkIOeOsOWcqCAg5bCx5pivc2t1SWQKICAgICAgICAgIGN0eC5jb21taXQoJ2RlbGV0ZUNhcnQnLCBwYXlsb2FkKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWKoOWFpei0reeJqei9pgogICAgaW5zZXJ0Q2FydDogZnVuY3Rpb24gaW5zZXJ0Q2FydChjdHgsIHBheWxvYWQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY3R4LnJvb3RTdGF0ZS51c2VyLnByb2ZpbGUudG9rZW4pIHsKICAgICAgICAgIC8vIOW3sueZu+W9lQogICAgICAgICAgX2luc2VydENhcnQoewogICAgICAgICAgICBza3VJZDogcGF5bG9hZC5za3VJZCwKICAgICAgICAgICAgY291bnQ6IHBheWxvYWQuY291bnQKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX2ZpbmRDYXJ0KCk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIGN0eC5jb21taXQoJ2luc2VydENhcnQnLCBwYXlsb2FkKTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluWVhuWTgeWIl+ihqAogICAgZmluZENhcnQ6IGZ1bmN0aW9uIGZpbmRDYXJ0KGN0eCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChjdHgucm9vdFN0YXRlLnVzZXIucHJvZmlsZS50b2tlbikgewogICAgICAgICAgLy8g5bey55m75b2VCiAgICAgICAgICBfZmluZENhcnQoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldENhcnQnLCBkYXRhLnJlc3VsdCk7CiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDmnKrnmbvlvZUKICAgICAgICAgIC8vIOWQjOaXtuWPkemAgeivt+axgu+8iOacieWHoOS4quWVhuWTgeWPkeWHoOS4quivt+axgu+8ieetieaJgOacieivt+axguaIkOWKn++8jOS4gOW5tuWOu+S/ruaUueacrOWcsOaVsOaNruOAggogICAgICAgICAgLy8gUHJvbWlzZS5hbGwocHJvbWlzZeaVsOe7hCkudGhlbigoZGF0YUxpc3QpPT57fSkgIOWQjOaXtuWPkeivt+axgu+8jOaJgOacieivt+axguaIkOWKn++8jOW+l+WIsOaJgOacieaIkOWKn+e7k+aenAogICAgICAgICAgLy8gUHJvbWlzZS5yZXNvbHZlKCkgUHJvbWlzZS5yZWplY3QoKSBuZXcgUHJvbWlzZSgpCiAgICAgICAgICAvLyBQcm9taXNlLnJhY2UocHJvbWlzZeaVsOe7hCkudGhlbigoZGF0YSk9Pnt9KSDlkIzml7blj5Hor7fmsYLvvIzmnIDlv6vnmoTor7fmsYLmiJDlip/vvIzlvpfliLDmiJDlip/nu5PmnpwKICAgICAgICAgIHZhciBwcm9taXNlQXJyID0gY3R4LnN0YXRlLmxpc3QubWFwKGZ1bmN0aW9uIChnb29kcykgewogICAgICAgICAgICByZXR1cm4gZ2V0TmV3Q2FydEdvb2RzKGdvb2RzLnNrdUlkKTsKICAgICAgICAgIH0pOyAvLyBkYXRhTGlzdOaIkOWKn+e7k+aenOeahOmbhuWQiO+8jOaVsOaNrumhuuW6j+WSjHByb21pc2VBcnLpobrluo/kuIDoh7TvvIzlroPlj4jmmK/moLnmja5zdGF0ZS5saXN06ICM5p2lCgogICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZUFycikudGhlbihmdW5jdGlvbiAoZGF0YUxpc3QpIHsKICAgICAgICAgICAgLy8g5pu05paw5pys5Zyw6LSt54mp6L2mCiAgICAgICAgICAgIGRhdGFMaXN0LmZvckVhY2goZnVuY3Rpb24gKGRhdGEsIGkpIHsKICAgICAgICAgICAgICBjdHguY29tbWl0KCd1cGRhdGVDYXJ0JywgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICBza3VJZDogY3R4LnN0YXRlLmxpc3RbaV0uc2t1SWQKICAgICAgICAgICAgICB9LCBkYXRhLnJlc3VsdCkpOwogICAgICAgICAgICB9KTsgLy8g6LCD55SocmVzb2x2ZeS7o+ihqOaTjeS9nOaIkOWKnwoKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:/百度网盘下载/黑马vue/Vue3.0小兔鲜儿项目资料/代码/erabbit-client-pc-124/src/store/modules/cart.js"],"names":["checkAllCart","deleteCart","findCart","getNewCartGoods","insertCart","mergeCart","updateCart","namespaced","state","list","getters","validList","filter","goods","stock","isEffective","validTotal","reduce","p","c","count","validAmount","Math","round","nowPrice","invalidList","selectedList","item","selected","selectedTotal","selectedAmount","isCheckAll","length","mutations","payload","sameIndex","findIndex","skuId","splice","unshift","updateGoods","find","key","undefined","index","setCart","actions","ctx","cartList","map","commit","updateCartSku","oldSkuId","newSku","Promise","resolve","reject","rootState","user","profile","token","oldGoods","then","data","result","price","attrsText","specsText","inventory","newGoods","batchDeleteCart","isClear","ids","forEach","promiseArr","all","dataList","i"],"mappings":"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","sourcesContent":["import { checkAllCart, deleteCart, findCart, getNewCartGoods, insertCart, mergeCart, updateCart } from '@/api/cart'\n\n// 购物车模块\nexport default {\n  namespaced: true,\n  state () {\n    return {\n      // 购物车商品列表\n      list: []\n    }\n  },\n  getters: {\n    // 有效商品列表\n    validList (state) {\n      // 有效商品：库存大于0  stock  商品有效标识为  true  isEffective\n      return state.list.filter(goods => goods.stock > 0 && goods.isEffective)\n    },\n    // 有效商品总件数\n    validTotal (state, getters) {\n      return getters.validList.reduce((p, c) => p + c.count, 0)\n    },\n    // 有效商品总金额\n    validAmount (state, getters) {\n      // return (getters.validList.reduce((p, c) => p + c.nowPrice * 100 * c.count, 0) / 100).toFixed(2)\n      return getters.validList.reduce((p, c) => p + Math.round(c.nowPrice * 100) * c.count, 0) / 100\n    },\n    // 无效商品列表\n    invalidList (state) {\n      return state.list.filter(goods => goods.stock <= 0 || !goods.isEffective)\n    },\n    // 已选商品列表\n    selectedList (state, getters) {\n      return getters.validList.filter(item => item.selected)\n    },\n    // 已选商品总件数\n    selectedTotal (state, getters) {\n      return getters.selectedList.reduce((p, c) => p + c.count, 0)\n    },\n    // 已选商品总金额\n    selectedAmount (state, getters) {\n      return getters.selectedList.reduce((p, c) => p + Math.round(c.nowPrice * 100) * c.count, 0) / 100\n    },\n    // 是否全选\n    isCheckAll (state, getters) {\n      return getters.validList.length !== 0 && getters.selectedList.length === getters.validList.length\n    }\n  },\n  mutations: {\n    // 加入购物车\n    insertCart (state, payload) {\n      // 约定加入购物车字段必须和后端保持一致 payload对象 的字段\n      // 它们是：id skuId name attrsText picture price nowPrice selected stock count isEffective\n      // 插入数据规则：\n      // 1. 先找下是否有相同商品\n      // 2. 如果有相同的商品，查询它的数量，累加到payload上，再保存最新位置，原来商品需要删除\n      // 3. 如果没有相同商品，保存在最新位置即可\n      const sameIndex = state.list.findIndex(goods => goods.skuId === payload.skuId)\n      if (sameIndex > -1) {\n        const count = state.list[sameIndex].count\n        payload.count += count\n        // 删除原来\n        state.list.splice(sameIndex, 1)\n      }\n      // 追加新的\n      state.list.unshift(payload)\n    },\n    // 修改购物车商品\n    updateCart (state, goods) {\n      // goods 商品信息：nowPrice stock isEffective\n      // goods 商品对象的字段不固定，对象中有哪些字段就改哪些字段，字段的值合理才改\n      // goods 商品对象 必需有SKUID\n      const updateGoods = state.list.find(item => item.skuId === goods.skuId)\n      for (const key in goods) {\n        if (goods[key] !== undefined && goods[key] !== null && goods[key] !== '') {\n          updateGoods[key] = goods[key]\n        }\n      }\n    },\n    // 删除购物车商品\n    deleteCart (state, skuId) {\n      const index = state.list.findIndex(item => item.skuId === skuId)\n      state.list.splice(index, 1)\n    },\n    // 设置购物车\n    setCart (state, payload) {\n      // payload 为空数组，清空。为又值数组，设置。\n      state.list = payload\n    }\n  },\n  actions: {\n    // 合并购物车\n    async mergeCart (ctx) {\n      // 准备合并的参数\n      const cartList = ctx.state.list.map(goods => {\n        return {\n          skuId: goods.skuId,\n          selected: goods.selected,\n          count: goods.count\n        }\n      })\n      await mergeCart(cartList)\n      // 合并成功，清空本地购物车\n      ctx.commit('setCart', [])\n    },\n    // 修改规格\n    updateCartSku (ctx, { oldSkuId, newSku }) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          // 1. 找出旧的商品信息\n          // 2. 删除旧商品数据\n          // 3. 原先商品的数量+新skuId\n          // 4. 添加新的商品\n          const oldGoods = ctx.state.list.find(item => item.skuId === oldSkuId)\n          deleteCart([oldGoods.skuId]).then(() => {\n            return insertCart({ skuId: newSku.skuId, count: oldGoods.count })\n          }).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 1. 找出旧的商品信息\n          // 2. 删除旧商品数据\n          // 3. 根据新的sku信息和旧的商品信息，合并成一条新的购物车商品数据\n          // 4. 添加新的商品\n          const oldGoods = ctx.state.list.find(item => item.skuId === oldSkuId)\n          ctx.commit('deleteCart', oldSkuId)\n          const { skuId, price: nowPrice, specsText: attrsText, inventory: stock } = newSku\n          const newGoods = { ...oldGoods, skuId, nowPrice, attrsText, stock }\n          ctx.commit('insertCart', newGoods)\n          resolve()\n        }\n      })\n    },\n    // 批量删除\n    batchDeleteCart (ctx, isClear) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          const ids = ctx.getters[isClear ? 'invalidList' : 'selectedList'].map(item => item.skuId)\n          deleteCart(ids).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 找出选中的商品列表，遍历调用删除的mutations\n          // isClear 未 true  删除失效商品列表，否则事选中的商品列表\n          ctx.getters[isClear ? 'invalidList' : 'selectedList'].forEach(item => {\n            ctx.commit('deleteCart', item.skuId)\n          })\n          resolve()\n        }\n      })\n    },\n    // 全选与取消全选\n    checkAllCart (ctx, selected) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          const ids = ctx.getters.validList.map(item => item.skuId)\n          checkAllCart({ selected, ids }).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          ctx.getters.validList.forEach(goods => {\n            ctx.commit('updateCart', { skuId: goods.skuId, selected })\n          })\n          resolve()\n        }\n      })\n    },\n    // 修改购物车（选中状态，数量）\n    updateCart (ctx, payload) {\n      // payload 需要：必需有skuId  可能：selected  count\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          updateCart(payload).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          ctx.commit('updateCart', payload)\n          resolve()\n        }\n      })\n    },\n    // 删除购物车\n    deleteCart (ctx, payload) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          deleteCart([payload]).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 单条删除 payload 现在  就是skuId\n          ctx.commit('deleteCart', payload)\n          resolve()\n        }\n      })\n    },\n    // 加入购物车\n    insertCart (ctx, payload) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          insertCart({ skuId: payload.skuId, count: payload.count }).then(() => {\n            return findCart()\n          }).then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          ctx.commit('insertCart', payload)\n          resolve()\n        }\n      })\n    },\n    // 获取商品列表\n    findCart (ctx) {\n      return new Promise((resolve, reject) => {\n        if (ctx.rootState.user.profile.token) {\n          // 已登录\n          findCart().then(data => {\n            ctx.commit('setCart', data.result)\n            resolve()\n          })\n        } else {\n          // 未登录\n          // 同时发送请求（有几个商品发几个请求）等所有请求成功，一并去修改本地数据。\n          // Promise.all(promise数组).then((dataList)=>{})  同时发请求，所有请求成功，得到所有成功结果\n          // Promise.resolve() Promise.reject() new Promise()\n          // Promise.race(promise数组).then((data)=>{}) 同时发请求，最快的请求成功，得到成功结果\n          const promiseArr = ctx.state.list.map(goods => {\n            return getNewCartGoods(goods.skuId)\n          })\n          // dataList成功结果的集合，数据顺序和promiseArr顺序一致，它又是根据state.list而来\n          Promise.all(promiseArr).then(dataList => {\n            // 更新本地购物车\n            dataList.forEach((data, i) => {\n              ctx.commit('updateCart', { skuId: ctx.state.list[i].skuId, ...data.result })\n            })\n            // 调用resolve代表操作成功\n            resolve()\n          })\n        }\n      })\n    }\n  }\n}\n"]}]}