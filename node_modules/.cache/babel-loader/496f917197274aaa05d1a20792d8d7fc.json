{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\goods\\components\\goods-sku.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\goods\\components\\goods-sku.vue","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgcG93ZXJTZXQgZnJvbSAnQC92ZW5kZXIvcG93ZXItc2V0JzsKdmFyIHNwbGl0ZXIgPSAn4piFJzsgLy8g5b6X5Yiw5LiA5Liq6Lev5b6E5a2X5YW45a+56LGhCgp2YXIgZ2V0UGF0aE1hcCA9IGZ1bmN0aW9uIGdldFBhdGhNYXAoc2t1cykgewogIC8vIDEuIOW+l+WIsOaJgOacieeahHNrdembhuWQiCAgcHJvcHMuZ29vZHMuc2t1cwogIC8vIDIuIOS7juaJgOacieeahHNrdeS4reetm+mAieWHuuacieaViOeahHNrdQogIC8vIDMuIOagueaNruacieaViOeahHNrdeS9v+eUqHBvd2VyLXNldOeul+azleW+l+WIsOWtkOmbhgogIC8vIDQuIOagueaNruWtkOmbhuW+gOi3r+W+hOWtl+WFuOWvueixoeS4reWtmOWCqCBrZXktdmFsdWUKICB2YXIgcGF0aE1hcCA9IHt9OwogIHNrdXMuZm9yRWFjaChmdW5jdGlvbiAoc2t1KSB7CiAgICBpZiAoc2t1LmludmVudG9yeSA+IDApIHsKICAgICAgLy8g6K6h566X5b2T5YmN5pyJ5bqT5a2Y55qEc2t155qE5a2Q6ZuGCiAgICAgIC8vIOS+i+Wmgu+8mlsxLDIsM10gPT0+IFtbMV0sWzJdLFszXSxbMSwyXSxbMSwzXSxbMiwzXSxbMSwyLDNdXQogICAgICAvLyDlj6/pgInlgLzmlbDnu4QKICAgICAgdmFyIHZhbHVlQXJyID0gc2t1LnNwZWNzLm1hcChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgcmV0dXJuIHZhbC52YWx1ZU5hbWU7CiAgICAgIH0pOyAvLyDlj6/pgInlgLzmlbDnu4Qg5a2Q6ZuGCgogICAgICB2YXIgdmFsdWVBcnJQb3dlclNldCA9IHBvd2VyU2V0KHZhbHVlQXJyKTsgLy8g6YGN5Y6G5a2Q6ZuG77yM5b6AcGF0aE1hcOaPkuWFpeaVsOaNrgoKICAgICAgdmFsdWVBcnJQb3dlclNldC5mb3JFYWNoKGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICAvLyDmoLnmja5hcnLlvpfliLDlrZfnrKbkuLLnmoRrZXnvvIznuqblrpprZXnmmK/vvJpbJ+iTneiJsicsJ+e+juWbvSddID09PT4gJ+iTneiJsuKYhee+juWbvScKICAgICAgICB2YXIga2V5ID0gYXJyLmpvaW4oc3BsaXRlcik7IC8vIOe7mXBhdGhNYXDorr7nva7mlbDmja4KCiAgICAgICAgaWYgKHBhdGhNYXBba2V5XSkgewogICAgICAgICAgcGF0aE1hcFtrZXldLnB1c2goc2t1LmlkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGF0aE1hcFtrZXldID0gW3NrdS5pZF07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9KTsKICByZXR1cm4gcGF0aE1hcDsKfTsgLy8g6I635Y+W5bey6YCJ5Lit55qE5YC85pWw57uECgoKdmFyIGdldFNlbGVjdGVkVmFsdWVzID0gZnVuY3Rpb24gZ2V0U2VsZWN0ZWRWYWx1ZXMoc3BlY3MpIHsKICB2YXIgYXJyID0gW107CiAgc3BlY3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgLy8g6YCJ5Lit55qE5oyJ6ZKu5a+56LGhCiAgICB2YXIgc2VsZXRlZFZhbCA9IGl0ZW0udmFsdWVzLmZpbmQoZnVuY3Rpb24gKHZhbCkgewogICAgICByZXR1cm4gdmFsLnNlbGVjdGVkOwogICAgfSk7CiAgICBhcnIucHVzaChzZWxldGVkVmFsID8gc2VsZXRlZFZhbC5uYW1lIDogdW5kZWZpbmVkKTsKICB9KTsKICByZXR1cm4gYXJyOwp9OyAvLyDmm7TmlrDmjInpkq7npoHnlKjnirbmgIEKCgp2YXIgdXBkYXRlRGlzYWJsZWRTdGF0dXMgPSBmdW5jdGlvbiB1cGRhdGVEaXNhYmxlZFN0YXR1cyhzcGVjcywgcGF0aE1hcCkgewogIC8vIDEuIOe6puWumuavj+S4gOS4quaMiemSrueahOeKtuaAgeeUseacrOi6q+eahGRpc2FibGVk5pWw5o2u5p2l5o6n5Yi2CiAgc3BlY3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkgewogICAgdmFyIHNlbGVjdGVkVmFsdWVzID0gZ2V0U2VsZWN0ZWRWYWx1ZXMoc3BlY3MpOwogICAgaXRlbS52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7CiAgICAgIC8vIDIuIOWIpOaWreW9k+WJjeaYr+WQpumAieS4re+8jOaYr+mAieS4reS4jeeUqOWIpOaWrQogICAgICBpZiAodmFsLnNlbGVjdGVkKSByZXR1cm47IC8vIDMuIOaLv+W9k+WJjeeahOWAvOaMieeFp+mhuuW6j+Wll+WFpemAieS4reeahOWAvOaVsOe7hAoKICAgICAgc2VsZWN0ZWRWYWx1ZXNbaV0gPSB2YWwubmFtZTsgLy8gNC4g5YmU6ZmkdW5kZWZpbmVk5pWw5o2u77yM5oyJ54Wn5YiG6ZqU56ym5ou85o6la2V5CgogICAgICB2YXIga2V5ID0gc2VsZWN0ZWRWYWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfSkuam9pbihzcGxpdGVyKTsgLy8gNS4g5ou/552Aa2V55Y676Lev5b6E5a2X5YW45Lit5p+l5om+5piv5ZCm5pyJ5pWw5o2u77yM5pyJ5Y+v5Lul54K55Ye777yM5rKh5pyJ5bCx56aB55So77yIdHJ1Ze+8iQoKICAgICAgdmFsLmRpc2FibGVkID0gIXBhdGhNYXBba2V5XTsKICAgIH0pOwogIH0pOwp9OyAvLyDpu5jorqTpgInkuK0KCgp2YXIgaW5pdERlZmF1bHRTZWxlY3RlZCA9IGZ1bmN0aW9uIGluaXREZWZhdWx0U2VsZWN0ZWQoZ29vZHMsIHNrdUlkKSB7CiAgLy8gMS4g5om+5Ye6c2t155qE5L+h5oGvCiAgLy8gMi4g6YGN5Y6G5q+P5LiA5Liq5oyJ6ZKu77yM5oyJ6ZKu55qE5YC85ZKMc2t16K6w5b2V55qE5YC855u45ZCM77yM5bCx6YCJ5Lit44CCCiAgdmFyIHNrdSA9IGdvb2RzLnNrdXMuZmluZChmdW5jdGlvbiAoc2t1KSB7CiAgICByZXR1cm4gc2t1LmlkID09PSBza3VJZDsKICB9KTsKICBnb29kcy5zcGVjcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7CiAgICB2YXIgdmFsID0gaXRlbS52YWx1ZXMuZmluZChmdW5jdGlvbiAodmFsKSB7CiAgICAgIHJldHVybiB2YWwubmFtZSA9PT0gc2t1LnNwZWNzW2ldLnZhbHVlTmFtZTsKICAgIH0pOwogICAgdmFsLnNlbGVjdGVkID0gdHJ1ZTsKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR29vZHNTa3UnLAogIHByb3BzOiB7CiAgICBnb29kczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfSwKICAgIHNrdUlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICB2YXIgcGF0aE1hcCA9IGdldFBhdGhNYXAocHJvcHMuZ29vZHMuc2t1cyk7IC8vIOagueaNrnNrdUlk5Yid5aeL5YyW6YCJ5LitCgogICAgaWYgKHByb3BzLnNrdUlkKSB7CiAgICAgIGluaXREZWZhdWx0U2VsZWN0ZWQocHJvcHMuZ29vZHMsIHByb3BzLnNrdUlkKTsKICAgIH0gLy8g4piG57uE5Lu25Yid5aeL5YyW77ya5pu05paw5oyJ6ZKu56aB55So54q25oCBCgoKICAgIHVwZGF0ZURpc2FibGVkU3RhdHVzKHByb3BzLmdvb2RzLnNwZWNzLCBwYXRoTWFwKTsgLy8gMS4g6YCJ5Lit5LiO5Y+W5raI6YCJ5Lit77yM57qm5a6a5Zyo5q+P5LiA5Liq5oyJ6ZKu6YO95oul5pyJ6Ieq5bex55qE6YCJ5Lit54q25oCB5pWw5o2u77yac2VsZWN0ZWQKICAgIC8vIDEuMSDngrnlh7vnmoTmmK/lt7LpgInkuK3vvIzlj6rpnIDopoHlj5bmtojlvZPliY3nmoTpgInkuK0KICAgIC8vIDEuMiDngrnlh7vnmoTmmK/mnKrpgInkuK3vvIzmiorlkIzkuIDkuKrop4TmoLznmoTmjInpkq7mlLnmiJDmnKrpgInkuK3vvIzlvZPliY3ngrnlh7vnmoTmlLnmiJDpgInkuK0KCiAgICB2YXIgY2hhbmdlU2t1ID0gZnVuY3Rpb24gY2hhbmdlU2t1KGl0ZW0sIHZhbCkgewogICAgICAvLyDlvZPmjInpkq7mmK/npoHnlKjnmoTpmLvmraLnqIvluo/ov5DooYwKICAgICAgaWYgKHZhbC5kaXNhYmxlZCkgcmV0dXJuOyAvLyDlpoLmnpzkuI3mmK/npoHnlKjmraPluLjov5DooYwKCiAgICAgIGlmICh2YWwuc2VsZWN0ZWQpIHsKICAgICAgICB2YWwuc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtLnZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWxJdGVtKSB7CiAgICAgICAgICB2YWxJdGVtLnNlbGVjdGVkID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgICAgdmFsLnNlbGVjdGVkID0gdHJ1ZTsKICAgICAgfSAvLyDimIbngrnlh7vmjInpkq7ml7bvvJrmm7TmlrDmjInpkq7npoHnlKjnirbmgIEKCgogICAgICB1cGRhdGVEaXNhYmxlZFN0YXR1cyhwcm9wcy5nb29kcy5zcGVjcywgcGF0aE1hcCk7IC8vIOWwhuS9oOmAieaLqeeahHNrdeS/oeaBr+mAmuefpeeItue7hOS7tntza3VJZCxwcmljZSxvbGRQcmljZSxpbnZlbnRvcnksc3BlY3NUZXh0fQogICAgICAvLyAxLiDpgInmi6nlrozmlbTnmoRza3Xnu4TlkIjmjInpkq7vvIzmiY3lj6/ku6Xmi7/liLDov5nkupvkv6Hmga/vvIzmj5DkuqTniLbnu4Tku7YKICAgICAgLy8gMi4g5LiN5piv5a6M5pW055qEc2t157uE5ZCI5oyJ6ZKu77yM5o+Q5Lqk56m65a+56LGh54i257uE5Lu2CgogICAgICB2YXIgdmFsaWRTZWxlY3RlZFZhbHVlcyA9IGdldFNlbGVjdGVkVmFsdWVzKHByb3BzLmdvb2RzLnNwZWNzKS5maWx0ZXIoZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdjsKICAgICAgfSk7CgogICAgICBpZiAodmFsaWRTZWxlY3RlZFZhbHVlcy5sZW5ndGggPT09IHByb3BzLmdvb2RzLnNwZWNzLmxlbmd0aCkgewogICAgICAgIC8vIOWujOaVtAogICAgICAgIHZhciBza3VJZHMgPSBwYXRoTWFwW3ZhbGlkU2VsZWN0ZWRWYWx1ZXMuam9pbihzcGxpdGVyKV07CiAgICAgICAgdmFyIHNrdSA9IHByb3BzLmdvb2RzLnNrdXMuZmluZChmdW5jdGlvbiAoc2t1KSB7CiAgICAgICAgICByZXR1cm4gc2t1LmlkID09PSBza3VJZHNbMF07CiAgICAgICAgfSk7CiAgICAgICAgZW1pdCgnY2hhbmdlJywgewogICAgICAgICAgc2t1SWQ6IHNrdS5pZCwKICAgICAgICAgIHByaWNlOiBza3UucHJpY2UsCiAgICAgICAgICBvbGRQcmljZTogc2t1Lm9sZFByaWNlLAogICAgICAgICAgaW52ZW50b3J5OiBza3UuaW52ZW50b3J5LAogICAgICAgICAgLy8g5bGe5oCn5ZCN77ya5bGe5oCn5YC8IOWxnuaAp+WQjTHvvJrlsZ7mgKflgLwxIC4uLiDov5nmoLfnmoTlrZfnrKbkuLIKICAgICAgICAgIHNwZWNzVGV4dDogc2t1LnNwZWNzLnJlZHVjZShmdW5jdGlvbiAocCwgYykgewogICAgICAgICAgICByZXR1cm4gIiIuY29uY2F0KHAsICIgIikuY29uY2F0KGMubmFtZSwgIlx1RkYxQSIpLmNvbmNhdChjLnZhbHVlTmFtZSk7CiAgICAgICAgICB9LCAnJykudHJpbSgpCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5LiN5a6M5pW0CiAgICAgICAgLy8g54i257uE5Lu26ZyA6KaB5Yik5pat5piv5ZCm6KeE5qC86YCJ5oup5a6M5pW077yM5LiN5a6M5pW05LiN6IO95Yqg6LSt54mp6L2m44CCCiAgICAgICAgZW1pdCgnY2hhbmdlJywge30pOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGNoYW5nZVNrdTogY2hhbmdlU2t1CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\goods\\components\\goods-sku.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"goods-sku\">\n    <dl v-for=\"item in goods.specs\" :key=\"item.id\">\n      <dt>{{item.name}}</dt>\n      <dd>\n        <template v-for=\"val in item.values\" :key=\"val.name\">\n          <img :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"changeSku(item,val)\" v-if=\"val.picture\" :src=\"val.picture\" :title=\"val.name\" >\n          <span :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"changeSku(item,val)\" v-else>{{val.name}}</span>\n        </template>\n      </dd>\n    </dl>\n  </div>\n</template>\n<script>\nimport powerSet from '@/vender/power-set'\nconst spliter = '★'\n// 得到一个路径字典对象\nconst getPathMap = (skus) => {\n  // 1. 得到所有的sku集合  props.goods.skus\n  // 2. 从所有的sku中筛选出有效的sku\n  // 3. 根据有效的sku使用power-set算法得到子集\n  // 4. 根据子集往路径字典对象中存储 key-value\n  const pathMap = {}\n  skus.forEach(sku => {\n    if (sku.inventory > 0) {\n      // 计算当前有库存的sku的子集\n      // 例如：[1,2,3] ==> [[1],[2],[3],[1,2],[1,3],[2,3],[1,2,3]]\n      // 可选值数组\n      const valueArr = sku.specs.map(val => val.valueName)\n      // 可选值数组 子集\n      const valueArrPowerSet = powerSet(valueArr)\n      // 遍历子集，往pathMap插入数据\n      valueArrPowerSet.forEach(arr => {\n        // 根据arr得到字符串的key，约定key是：['蓝色','美国'] ===> '蓝色★美国'\n        const key = arr.join(spliter)\n        // 给pathMap设置数据\n        if (pathMap[key]) {\n          pathMap[key].push(sku.id)\n        } else {\n          pathMap[key] = [sku.id]\n        }\n      })\n    }\n  })\n  return pathMap\n}\n// 获取已选中的值数组\nconst getSelectedValues = (specs) => {\n  const arr = []\n  specs.forEach(item => {\n    // 选中的按钮对象\n    const seletedVal = item.values.find(val => val.selected)\n    arr.push(seletedVal ? seletedVal.name : undefined)\n  })\n  return arr\n}\n// 更新按钮禁用状态\nconst updateDisabledStatus = (specs, pathMap) => {\n  // 1. 约定每一个按钮的状态由本身的disabled数据来控制\n  specs.forEach((item, i) => {\n    const selectedValues = getSelectedValues(specs)\n    item.values.forEach(val => {\n      // 2. 判断当前是否选中，是选中不用判断\n      if (val.selected) return\n      // 3. 拿当前的值按照顺序套入选中的值数组\n      selectedValues[i] = val.name\n      // 4. 剔除undefined数据，按照分隔符拼接key\n      const key = selectedValues.filter(value => value).join(spliter)\n      // 5. 拿着key去路径字典中查找是否有数据，有可以点击，没有就禁用（true）\n      val.disabled = !pathMap[key]\n    })\n  })\n}\n// 默认选中\nconst initDefaultSelected = (goods, skuId) => {\n  // 1. 找出sku的信息\n  // 2. 遍历每一个按钮，按钮的值和sku记录的值相同，就选中。\n  const sku = goods.skus.find(sku => sku.id === skuId)\n  goods.specs.forEach((item, i) => {\n    const val = item.values.find(val => val.name === sku.specs[i].valueName)\n    val.selected = true\n  })\n}\n\nexport default {\n  name: 'GoodsSku',\n  props: {\n    goods: {\n      type: Object,\n      default: () => ({})\n    },\n    skuId: {\n      type: String,\n      default: ''\n    }\n  },\n  setup (props, { emit }) {\n    const pathMap = getPathMap(props.goods.skus)\n    // 根据skuId初始化选中\n    if (props.skuId) {\n      initDefaultSelected(props.goods, props.skuId)\n    }\n    // ☆组件初始化：更新按钮禁用状态\n    updateDisabledStatus(props.goods.specs, pathMap)\n    // 1. 选中与取消选中，约定在每一个按钮都拥有自己的选中状态数据：selected\n    // 1.1 点击的是已选中，只需要取消当前的选中\n    // 1.2 点击的是未选中，把同一个规格的按钮改成未选中，当前点击的改成选中\n    const changeSku = (item, val) => {\n      // 当按钮是禁用的阻止程序运行\n      if (val.disabled) return\n      // 如果不是禁用正常运行\n      if (val.selected) {\n        val.selected = false\n      } else {\n        item.values.forEach(valItem => {\n          valItem.selected = false\n        })\n        val.selected = true\n      }\n      // ☆点击按钮时：更新按钮禁用状态\n      updateDisabledStatus(props.goods.specs, pathMap)\n      // 将你选择的sku信息通知父组件{skuId,price,oldPrice,inventory,specsText}\n      // 1. 选择完整的sku组合按钮，才可以拿到这些信息，提交父组件\n      // 2. 不是完整的sku组合按钮，提交空对象父组件\n      const validSelectedValues = getSelectedValues(props.goods.specs).filter(v => v)\n      if (validSelectedValues.length === props.goods.specs.length) {\n        // 完整\n        const skuIds = pathMap[validSelectedValues.join(spliter)]\n        const sku = props.goods.skus.find(sku => sku.id === skuIds[0])\n        emit('change', {\n          skuId: sku.id,\n          price: sku.price,\n          oldPrice: sku.oldPrice,\n          inventory: sku.inventory,\n          // 属性名：属性值 属性名1：属性值1 ... 这样的字符串\n          specsText: sku.specs.reduce((p, c) => `${p} ${c.name}：${c.valueName}`, '').trim()\n        })\n      } else {\n        // 不完整\n        // 父组件需要判断是否规格选择完整，不完整不能加购物车。\n        emit('change', {})\n      }\n    }\n    return { changeSku }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.sku-state-mixin () {\n  border: 1px solid #e4e4e4;\n  margin-right: 10px;\n  cursor: pointer;\n  &.selected {\n    border-color: @xtxColor;\n  }\n  &.disabled {\n    opacity: 0.6;\n    border-style: dashed;\n    cursor: not-allowed;\n  }\n}\n.goods-sku {\n  padding-left: 10px;\n  padding-top: 20px;\n  dl {\n    display: flex;\n    padding-bottom: 10px;\n    align-items: center;\n    dt {\n      width: 50px;\n      color: #999;\n    }\n    dd {\n      flex: 1;\n      color: #666;\n      line-height: 40px;\n      > img {\n        width: 50px;\n        height: 50px;\n        .sku-state-mixin ();\n      }\n      > span {\n        display: inline-block;\n        height: 30px;\n        line-height: 28px;\n        padding: 0 20px;\n        .sku-state-mixin ();\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}