{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\category\\index.vue?vue&type=template&id=4b72184d&scoped=true","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\category\\index.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1656924654079},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBUcmFuc2l0aW9uIGFzIF9UcmFuc2l0aW9uLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTRiNzIxODRkIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi00YjcyMTg0ZCIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ0b3AtY2F0ZWdvcnkiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi6aaW6aG1Iik7Cgp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogInN1Yi1saXN0Igp9OwoKdmFyIF9ob2lzdGVkXzUgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJoMyIsIG51bGwsICLlhajpg6jliIbnsbsiLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfNiA9IHsKICBocmVmOiAiamF2YXNjcmlwdDo7Igp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogImhlYWQiCn07Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoInAiLCB7CiAgY2xhc3M6ICJ0YWciCn0sICLmuKnmmpbmn5Tova/vvIzlk4HotKjkuYvpgIkiLCAtMSk7Cgp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogImJvZHkiCn07CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IHZhciByZW5kZXIgPSAvKiNfX1BVUkVfXyovX3dpdGhJZChmdW5jdGlvbiAoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfWHR4QnJlYWRJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIlh0eEJyZWFkSXRlbSIpOwoKICB2YXIgX2NvbXBvbmVudF9YdHhCcmVhZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJYdHhCcmVhZCIpOwoKICB2YXIgX2NvbXBvbmVudF9YdHhDYXJvdXNlbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJYdHhDYXJvdXNlbCIpOwoKICB2YXIgX2NvbXBvbmVudF9YdHhNb3JlID0gX3Jlc29sdmVDb21wb25lbnQoIlh0eE1vcmUiKTsKCiAgdmFyIF9jb21wb25lbnRfR29vZHNJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIkdvb2RzSXRlbSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9YdHhCcmVhZCwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfWHR4QnJlYWRJdGVtLCB7CiAgICAgICAgdG86ICIvIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSksIF9jcmVhdGVWTm9kZShfVHJhbnNpdGlvbiwgewogICAgICAgIG5hbWU6ICJmYWRlLXJpZ2h0IiwKICAgICAgICBtb2RlOiAib3V0LWluIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1h0eEJyZWFkSXRlbSwgewogICAgICAgICAgICBrZXk6ICRzZXR1cC50b3BDYXRlZ29yeS5pZAogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZygkc2V0dXAudG9wQ2F0ZWdvcnkubmFtZSksIDEpXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0pXTsKICAgIH0pLAogICAgXzogMQogIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9YdHhDYXJvdXNlbCwgewogICAgc2xpZGVyczogJHNldHVwLnNsaWRlcnMsCiAgICBzdHlsZTogewogICAgICAiaGVpZ2h0IjogIjUwMHB4IgogICAgfQogIH0sIG51bGwsIDgsIFsic2xpZGVycyJdKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2hvaXN0ZWRfNSwgX2NyZWF0ZVZOb2RlKCJ1bCIsIG51bGwsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLnRvcENhdGVnb3J5LmNoaWxkcmVuLCBmdW5jdGlvbiAoc3ViKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImxpIiwgewogICAgICBrZXk6IHN1Yi5pZAogICAgfSwgW19jcmVhdGVWTm9kZSgiYSIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoImltZyIsIHsKICAgICAgc3JjOiBzdWIucGljdHVyZQogICAgfSwgbnVsbCwgOCwgWyJzcmMiXSksIF9jcmVhdGVWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoc3ViLm5hbWUpLCAxKV0pXSk7CiAgfSksIDEyOCkpXSldKSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5zdWJMaXN0LCBmdW5jdGlvbiAoc3ViKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6ICJyZWYtZ29vZHMiLAogICAgICBrZXk6IHN1Yi5pZAogICAgfSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgW19jcmVhdGVWTm9kZSgiaDMiLCBudWxsLCAiLSAiICsgX3RvRGlzcGxheVN0cmluZyhzdWIubmFtZSkgKyAiIC0iLCAxKSwgX2hvaXN0ZWRfOCwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfWHR4TW9yZSwgewogICAgICBwYXRoOiAiL2NhdGVnb3J5L3N1Yi8iLmNvbmNhdChzdWIuaWQpCiAgICB9LCBudWxsLCA4LCBbInBhdGgiXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KHN1Yi5nb29kcywgZnVuY3Rpb24gKGdvb2RzKSB7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X0dvb2RzSXRlbSwgewogICAgICAgIGtleTogZ29vZHMuaWQsCiAgICAgICAgZ29vZHM6IGdvb2RzCiAgICAgIH0sIG51bGwsIDgsIFsiZ29vZHMiXSk7CiAgICB9KSwgMTI4KSldKV0pOwogIH0pLCAxMjgpKV0pXSk7Cn0pOw=="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\category\\index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"top-category\">\n    <div class=\"container\">\n      <!-- 面包屑 -->\n      <XtxBread>\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\n        <Transition name=\"fade-right\" mode=\"out-in\">\n          <XtxBreadItem :key=\"topCategory.id\">{{topCategory.name}}</XtxBreadItem>\n        </Transition>\n      </XtxBread>\n      <!-- 轮播图 -->\n      <XtxCarousel :sliders=\"sliders\" style=\"height:500px\" />\n      <!-- 所有二级分类 -->\n      <div class=\"sub-list\">\n        <h3>全部分类</h3>\n        <ul>\n          <li v-for=\"sub in topCategory.children\" :key=\"sub.id\">\n            <a href=\"javascript:;\">\n              <img :src=\"sub.picture\" >\n              <p>{{sub.name}}</p>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <!-- 各个分类推荐商品 -->\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\n        <div class=\"head\">\n          <h3>- {{sub.name}} -</h3>\n          <p class=\"tag\">温暖柔软，品质之选</p>\n          <XtxMore :path=\"`/category/sub/${sub.id}`\" />\n        </div>\n        <div class=\"body\">\n          <GoodsItem v-for=\"goods in sub.goods\" :key=\"goods.id\" :goods=\"goods\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { computed, ref, watch } from 'vue'\nimport { findBanner } from '@/api/home'\nimport { useStore } from 'vuex'\nimport { useRoute } from 'vue-router'\nimport GoodsItem from './components/goods-item'\nimport { findTopCategory } from '@/api/category'\nexport default {\n  name: 'TopCategory',\n  components: { GoodsItem },\n  setup () {\n    // 轮播图\n    const sliders = ref([])\n    findBanner().then(data => {\n      sliders.value = data.result\n    })\n\n    // 面包屑+所有子分类 ====> vuex\n    const store = useStore()\n    const route = useRoute()\n    const topCategory = computed(() => {\n      let cate = {}\n      // 当前顶级分类 === 根据路由上的ID去vuex中category模块的list中查找\n      const item = store.state.category.list.find(item => {\n        return item.id === route.params.id\n      })\n      // 找到数据赋值\n      if (item) cate = item\n      return cate\n    })\n\n    // 获取各个子类目下推荐商品\n    const subList = ref([])\n    const getSubList = () => {\n      findTopCategory(route.params.id).then(data => {\n        subList.value = data.result.children\n      })\n    }\n    watch(() => route.params.id, (newVal) => {\n      // newVal && getSubList() 加上一个严谨判断，在顶级类名下才发请求\n      if (newVal && `/category/${newVal}` === route.path) getSubList()\n    }, { immediate: true })\n\n    return {\n      sliders,\n      topCategory,\n      subList\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.top-category {\n  h3 {\n    font-size: 28px;\n    color: #666;\n    font-weight: normal;\n    text-align: center;\n    line-height: 100px;\n  }\n  .sub-list {\n    margin-top: 20px;\n    background-color: #fff;\n    ul {\n      display: flex;\n      padding: 0 32px;\n      flex-wrap: wrap;\n      min-height: 160px;\n      li {\n        width: 168px;\n        height: 160px;\n        a {\n          text-align: center;\n          display: block;\n          font-size: 16px;\n          img {\n            width: 100px;\n            height: 100px;\n          }\n          p {\n            line-height: 40px;\n          }\n          &:hover {\n            color: @xtxColor;\n          }\n        }\n      }\n    }\n  }\n  // 推荐商品\n  .ref-goods {\n    background-color: #fff;\n    margin-top: 20px;\n    position: relative;\n    .head {\n      .xtx-more {\n        position: absolute;\n        top: 20px;\n        right: 20px;\n      }\n      .tag {\n        text-align: center;\n        color: #999;\n        font-size: 20px;\n        position: relative;\n        top: -20px;\n      }\n    }\n    .body {\n      display: flex;\n      justify-content: flex-start;\n      flex-wrap: wrap;\n      padding: 0 65px 30px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}