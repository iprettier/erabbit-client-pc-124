{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\components\\library\\xtx-city.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\components\\library\\xtx-city.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IHsgY29tcHV0ZWQsIHJlYWN0aXZlLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBvbkNsaWNrT3V0c2lkZSB9IGZyb20gJ0B2dWV1c2UvY29yZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnWHR4Q2l0eScsCiAgcHJvcHM6IHsKICAgIGZ1bGxMb2NhdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZ1bGF0OiAn6K+36YCJ5oup6YWN6YCB5Zyw5Z2AJwogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgZW1pdCA9IF9yZWYuZW1pdDsKICAgIC8vIOaYvuekuumakOiXj+aVsOaNrgogICAgdmFyIHZpc2libGUgPSByZWYoZmFsc2UpOyAvLyDmiYDmnInnnIHluILljLrmlbDmja4KCiAgICB2YXIgYWxsQ2l0eURhdGEgPSByZWYoW10pOyAvLyDmraPlnKjliqDovb3mlbDmja4KCiAgICB2YXIgbG9hZGluZyA9IHJlZihmYWxzZSk7IC8vIOaPkOS+m+aJk+W8gOWSjOWFs+mXreWHveaVsAoKICAgIHZhciBvcGVuID0gZnVuY3Rpb24gb3BlbigpIHsKICAgICAgdmlzaWJsZS52YWx1ZSA9IHRydWU7IC8vIOiOt+WPluWcsOWMuuaVsOaNrgoKICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgIGdldENpdHlEYXRhKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGFsbENpdHlEYXRhLnZhbHVlID0gZGF0YTsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0pOyAvLyDmuIXnqbrkuYvliY3pgInmi6kKCiAgICAgIGZvciAodmFyIGtleSBpbiBjaGFuZ2VSZXN1bHQpIHsKICAgICAgICBjaGFuZ2VSZXN1bHRba2V5XSA9ICcnOwogICAgICB9CiAgICB9OwoKICAgIHZhciBjbG9zZSA9IGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICB2aXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICB9OyAvLyDmj5DkvpvkuIDkuKrliIfmjaLlh73mlbDnu5lzZWxlY3Tkvb/nlKgKCgogICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZSgpIHsKICAgICAgdmlzaWJsZS52YWx1ZSA/IGNsb3NlKCkgOiBvcGVuKCk7CiAgICB9OyAvLyDlrp7njrDngrnlh7vnu4Tku7blpJbpg6jlhYPntKDov5vooYzlhbPpl63mk43kvZwKCgogICAgdmFyIHRhcmdldCA9IHJlZihudWxsKTsKICAgIG9uQ2xpY2tPdXRzaWRlKHRhcmdldCwgZnVuY3Rpb24gKCkgewogICAgICAvLyDlj4LmlbAx77ya55uR5ZCs6YKj5Liq5YWD57SgCiAgICAgIC8vIOWPguaVsDLvvJrngrnlh7vkuobor6XlhYPntKDlpJbnmoTlhbbku5blnLDmlrnop6blj5HnmoTlh73mlbAKICAgICAgY2xvc2UoKTsKICAgIH0pOyAvLyDlrp7njrDorqHnrpflsZ7mgKfvvJrojrflj5blvZPliY3mmL7npLrnmoTlnLDljLrmlbDnu4QKCiAgICB2YXIgY3Vyckxpc3QgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOm7mOiupOecgeS4gOe6pwogICAgICB2YXIgbGlzdCA9IGFsbENpdHlEYXRhLnZhbHVlOyAvLyDlj6/og73vvJrluILkuIDnuqcKCiAgICAgIGlmIChjaGFuZ2VSZXN1bHQucHJvdmluY2VDb2RlICYmIGNoYW5nZVJlc3VsdC5wcm92aW5jZU5hbWUpIHsKICAgICAgICBsaXN0ID0gbGlzdC5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gcC5jb2RlID09PSBjaGFuZ2VSZXN1bHQucHJvdmluY2VDb2RlOwogICAgICAgIH0pLmFyZWFMaXN0OwogICAgICB9IC8vIOWPr+iDve+8muWOv+WcsOWMuuS4gOe6pwoKCiAgICAgIGlmIChjaGFuZ2VSZXN1bHQuY2l0eUNvZGUgJiYgY2hhbmdlUmVzdWx0LmNpdHlOYW1lKSB7CiAgICAgICAgbGlzdCA9IGxpc3QuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMuY29kZSA9PT0gY2hhbmdlUmVzdWx0LmNpdHlDb2RlOwogICAgICAgIH0pLmFyZWFMaXN0OwogICAgICB9CgogICAgICByZXR1cm4gbGlzdDsKICAgIH0pOyAvLyDlrprkuYnpgInmi6nnmoQg55yB5biC5Yy6IOaVsOaNrgoKICAgIHZhciBjaGFuZ2VSZXN1bHQgPSByZWFjdGl2ZSh7CiAgICAgIHByb3ZpbmNlQ29kZTogJycsCiAgICAgIHByb3ZpbmNlTmFtZTogJycsCiAgICAgIGNpdHlDb2RlOiAnJywKICAgICAgY2l0eU5hbWU6ICcnLAogICAgICBjb3VudHlDb2RlOiAnJywKICAgICAgY291bnR5TmFtZTogJycsCiAgICAgIGZ1bGxMb2NhdGlvbjogJycKICAgIH0pOyAvLyDlvZPkvaDngrnlh7vmjInpkq7nmoTml7blgJnorrDlvZUKCiAgICB2YXIgY2hhbmdlSXRlbSA9IGZ1bmN0aW9uIGNoYW5nZUl0ZW0oaXRlbSkgewogICAgICBpZiAoaXRlbS5sZXZlbCA9PT0gMCkgewogICAgICAgIC8vIOecgQogICAgICAgIGNoYW5nZVJlc3VsdC5wcm92aW5jZUNvZGUgPSBpdGVtLmNvZGU7CiAgICAgICAgY2hhbmdlUmVzdWx0LnByb3ZpbmNlTmFtZSA9IGl0ZW0ubmFtZTsKICAgICAgfQoKICAgICAgaWYgKGl0ZW0ubGV2ZWwgPT09IDEpIHsKICAgICAgICAvLyDluIIKICAgICAgICBjaGFuZ2VSZXN1bHQuY2l0eUNvZGUgPSBpdGVtLmNvZGU7CiAgICAgICAgY2hhbmdlUmVzdWx0LmNpdHlOYW1lID0gaXRlbS5uYW1lOwogICAgICB9CgogICAgICBpZiAoaXRlbS5sZXZlbCA9PT0gMikgewogICAgICAgIC8vIOWcsOWMugogICAgICAgIGNoYW5nZVJlc3VsdC5jb3VudHlDb2RlID0gaXRlbS5jb2RlOwogICAgICAgIGNoYW5nZVJlc3VsdC5jb3VudHlOYW1lID0gaXRlbS5uYW1lOyAvLyDlrozmlbTot6/lvoQKCiAgICAgICAgY2hhbmdlUmVzdWx0LmZ1bGxMb2NhdGlvbiA9ICIiLmNvbmNhdChjaGFuZ2VSZXN1bHQucHJvdmluY2VOYW1lLCAiICIpLmNvbmNhdChjaGFuZ2VSZXN1bHQuY2l0eU5hbWUsICIgIikuY29uY2F0KGNoYW5nZVJlc3VsdC5jb3VudHlOYW1lKTsgLy8g6L+Z5piv5pyA5ZCO5LiA57qn77yM6YCJ5a6M5LqG77yM5YWz6Zet5a+56K+d5qGG77yM6YCa55+l54i257uE5Lu25pWw5o2uCgogICAgICAgIGNsb3NlKCk7CiAgICAgICAgZW1pdCgnY2hhbmdlJywgY2hhbmdlUmVzdWx0KTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICB2aXNpYmxlOiB2aXNpYmxlLAogICAgICB0b2dnbGU6IHRvZ2dsZSwKICAgICAgdGFyZ2V0OiB0YXJnZXQsCiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsCiAgICAgIGN1cnJMaXN0OiBjdXJyTGlzdCwKICAgICAgY2hhbmdlSXRlbTogY2hhbmdlSXRlbQogICAgfTsKICB9Cn07IC8vIOiOt+WPluecgeW4guWMuuaVsOaNruWHveaVsAoKdmFyIGdldENpdHlEYXRhID0gZnVuY3Rpb24gZ2V0Q2l0eURhdGEoKSB7CiAgLy8g5pWw5o2u77yaaHR0cHM6Ly95anktb3NzLWZpbGVzLm9zcy1jbi16aGFuZ2ppYWtvdS5hbGl5dW5jcy5jb20vdHV4aWFuL2FyZWEuanNvbgogIC8vIDEuIOW9k+acrOWcsOayoeaciee8k+WtmO+8jOWPkeivt+axguiOt+WPluaVsOaNrgogIC8vIDIuIOW9k+acrOWcsOe8k+WtmO+8jOWPluWHuuacrOWcsOaVsOaNrgogIC8vIOi/lOWbnnByb21pc2XlnKh0aGVu6I635Y+W5pWw5o2u77yM6L+Z6YeM5Y+v6IO95piv5byC5q2l5pON5L2c5Y+v6IO95piv5ZCM5q2l5pON5L2cCiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIC8vIOe6puWumu+8muaVsOaNruWtmOWCqOWcqHdpbmRvd+S4iueahGNpdHlEYXRh5a2X5q61CiAgICBpZiAod2luZG93LmNpdHlEYXRhKSB7CiAgICAgIHJlc29sdmUod2luZG93LmNpdHlEYXRhKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly95anktb3NzLWZpbGVzLm9zcy1jbi16aGFuZ2ppYWtvdS5hbGl5dW5jcy5jb20vdHV4aWFuL2FyZWEuanNvbic7CiAgICAgIGF4aW9zLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIOe8k+WtmAogICAgICAgIHdpbmRvdy5jaXR5RGF0YSA9IHJlcy5kYXRhOwogICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0KICB9KTsKfTs="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\components\\library\\xtx-city.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"xtx-city\" ref=\"target\">\n    <div class=\"select\" @click=\"toggle()\" :class=\"{active:visible}\">\n      <span v-if=\"!fullLocation\" class=\"placeholder\">{{placeholder}}</span>\n      <span v-else class=\"value\">{{fullLocation}}</span>\n      <i class=\"iconfont icon-angle-down\"></i>\n    </div>\n    <div class=\"option\" v-if=\"visible\">\n      <div v-if=\"loading\" class=\"loading\"></div>\n      <template v-else>\n        <span class=\"ellipsis\" @click=\"changeItem(item)\" v-for=\"item in currList\" :key=\"item.code\">{{item.name}}</span>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport { computed, reactive, ref } from 'vue'\nimport { onClickOutside } from '@vueuse/core'\nimport axios from 'axios'\nexport default {\n  name: 'XtxCity',\n  props: {\n    fullLocation: {\n      type: String,\n      default: ''\n    },\n    placeholder: {\n      type: String,\n      defulat: '请选择配送地址'\n    }\n  },\n  setup (props, { emit }) {\n    // 显示隐藏数据\n    const visible = ref(false)\n\n    // 所有省市区数据\n    const allCityData = ref([])\n    // 正在加载数据\n    const loading = ref(false)\n\n    // 提供打开和关闭函数\n    const open = () => {\n      visible.value = true\n      // 获取地区数据\n      loading.value = true\n      getCityData().then(data => {\n        allCityData.value = data\n        loading.value = false\n      })\n      // 清空之前选择\n      for (const key in changeResult) {\n        changeResult[key] = ''\n      }\n    }\n    const close = () => {\n      visible.value = false\n    }\n    // 提供一个切换函数给select使用\n    const toggle = () => {\n      visible.value ? close() : open()\n    }\n    // 实现点击组件外部元素进行关闭操作\n    const target = ref(null)\n    onClickOutside(target, () => {\n      // 参数1：监听那个元素\n      // 参数2：点击了该元素外的其他地方触发的函数\n      close()\n    })\n\n    // 实现计算属性：获取当前显示的地区数组\n    const currList = computed(() => {\n      // 默认省一级\n      let list = allCityData.value\n      // 可能：市一级\n      if (changeResult.provinceCode && changeResult.provinceName) {\n        list = list.find(p => p.code === changeResult.provinceCode).areaList\n      }\n      // 可能：县地区一级\n      if (changeResult.cityCode && changeResult.cityName) {\n        list = list.find(c => c.code === changeResult.cityCode).areaList\n      }\n      return list\n    })\n\n    // 定义选择的 省市区 数据\n    const changeResult = reactive({\n      provinceCode: '',\n      provinceName: '',\n      cityCode: '',\n      cityName: '',\n      countyCode: '',\n      countyName: '',\n      fullLocation: ''\n    })\n    // 当你点击按钮的时候记录\n    const changeItem = (item) => {\n      if (item.level === 0) {\n        // 省\n        changeResult.provinceCode = item.code\n        changeResult.provinceName = item.name\n      }\n      if (item.level === 1) {\n        // 市\n        changeResult.cityCode = item.code\n        changeResult.cityName = item.name\n      }\n      if (item.level === 2) {\n        // 地区\n        changeResult.countyCode = item.code\n        changeResult.countyName = item.name\n        // 完整路径\n        changeResult.fullLocation = `${changeResult.provinceName} ${changeResult.cityName} ${changeResult.countyName}`\n        // 这是最后一级，选完了，关闭对话框，通知父组件数据\n        close()\n        emit('change', changeResult)\n      }\n    }\n\n    return { visible, toggle, target, loading, currList, changeItem }\n  }\n}\n// 获取省市区数据函数\nconst getCityData = () => {\n  // 数据：https://yjy-oss-files.oss-cn-zhangjiakou.aliyuncs.com/tuxian/area.json\n  // 1. 当本地没有缓存，发请求获取数据\n  // 2. 当本地缓存，取出本地数据\n  // 返回promise在then获取数据，这里可能是异步操作可能是同步操作\n  return new Promise((resolve, reject) => {\n    // 约定：数据存储在window上的cityData字段\n    if (window.cityData) {\n      resolve(window.cityData)\n    } else {\n      const url = 'https://yjy-oss-files.oss-cn-zhangjiakou.aliyuncs.com/tuxian/area.json'\n      axios.get(url).then(res => {\n        // 缓存\n        window.cityData = res.data\n        resolve(res.data)\n      })\n    }\n  })\n}\n</script>\n<style scoped lang=\"less\">\n.xtx-city {\n  display: inline-block;\n  position: relative;\n  z-index: 400;\n  .select {\n    border: 1px solid #e4e4e4;\n    height: 30px;\n    padding: 0 5px;\n    line-height: 28px;\n    cursor: pointer;\n    &.active {\n      background: #fff;\n    }\n    .placeholder {\n      color: #999;\n    }\n    .value {\n      color: #666;\n      font-size: 12px;\n    }\n    i {\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n  .option {\n    width: 542px;\n    border: 1px solid #e4e4e4;\n    position: absolute;\n    left: 0;\n    top: 29px;\n    background: #fff;\n    min-height: 30px;\n    line-height: 30px;\n    display: flex;\n    flex-wrap: wrap;\n    padding: 10px;\n    > span {\n      width: 130px;\n      text-align: center;\n      cursor: pointer;\n      border-radius: 4px;\n      padding: 0 3px;\n      &:hover {\n        background: #f5f5f5;\n      }\n    }\n    .loading {\n      height: 290px;\n      width: 100%;\n      background: url(../../assets/images/loading.gif) no-repeat center;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}