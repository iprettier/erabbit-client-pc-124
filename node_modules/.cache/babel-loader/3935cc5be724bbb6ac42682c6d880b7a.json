{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\pay\\components\\address-edit.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\pay\\components\\address-edit.vue","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGFkZEFkZHJlc3MsIGVkaXRBZGRyZXNzIH0gZnJvbSAnQC9hcGkvb3JkZXInOwppbXBvcnQgTWVzc2FnZSBmcm9tICdAL2NvbXBvbmVudHMvbGlicmFyeS9NZXNzYWdlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZGRyZXNzRWRpdCcsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgZW1pdCA9IF9yZWYuZW1pdDsKICAgIHZhciB2aXNpYmxlRGlhbG9nID0gcmVmKGZhbHNlKTsgLy8g5a6a5LmJ5LiA5Liqb3BlbuWHveaVsO+8jOWBmuS4uuaJk+W8gOWvueivneahhuWHveaVsCjnu4Tku7blrp7kvovmi6XmnIlvcGVu5Ye95pWwKQoKICAgIHZhciBvcGVuID0gZnVuY3Rpb24gb3BlbihhZGRyZXNzKSB7CiAgICAgIHZpc2libGVEaWFsb2cudmFsdWUgPSB0cnVlOwoKICAgICAgaWYgKGFkZHJlc3MuaWQpIHsKICAgICAgICAvLyDlpoLmnpzkv67mlLkg5aGr5YWF6KGo5Y2VCiAgICAgICAgZm9yICh2YXIga2V5IGluIGFkZHJlc3MpIHsKICAgICAgICAgIGZvcm1EYXRhW2tleV0gPSBhZGRyZXNzW2tleV07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenOa3u+WKoCDmuIXnqbrooajljZUKICAgICAgICBmb3IgKHZhciBfa2V5IGluIGZvcm1EYXRhKSB7CiAgICAgICAgICBpZiAoX2tleSA9PT0gJ2lzRGVmYXVsdCcpIHsKICAgICAgICAgICAgZm9ybURhdGFbX2tleV0gPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9ybURhdGFbX2tleV0gPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8g5a6a5LmJ6KGo5Y2V5pWw5o2u5a+56LGhCgoKICAgIHZhciBmb3JtRGF0YSA9IHJlYWN0aXZlKHsKICAgICAgcmVjZWl2ZXI6IG51bGwsCiAgICAgIGNvbnRhY3Q6IG51bGwsCiAgICAgIHByb3ZpbmNlQ29kZTogbnVsbCwKICAgICAgY2l0eUNvZGU6IG51bGwsCiAgICAgIGNvdW50eUNvZGU6IG51bGwsCiAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgIHBvc3RhbENvZGU6IG51bGwsCiAgICAgIGFkZHJlc3NUYWdzOiBudWxsLAogICAgICBpc0RlZmF1bHQ6IDEsCiAgICAgIC8vIOWfjuW4gue7hOS7tuaYvuekuuaWh+Wtl++8iOWujOaVtOihjOaUv+WMuuWcsOWdgO+8iQogICAgICBmdWxsTG9jYXRpb246IG51bGwKICAgIH0pOyAvLyDln47luILpgInkuK0KCiAgICB2YXIgY2hhbmdlQ2l0eSA9IGZ1bmN0aW9uIGNoYW5nZUNpdHkocmVzdWx0KSB7CiAgICAgIGZvcm1EYXRhLnByb3ZpbmNlQ29kZSA9IHJlc3VsdC5wcm92aW5jZUNvZGU7CiAgICAgIGZvcm1EYXRhLmNpdHlDb2RlID0gcmVzdWx0LmNpdHlDb2RlOwogICAgICBmb3JtRGF0YS5jb3VudHlDb2RlID0gcmVzdWx0LmNvdW50eUNvZGU7CiAgICAgIGZvcm1EYXRhLmZ1bGxMb2NhdGlvbiA9IHJlc3VsdC5mdWxsTG9jYXRpb247CiAgICB9OyAvLyDmt7vliqDml7blgJnnmoTmj5DkuqTmk43kvZzvvIjkv67mlLnvvIkKCgogICAgdmFyIHN1Ym1pdCA9IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgLy8gMS4g55yB55Wl5LqG5qCh6aqMCiAgICAgIC8vIDIuIOWPkemAgeivt+axguS6hgogICAgICBpZiAoZm9ybURhdGEuaWQpIHsKICAgICAgICAvLyDkv67mlLnor7fmsYIKICAgICAgICBlZGl0QWRkcmVzcyhmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgLy8g5o+Q56S6CiAgICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICB0ZXh0OiAn5L+u5pS55pS26LSn5Zyw5Z2A5oiQ5YqfJwogICAgICAgICAgfSk7IC8vIOWFs+mXrQoKICAgICAgICAgIHZpc2libGVEaWFsb2cudmFsdWUgPSBmYWxzZTsgLy8g6Kem5Y+R6Ieq5a6a5LmJ5LqL5Lu2CgogICAgICAgICAgZW1pdCgnb24tc3VjY2VzcycsIGZvcm1EYXRhKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmt7vliqDor7fmsYIKICAgICAgICBhZGRBZGRyZXNzKGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAvLyDpnIDopoHorr7nva5JRAogICAgICAgICAgZm9ybURhdGEuaWQgPSBkYXRhLnJlc3VsdC5pZDsgLy8g5o+Q56S6CgogICAgICAgICAgTWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgdGV4dDogJ+a3u+WKoOaUtui0p+WcsOWdgOaIkOWKnycKICAgICAgICAgIH0pOyAvLyDlhbPpl60KCiAgICAgICAgICB2aXNpYmxlRGlhbG9nLnZhbHVlID0gZmFsc2U7IC8vIOinpuWPkeiHquWumuS5ieS6i+S7tgoKICAgICAgICAgIGVtaXQoJ29uLXN1Y2Nlc3MnLCBmb3JtRGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZURpYWxvZzogdmlzaWJsZURpYWxvZywKICAgICAgb3Blbjogb3BlbiwKICAgICAgZm9ybURhdGE6IGZvcm1EYXRhLAogICAgICBjaGFuZ2VDaXR5OiBjaGFuZ2VDaXR5LAogICAgICBzdWJtaXQ6IHN1Ym1pdAogICAgfTsKICB9Cn07"},{"version":3,"sources":["E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\pay\\components\\address-edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <XtxDialog :title=\"`${formData.id?'修改':'添加'}收货地址`\" v-model:visible=\"visibleDialog\">\n    <!-- 表单 -->\n    <div class=\"address-edit\">\n      <div class=\"xtx-form\">\n        <div class=\"xtx-form-item\">\n          <div class=\"label\">收货人：</div>\n          <div class=\"field\">\n            <input v-model=\"formData.receiver\" class=\"input\" placeholder=\"请输入收货人\" />\n          </div>\n        </div>\n        <div class=\"xtx-form-item\">\n          <div class=\"label\">手机号：</div>\n          <div class=\"field\">\n            <input v-model=\"formData.contact\" class=\"input\" placeholder=\"请输入手机号\" />\n          </div>\n        </div>\n        <div class=\"xtx-form-item\">\n          <div class=\"label\">地区：</div>\n          <div class=\"field\">\n            <XtxCity :fullLocation=\"formData.fullLocation\" @change=\"changeCity\" placeholder=\"请选择所在地区\"/>\n          </div>\n        </div>\n        <div class=\"xtx-form-item\">\n          <div class=\"label\">详细地址：</div>\n          <div class=\"field\">\n            <input v-model=\"formData.address\" class=\"input\" placeholder=\"请输入详细地址\" />\n          </div>\n        </div>\n        <div class=\"xtx-form-item\">\n          <div class=\"label\">邮政编码：</div>\n          <div class=\"field\">\n            <input v-model=\"formData.postalCode\" class=\"input\" placeholder=\"请输入邮政编码\" />\n          </div>\n        </div>\n        <div class=\"xtx-form-item\">\n          <div class=\"label\">地址标签：</div>\n          <div class=\"field\">\n            <input v-model=\"formData.addressTags\" class=\"input\" placeholder=\"请输入地址标签，逗号分隔\" />\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 按钮 -->\n    <template #footer>\n      <XtxButton @click=\"visibleDialog=false\" type=\"gray\" style=\"margin-right:20px\">取消</XtxButton>\n      <XtxButton @click=\"submit()\" type=\"primary\">确认</XtxButton>\n    </template>\n  </XtxDialog>\n</template>\n<script>\nimport { reactive, ref } from 'vue'\nimport { addAddress, editAddress } from '@/api/order'\nimport Message from '@/components/library/Message'\nexport default {\n  name: 'AddressEdit',\n  setup (props, { emit }) {\n    const visibleDialog = ref(false)\n\n    // 定义一个open函数，做为打开对话框函数(组件实例拥有open函数)\n    const open = (address) => {\n      visibleDialog.value = true\n      if (address.id) {\n        // 如果修改 填充表单\n        for (const key in address) {\n          formData[key] = address[key]\n        }\n      } else {\n        // 如果添加 清空表单\n        for (const key in formData) {\n          if (key === 'isDefault') {\n            formData[key] = 1\n          } else {\n            formData[key] = null\n          }\n        }\n      }\n    }\n\n    // 定义表单数据对象\n    const formData = reactive({\n      receiver: null,\n      contact: null,\n      provinceCode: null,\n      cityCode: null,\n      countyCode: null,\n      address: null,\n      postalCode: null,\n      addressTags: null,\n      isDefault: 1,\n      // 城市组件显示文字（完整行政区地址）\n      fullLocation: null\n    })\n\n    // 城市选中\n    const changeCity = (result) => {\n      formData.provinceCode = result.provinceCode\n      formData.cityCode = result.cityCode\n      formData.countyCode = result.countyCode\n      formData.fullLocation = result.fullLocation\n    }\n\n    // 添加时候的提交操作（修改）\n    const submit = () => {\n      // 1. 省略了校验\n      // 2. 发送请求了\n      if (formData.id) {\n        // 修改请求\n        editAddress(formData).then(data => {\n          // 提示\n          Message({ type: 'success', text: '修改收货地址成功' })\n          // 关闭\n          visibleDialog.value = false\n          // 触发自定义事件\n          emit('on-success', formData)\n        })\n      } else {\n        // 添加请求\n        addAddress(formData).then(data => {\n          // 需要设置ID\n          formData.id = data.result.id\n          // 提示\n          Message({ type: 'success', text: '添加收货地址成功' })\n          // 关闭\n          visibleDialog.value = false\n          // 触发自定义事件\n          emit('on-success', formData)\n        })\n      }\n    }\n\n    return { visibleDialog, open, formData, changeCity, submit }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.xtx-dialog {\n  :deep(.wrapper){\n    width: 780px;\n    .body {\n      font-size: 14px;\n    }\n  }\n}\n.xtx-form {\n  padding: 0;\n  input {\n    outline: none;\n    &::placeholder {\n      color: #ccc;\n    }\n  }\n}\n.xtx-city {\n  width: 320px;\n  :deep(.select) {\n    height: 50px;\n    line-height: 48px;\n    display: flex;\n    padding: 0 10px;\n    justify-content: space-between;\n    .placeholder {\n      color: #ccc;\n    }\n    i {\n      color: #ccc;\n      font-size: 18px;\n    }\n    .value {\n      font-size: 14px;\n    }\n  }\n  :deep(.option) {\n    top: 49px;\n  }\n}\n</style>\n"],"sourceRoot":""}]}