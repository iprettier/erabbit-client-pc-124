{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\category\\components\\sub-sort.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\category\\components\\sub-sort.vue","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N1YlNvcnQnLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIGVtaXQgPSBfcmVmLmVtaXQ7CiAgICAvLyDlrp7njrDkuqTkupLvvIjlrp7njrDkuqTmjaLnmoTmlbDmja7lkozlkI7lj7Dkv53mjIHkuIDoh7TvvIkKICAgIC8vIDEuIOaYjuehruS6pOS6kuaVsOaNrgogICAgdmFyIHNvcnRQYXJhbXMgPSByZWFjdGl2ZSh7CiAgICAgIGludmVudG9yeTogZmFsc2UsCiAgICAgIG9ubHlEaXNjb3VudDogZmFsc2UsCiAgICAgIHNvcnRGaWVsZDogbnVsbCwKICAgICAgLy8gcHVibGlzaFRpbWUsb3JkZXJOdW0scHJpY2UsZXZhbHVhdGVOdW0KICAgICAgc29ydE1ldGhvZDogbnVsbCAvLyBhc2PkuLrmraPluo/vvIxkZXNj5Li65YCS5bqP77yM6buY6K6k5Li6ZGVzYwoKICAgIH0pOyAvLyAyLiDmj5DkvpvmqKHmnb/kvb/nlKgKICAgIC8vIDMuIOmcgOimgee7keWumuaMiemSrueahOeCueWHu+S6i+S7tuS/ruaUueaOkuW6j+Wtl+auteWSjOaOkuW6j+aWueW8jwoKICAgIHZhciBjaGFuZ2VTb3J0ID0gZnVuY3Rpb24gY2hhbmdlU29ydChzb3J0RmllbGQpIHsKICAgICAgaWYgKHNvcnRGaWVsZCA9PT0gJ3ByaWNlJykgewogICAgICAgIHNvcnRQYXJhbXMuc29ydEZpZWxkID0gc29ydEZpZWxkOyAvLyDlpITnkIbmjpLluo8KCiAgICAgICAgaWYgKHNvcnRQYXJhbXMuc29ydE1ldGhvZCA9PT0gbnVsbCkgewogICAgICAgICAgc29ydFBhcmFtcy5zb3J0TWV0aG9kID0gJ2Rlc2MnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzb3J0UGFyYW1zLnNvcnRNZXRob2QgPSBzb3J0UGFyYW1zLnNvcnRNZXRob2QgPT09ICdkZXNjJyA/ICdhc2MnIDogJ2Rlc2MnOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDlpoLmnpzlt7Lnu4/pgInpobnpmLvmraLov5DooYwKICAgICAgICBpZiAoc29ydFBhcmFtcy5zb3J0RmllbGQgPT09IHNvcnRGaWVsZCkgcmV0dXJuOwogICAgICAgIHNvcnRQYXJhbXMuc29ydEZpZWxkID0gc29ydEZpZWxkOwogICAgICAgIHNvcnRQYXJhbXMuc29ydE1ldGhvZCA9IG51bGw7CiAgICAgIH0gLy8g6Kem5Y+RIHNvcnQtY2hhbmdlIOS6i+S7tgoKCiAgICAgIGVtaXQoJ3NvcnQtY2hhbmdlJywgc29ydFBhcmFtcyk7CiAgICB9OwoKICAgIHZhciBjaGFuZ2VDaGVjayA9IGZ1bmN0aW9uIGNoYW5nZUNoZWNrKCkgewogICAgICAvLyDop6blj5Egc29ydC1jaGFuZ2Ug5LqL5Lu2CiAgICAgIGVtaXQoJ3NvcnQtY2hhbmdlJywgc29ydFBhcmFtcyk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHNvcnRQYXJhbXM6IHNvcnRQYXJhbXMsCiAgICAgIGNoYW5nZVNvcnQ6IGNoYW5nZVNvcnQsCiAgICAgIGNoYW5nZUNoZWNrOiBjaGFuZ2VDaGVjawogICAgfTsKICB9Cn07"},{"version":3,"sources":["E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\category\\components\\sub-sort.vue"],"names":[],"mappings":"AAoBA,SAAS,QAAT,QAAyB,KAAzB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,KAFa,iBAEN,KAFM,QAEW;AAAA,QAAR,IAAQ,QAAR,IAAQ;AACtB;AACA;AACA,QAAM,UAAS,GAAI,QAAQ,CAAC;AAC1B,MAAA,SAAS,EAAE,KADe;AAE1B,MAAA,YAAY,EAAE,KAFY;AAG1B,MAAA,SAAS,EAAE,IAHe;AAGT;AACjB,MAAA,UAAU,EAAE,IAJc,CAIT;;AAJS,KAAD,CAA3B,CAHsB,CAStB;AACA;;AACA,QAAM,UAAS,GAAI,SAAb,UAAa,CAAC,SAAD,EAAe;AAChC,UAAI,SAAQ,KAAM,OAAlB,EAA2B;AACzB,QAAA,UAAU,CAAC,SAAX,GAAuB,SAAvB,CADyB,CAEzB;;AACA,YAAI,UAAU,CAAC,UAAX,KAA0B,IAA9B,EAAoC;AAClC,UAAA,UAAU,CAAC,UAAX,GAAwB,MAAxB;AACF,SAFA,MAEO;AACL,UAAA,UAAU,CAAC,UAAX,GAAwB,UAAU,CAAC,UAAX,KAA0B,MAA1B,GAAmC,KAAnC,GAA2C,MAAnE;AACF;AACF,OARA,MAQO;AACL;AACA,YAAI,UAAU,CAAC,SAAX,KAAyB,SAA7B,EAAwC;AACxC,QAAA,UAAU,CAAC,SAAX,GAAuB,SAAvB;AACA,QAAA,UAAU,CAAC,UAAX,GAAwB,IAAxB;AACF,OAdgC,CAehC;;;AACA,MAAA,IAAI,CAAC,aAAD,EAAgB,UAAhB,CAAJ;AACF,KAjBA;;AAkBA,QAAM,WAAU,GAAI,SAAd,WAAc,GAAM;AACxB;AACA,MAAA,IAAI,CAAC,aAAD,EAAgB,UAAhB,CAAJ;AACF,KAHA;;AAIA,WAAO;AAAE,MAAA,UAAU,EAAV,UAAF;AAAc,MAAA,UAAU,EAAV,UAAd;AAA0B,MAAA,WAAU,EAAV;AAA1B,KAAP;AACF;AApCa,CAAf","sourcesContent":["<template>\n  <div class='sub-sort'>\n    <div class=\"sort\">\n      <a :class=\"{active:sortParams.sortField===null}\" @click=\"changeSort(null)\" href=\"javascript:;\">默认排序</a>\n      <a :class=\"{active:sortParams.sortField==='publishTime'}\" @click=\"changeSort('publishTime')\" href=\"javascript:;\">最新商品</a>\n      <a :class=\"{active:sortParams.sortField==='orderNum'}\" @click=\"changeSort('orderNum')\" href=\"javascript:;\">最高人气</a>\n      <a :class=\"{active:sortParams.sortField==='evaluateNum'}\" @click=\"changeSort('evaluateNum')\" href=\"javascript:;\">评论最多</a>\n      <a @click=\"changeSort('price')\" href=\"javascript:;\">\n        价格排序\n        <i class=\"arrow up\" :class=\"{active:sortParams.sortField==='price'&&sortParams.sortMethod==='asc'}\" />\n        <i class=\"arrow down\" :class=\"{active:sortParams.sortField==='price'&&sortParams.sortMethod==='desc'}\" />\n      </a>\n    </div>\n    <div class=\"check\">\n      <XtxCheckbox @change=\"changeCheck\" v-model=\"sortParams.inventory\">仅显示有货商品</XtxCheckbox>\n      <XtxCheckbox @change=\"changeCheck\" v-model=\"sortParams.onlyDiscount\">仅显示特惠商品</XtxCheckbox>\n    </div>\n  </div>\n</template>\n<script>\nimport { reactive } from 'vue'\nexport default {\n  name: 'SubSort',\n  setup (props, { emit }) {\n    // 实现交互（实现交换的数据和后台保持一致）\n    // 1. 明确交互数据\n    const sortParams = reactive({\n      inventory: false,\n      onlyDiscount: false,\n      sortField: null, // publishTime,orderNum,price,evaluateNum\n      sortMethod: null // asc为正序，desc为倒序，默认为desc\n    })\n    // 2. 提供模板使用\n    // 3. 需要绑定按钮的点击事件修改排序字段和排序方式\n    const changeSort = (sortField) => {\n      if (sortField === 'price') {\n        sortParams.sortField = sortField\n        // 处理排序\n        if (sortParams.sortMethod === null) {\n          sortParams.sortMethod = 'desc'\n        } else {\n          sortParams.sortMethod = sortParams.sortMethod === 'desc' ? 'asc' : 'desc'\n        }\n      } else {\n        // 如果已经选项阻止运行\n        if (sortParams.sortField === sortField) return\n        sortParams.sortField = sortField\n        sortParams.sortMethod = null\n      }\n      // 触发 sort-change 事件\n      emit('sort-change', sortParams)\n    }\n    const changeCheck = () => {\n      // 触发 sort-change 事件\n      emit('sort-change', sortParams)\n    }\n    return { sortParams, changeSort, changeCheck }\n  }\n}\n</script>\n<style scoped lang='less'>\n.sub-sort {\n  height: 80px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  .sort {\n    display: flex;\n    a {\n      height: 30px;\n      line-height: 28px;\n      border: 1px solid #e4e4e4;\n      padding: 0 20px;\n      margin-right: 20px;\n      color: #999;\n      border-radius: 2px;\n      position: relative;\n      transition: all .3s;\n      &.active {\n        background: @xtxColor;\n        border-color: @xtxColor;\n        color: #fff;\n      }\n      .arrow {\n        position: absolute;\n        border: 5px solid transparent;\n        right: 8px;\n        &.up {\n          top: 3px;\n          border-bottom-color: #bbb;\n            &.active {\n            border-bottom-color: @xtxColor;\n          }\n        }\n        &.down {\n          top: 15px;\n          border-top-color: #bbb;\n          &.active {\n            border-top-color: @xtxColor;\n          }\n        }\n      }\n    }\n  }\n  .check {\n    .xtx-checkbox {\n      margin-left: 20px;\n      color: #999;\n    }\n  }\n}\n</style>\n"],"sourceRoot":""}]}