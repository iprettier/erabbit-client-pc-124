{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\home\\components\\home-category.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\home\\components\\home-category.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNvbXB1dGVkLCByZWFjdGl2ZSwgcmVmIH0gZnJvbSAndnVlJwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7IGZpbmRCcmFuZCB9IGZyb20gJ0AvYXBpL2hvbWUnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZUNhdGVnb3J5JywKICBzZXR1cCAoKSB7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCkKICAgIC8vIOacgOe7iOS9v+eUqOeahOaVsOaNriA9IDnkuKrliIbnsbsoKSArIDHkuKrlk4HniYwKICAgIGNvbnN0IGJyYW5kID0gcmVhY3RpdmUoewogICAgICBpZDogJ2JyYW5kJywKICAgICAgbmFtZTogJ+WTgeeJjCcsCiAgICAgIGNoaWxkcmVuOiBbeyBpZDogJ2JyYW5kLWNoaWxkcmVuJywgbmFtZTogJ+WTgeeJjOaOqOiNkCcgfV0sCiAgICAgIC8vIOWTgeeJjOWIl+ihqAogICAgICBicmFuZHM6IFtdCiAgICB9KQogICAgY29uc3QgbWVudUxpc3QgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIC8vIOW+l+WIsDnkuKrliIbnsbvliIfmr4/kuKrkuIDnuqfliIbnsbvkuIvnmoTlrZDliIbnsbvlj6rmnInkuKTkuKoKICAgICAgY29uc3QgbGlzdCA9IHN0b3JlLnN0YXRlLmNhdGVnb3J5Lmxpc3QubWFwKChpdGVtKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgY2hpbGRyZW46IGl0ZW0uY2hpbGRyZW4gJiYgaXRlbS5jaGlsZHJlbi5zbGljZSgwLCAyKSwKICAgICAgICAgIGdvb2RzOiBpdGVtLmdvb2RzCiAgICAgICAgfQogICAgICB9KQogICAgICBsaXN0LnB1c2goYnJhbmQpCiAgICAgIHJldHVybiBsaXN0CiAgICB9KQoKICAgIC8vIOW+l+WIsOW8ueWHuuWxgueahOaOqOiNkOWVhuWTgeaVsOaNrgogICAgY29uc3QgY2F0ZWdvcnlJZCA9IHJlZihudWxsKQogICAgY29uc3QgY3VyckNhdGVnb3J5ID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gbWVudUxpc3QudmFsdWUuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGNhdGVnb3J5SWQudmFsdWUpCiAgICB9KQoKICAgIC8vIOiOt+WPluWTgeeJjOaVsOaNru+8jOWwvemHj+S4jeeUqOS9v+eUqGFzeW5j5YaNc2V0dXDkuIoKICAgIGZpbmRCcmFuZCgpLnRoZW4oZGF0YSA9PiB7CiAgICAgIGJyYW5kLmJyYW5kcyA9IGRhdGEucmVzdWx0CiAgICB9KQoKICAgIHJldHVybiB7IG1lbnVMaXN0LCBjYXRlZ29yeUlkLCBjdXJyQ2F0ZWdvcnkgfQogIH0KfQo="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\home\\components\\home-category.vue"],"names":[],"mappings":"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","file":"F:/代码/Vue 代码/erabbit-client-pc-124/src/views/home/components/home-category.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"home-category\" @mouseleave=\"categoryId=null\">\n    <ul class=\"menu\">\n      <li :class=\"{active:categoryId&&categoryId===item.id}\" v-for=\"item in menuList\" :key=\"item.id\" @mouseenter=\"categoryId=item.id\">\n        <RouterLink :to=\"`/category/${item.id}`\">{{ item.name }}</RouterLink>\n        <template v-if=\"item.children\">\n          <RouterLink\n            v-for=\"sub in item.children\"\n            :key=\"sub.id\"\n            :to=\"`/category/sub/${sub.id}`\"\n            >{{ sub.name }}</RouterLink\n          >\n        </template>\n        <!-- 骨架 -->\n        <template v-else>\n          <XtxSkeleton height=\"18px\" width=\"60px\" bg=\"rgba(255,255,255,0.2)\" style=\"margin-right:5px\" />\n          <XtxSkeleton height=\"18px\" width=\"50px\" bg=\"rgba(255,255,255,0.2)\"/>\n        </template>\n      </li>\n    </ul>\n    <!-- 弹层 -->\n    <div class=\"layer\">\n      <h4>{{currCategory&&currCategory.id==='brand'?'品牌':'分类'}}推荐 <small>根据您的购买或浏览记录推荐</small></h4>\n      <!-- 商品 -->\n      <ul v-if=\"currCategory && currCategory.goods\">\n        <li v-for=\"item in currCategory.goods\" :key=\"item.id\">\n          <RouterLink to=\"/\">\n            <img :src=\"item.picture\" alt=\"\">\n            <div class=\"info\">\n              <p class=\"name ellipsis-2\">{{item.name}}</p>\n              <p class=\"desc ellipsis\">{{item.desc}}</p>\n              <p class=\"price\"><i>¥</i>{{item.price}}</p>\n            </div>\n          </RouterLink>\n        </li>\n      </ul>\n      <!-- 品牌 -->\n      <ul v-if=\"currCategory && currCategory.brands\">\n        <li class=\"brand\" v-for=\"brand in currCategory.brands\" :key=\"brand.id\">\n          <RouterLink to=\"/\">\n            <img :src=\"brand.picture\" alt=\"\">\n            <div class=\"info\">\n              <p class=\"place\"><i class=\"iconfont icon-dingwei\"></i>{{brand.place}}</p>\n              <p class=\"name ellipsis\">{{brand.name}}</p>\n              <p class=\"desc ellipsis-2\">{{brand.desc}}</p>\n            </div>\n          </RouterLink>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, reactive, ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { findBrand } from '@/api/home'\nexport default {\n  name: 'HomeCategory',\n  setup () {\n    const store = useStore()\n    // 最终使用的数据 = 9个分类() + 1个品牌\n    const brand = reactive({\n      id: 'brand',\n      name: '品牌',\n      children: [{ id: 'brand-children', name: '品牌推荐' }],\n      // 品牌列表\n      brands: []\n    })\n    const menuList = computed(() => {\n      // 得到9个分类切每个一级分类下的子分类只有两个\n      const list = store.state.category.list.map((item) => {\n        return {\n          id: item.id,\n          name: item.name,\n          children: item.children && item.children.slice(0, 2),\n          goods: item.goods\n        }\n      })\n      list.push(brand)\n      return list\n    })\n\n    // 得到弹出层的推荐商品数据\n    const categoryId = ref(null)\n    const currCategory = computed(() => {\n      return menuList.value.find(item => item.id === categoryId.value)\n    })\n\n    // 获取品牌数据，尽量不用使用async再setup上\n    findBrand().then(data => {\n      brand.brands = data.result\n    })\n\n    return { menuList, categoryId, currCategory }\n  }\n}\n</script>\n\n<style scoped lang='less'>\n.home-category {\n  width: 250px;\n  height: 500px;\n  background: rgba(0, 0, 0, 0.8);\n  position: relative;\n  z-index: 99;\n  .menu {\n    li {\n      padding-left: 40px;\n      height: 50px;\n      line-height: 50px;\n      &:hover,&.active {\n        background: @xtxColor;\n      }\n      a {\n        margin-right: 4px;\n        color: #fff;\n        &:first-child {\n          font-size: 16px;\n        }\n      }\n    }\n  }\n  // 弹出层样式\n    .layer {\n    width: 990px;\n    height: 500px;\n    background: rgba(255,255,255,0.8);\n    position: absolute;\n    left: 250px;\n    top: 0;\n    display: none;\n    padding: 0 15px;\n    h4 {\n      font-size: 20px;\n      font-weight: normal;\n      line-height: 80px;\n      small {\n        font-size: 16px;\n        color: #666;\n      }\n    }\n    ul {\n      display: flex;\n      flex-wrap: wrap;\n      li {\n        width: 310px;\n        height: 120px;\n        margin-right: 15px;\n        margin-bottom: 15px;\n        border: 1px solid #eee;\n        border-radius: 4px;\n        background: #fff;\n        &:nth-child(3n) {\n          margin-right: 0;\n        }\n        a {\n          display: flex;\n          width: 100%;\n          height: 100%;\n          align-items: center;\n          padding: 10px;\n          &:hover {\n            background: #e3f9f4;\n          }\n          img {\n              width: 95px;\n              height: 95px;\n          }\n          .info {\n            padding-left: 10px;\n            line-height: 24px;\n            width: 190px;\n            .name {\n              font-size: 16px;\n              color: #666;\n            }\n            .desc {\n              color: #999;\n            }\n            .price {\n              font-size: 22px;\n              color: @priceColor;\n              i {\n                font-size: 16px;\n              }\n            }\n          }\n        }\n      }\n      // 品牌的样式\n      li.brand {\n        height: 180px;\n        a {\n          align-items: flex-start;\n          img {\n            width: 120px;\n            height: 160px;\n          }\n          .info {\n            p {\n              margin-top: 8px;\n            }\n            .place {\n              color: #999;\n            }\n          }\n        }\n      }\n    }\n  }\n  &:hover {\n    .layer {\n      display: block;\n    }\n  }\n}\n// 骨架动画\n.xtx-skeleton {\n  animation: fade 1s linear infinite alternate;\n}\n@keyframes fade {\n  from {\n    opacity: 0.2;\n  }\n  to {\n    opacity: 1;\n  }\n}\n</style>\n"]}]}