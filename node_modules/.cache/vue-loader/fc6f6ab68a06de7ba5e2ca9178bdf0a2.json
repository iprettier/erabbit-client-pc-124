{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\order\\index.vue?vue&type=template&id=7dc8ef14&scoped=true","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\order\\index.vue","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1656924654079},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0ibWVtYmVyLW9yZGVyIj4KICAgIDwhLS0gdGFi57uE5Lu2IC0tPgogICAgPFh0eFRhYnMgdi1tb2RlbD0iYWN0aXZlTmFtZSIgQHRhYi1jbGljaz0idGFiQ2xpY2siPgogICAgICA8WHR4VGFic1BhbmVsCiAgICAgICAgdi1mb3I9Iml0ZW0gaW4gb3JkZXJTdGF0dXMiCiAgICAgICAgOmtleT0iaXRlbS5uYW1lIgogICAgICAgIDpsYWJlbD0iaXRlbS5sYWJlbCIKICAgICAgICA6bmFtZT0iaXRlbS5uYW1lIgogICAgICA+CiAgICAgIDwvWHR4VGFic1BhbmVsPgogICAgPC9YdHhUYWJzPgogICAgPCEtLSDorqLljZXliJfooaggLS0+CiAgICA8ZGl2IGNsYXNzPSJvcmRlci1saXN0Ij4KICAgICAgPGRpdiB2LWlmPSJsb2FkaW5nIiBjbGFzcz0ibG9hZGluZyI+PC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Im5vbmUiIHYtaWY9IiFsb2FkaW5nICYmIG9yZGVyTGlzdC5sZW5ndGggPT09IDAiPuaaguaXoOaVsOaNrjwvZGl2PgogICAgICA8T3JkZXJJdGVtCiAgICAgICAgQG9uLWNhbmNlbD0iaGFuZGxlckNhbmNlbCIKICAgICAgICBAb24tZGVsZXRlPSJoYW5kbGVyRGVsZXRlIgogICAgICAgIEBvbi1jb25maXJtPSJoYW5kbGVyQ29uZmlybSIKICAgICAgICBAb24tbG9naXN0aWNzPSJoYW5kbGVyTG9naXN0aWNzIgogICAgICAgIHYtZm9yPSJpdGVtIGluIG9yZGVyTGlzdCIKICAgICAgICA6a2V5PSJpdGVtLmlkIgogICAgICAgIDpvcmRlcj0iaXRlbSIKICAgICAgLz4KICAgIDwvZGl2PgogICAgPCEtLSDliIbpobXnu4Tku7YgLS0+CiAgICA8WHR4UGFnaW5hdGlvbgogICAgICB2LWlmPSJ0b3RhbD4wIgogICAgICA6Y3VycmVudC1wYWdlPSJyZXFQYXJhbXMucGFnZSIKICAgICAgOnBhZ2Utc2l6ZT0icmVxUGFyYW1zLnBhZ2VTaXplIgogICAgICA6dG90YWw9InRvdGFsIgogICAgICBAY3VycmVudC1jaGFuZ2U9InJlcVBhcmFtcy5wYWdlPSRldmVudCIKICAgIC8+CiAgICA8IS0tIOWPlua2iOWOn+WboOe7hOS7tiAtLT4KICAgIDxPcmRlckNhbmNlbCByZWY9Im9yZGVyQ2FuY2VsQ29tIiAvPgogICAgPCEtLSDmn6XnnIvnianmtYHnu4Tku7YgLS0+CiAgICA8T3JkZXJMb2dpc3RpY3MgcmVmPSJvcmRlckxvZ2lzdGljc0NvbSIgLz4KICA8L2Rpdj4K"},{"version":3,"sources":["E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\order\\index.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB;MACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACd,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IACD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACnC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EAC3C,CAAC,CAAC,CAAC,CAAC,CAAC","file":"E:/百度网盘下载/黑马vue/Vue3.0小兔鲜儿项目资料/代码/erabbit-client-pc-124/src/views/member/order/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"member-order\">\n    <!-- tab组件 -->\n    <XtxTabs v-model=\"activeName\" @tab-click=\"tabClick\">\n      <XtxTabsPanel\n        v-for=\"item in orderStatus\"\n        :key=\"item.name\"\n        :label=\"item.label\"\n        :name=\"item.name\"\n      >\n      </XtxTabsPanel>\n    </XtxTabs>\n    <!-- 订单列表 -->\n    <div class=\"order-list\">\n      <div v-if=\"loading\" class=\"loading\"></div>\n      <div class=\"none\" v-if=\"!loading && orderList.length === 0\">暂无数据</div>\n      <OrderItem\n        @on-cancel=\"handlerCancel\"\n        @on-delete=\"handlerDelete\"\n        @on-confirm=\"handlerConfirm\"\n        @on-logistics=\"handlerLogistics\"\n        v-for=\"item in orderList\"\n        :key=\"item.id\"\n        :order=\"item\"\n      />\n    </div>\n    <!-- 分页组件 -->\n    <XtxPagination\n      v-if=\"total>0\"\n      :current-page=\"reqParams.page\"\n      :page-size=\"reqParams.pageSize\"\n      :total=\"total\"\n      @current-change=\"reqParams.page=$event\"\n    />\n    <!-- 取消原因组件 -->\n    <OrderCancel ref=\"orderCancelCom\" />\n    <!-- 查看物流组件 -->\n    <OrderLogistics ref=\"orderLogisticsCom\" />\n  </div>\n</template>\n<script>\nimport { reactive, ref, watch } from 'vue'\nimport { orderStatus } from '@/api/constants'\nimport OrderItem from './components/order-item'\nimport OrderCancel from './components/order-cancel'\nimport OrderLogistics from './components/order-logistics'\nimport { confirmOrder, deleteOrder, findOrderList } from '@/api/order'\nimport Confirm from '@/components/library/Confirm'\nimport Message from '@/components/library/Message'\nexport default {\n  name: 'MemberOrder',\n  components: {\n    OrderItem,\n    OrderCancel,\n    OrderLogistics\n  },\n  setup () {\n    const activeName = ref('all')\n\n    // 筛选条件\n    const reqParams = reactive({\n      page: 1,\n      pageSize: 5,\n      orderState: 0\n    })\n    const orderList = ref([])\n    const loading = ref(false)\n    const total = ref(0)\n\n    const getOrderList = () => {\n      loading.value = true\n      findOrderList(reqParams).then(data => {\n        orderList.value = data.result.items\n        total.value = data.result.counts\n        loading.value = false\n      })\n    }\n    // 筛选条件变化重新加载\n    watch(reqParams, () => {\n      getOrderList()\n    }, { immediate: true })\n\n    // 点击选项卡\n    const tabClick = ({ index }) => {\n      reqParams.page = 1\n      reqParams.orderState = index\n    }\n\n    // 删除订单\n    const handlerDelete = (order) => {\n      Confirm({ text: '亲，您确认删除该订单吗？' }).then(() => {\n        deleteOrder(order.id).then(() => {\n          Message({ type: 'success', text: '删除成功' })\n          getOrderList()\n        })\n      }).catch(() => {})\n    }\n\n    return {\n      activeName,\n      orderStatus,\n      orderList,\n      tabClick,\n      loading,\n      total,\n      reqParams,\n      handlerDelete,\n      ...useCancel(),\n      ...useConfirm(),\n      ...useLogistics()\n    }\n  }\n}\n// 取消订单逻辑\nexport const useCancel = () => {\n  // 组件实例\n  const orderCancelCom = ref(null)\n  // 点击取消\n  const handlerCancel = (order) => {\n    orderCancelCom.value.open(order)\n  }\n  return { handlerCancel, orderCancelCom }\n}\n// 确认收货逻辑\nexport const useConfirm = () => {\n  const handlerConfirm = (order) => {\n    Confirm({ text: '亲，您确认收货吗？确认后货款将打给卖家。' }).then(() => {\n      confirmOrder(order.id).then(() => {\n        Message({ type: 'success', text: '确认收货成功' })\n        // 待收货--->待评价\n        order.orderState = 4\n      })\n    }).catch(() => {})\n  }\n  return { handlerConfirm }\n}\n// 查看物流逻辑\nexport const useLogistics = () => {\n  const orderLogisticsCom = ref(null)\n  const handlerLogistics = (order) => {\n    orderLogisticsCom.value.open(order)\n  }\n  return { handlerLogistics, orderLogisticsCom }\n}\n\n</script>\n<style scoped lang=\"less\">\n.member-order {\n  height: 100%;\n  background: #fff;\n}\n.order-list {\n  background: #fff;\n  padding: 20px;\n  position: relative;\n  min-height: 400px;\n}\n.loading {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  background: rgba(255,255,255,.9) url(../../../assets/images/loading.gif) no-repeat center;\n}\n.none {\n  height: 400px;\n  text-align: center;\n  line-height: 400px;\n  color: #999;\n}\n</style>\n"]}]}