{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\category\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\category\\index.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1656924649783},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\babel-loader\\lib\\index.js","mtime":1656924651984},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGNvbXB1dGVkLCByZWYsIHdhdGNoIH0gZnJvbSAndnVlJwppbXBvcnQgeyBmaW5kQmFubmVyIH0gZnJvbSAnQC9hcGkvaG9tZScKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInCmltcG9ydCBHb29kc0l0ZW0gZnJvbSAnLi9jb21wb25lbnRzL2dvb2RzLWl0ZW0nCmltcG9ydCB7IGZpbmRUb3BDYXRlZ29yeSB9IGZyb20gJ0AvYXBpL2NhdGVnb3J5JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RvcENhdGVnb3J5JywKICBjb21wb25lbnRzOiB7IEdvb2RzSXRlbSB9LAogIHNldHVwICgpIHsKICAgIC8vIOi9ruaSreWbvgogICAgY29uc3Qgc2xpZGVycyA9IHJlZihbXSkKICAgIGZpbmRCYW5uZXIoKS50aGVuKGRhdGEgPT4gewogICAgICBzbGlkZXJzLnZhbHVlID0gZGF0YS5yZXN1bHQKICAgIH0pCgogICAgLy8g6Z2i5YyF5bGRK+aJgOacieWtkOWIhuexuyA9PT09PiB2dWV4CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCkKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKQogICAgY29uc3QgdG9wQ2F0ZWdvcnkgPSBjb21wdXRlZCgoKSA9PiB7CiAgICAgIGxldCBjYXRlID0ge30KICAgICAgLy8g5b2T5YmN6aG257qn5YiG57G7ID09PSDmoLnmja7ot6/nlLHkuIrnmoRJROWOu3Z1ZXjkuK1jYXRlZ29yeeaooeWdl+eahGxpc3TkuK3mn6Xmib4KICAgICAgY29uc3QgaXRlbSA9IHN0b3JlLnN0YXRlLmNhdGVnb3J5Lmxpc3QuZmluZChpdGVtID0+IHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gcm91dGUucGFyYW1zLmlkCiAgICAgIH0pCiAgICAgIC8vIOaJvuWIsOaVsOaNrui1i+WAvAogICAgICBpZiAoaXRlbSkgY2F0ZSA9IGl0ZW0KICAgICAgcmV0dXJuIGNhdGUKICAgIH0pCgogICAgLy8g6I635Y+W5ZCE5Liq5a2Q57G755uu5LiL5o6o6I2Q5ZWG5ZOBCiAgICBjb25zdCBzdWJMaXN0ID0gcmVmKFtdKQogICAgY29uc3QgZ2V0U3ViTGlzdCA9ICgpID0+IHsKICAgICAgZmluZFRvcENhdGVnb3J5KHJvdXRlLnBhcmFtcy5pZCkudGhlbihkYXRhID0+IHsKICAgICAgICBzdWJMaXN0LnZhbHVlID0gZGF0YS5yZXN1bHQuY2hpbGRyZW4KICAgICAgfSkKICAgIH0KICAgIHdhdGNoKCgpID0+IHJvdXRlLnBhcmFtcy5pZCwgKG5ld1ZhbCkgPT4gewogICAgICAvLyBuZXdWYWwgJiYgZ2V0U3ViTGlzdCgpIOWKoOS4iuS4gOS4quS4peiwqOWIpOaWre+8jOWcqOmhtue6p+exu+WQjeS4i+aJjeWPkeivt+axggogICAgICBpZiAobmV3VmFsICYmIGAvY2F0ZWdvcnkvJHtuZXdWYWx9YCA9PT0gcm91dGUucGF0aCkgZ2V0U3ViTGlzdCgpCiAgICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSB9KQoKICAgIHJldHVybiB7CiAgICAgIHNsaWRlcnMsCiAgICAgIHRvcENhdGVnb3J5LAogICAgICBzdWJMaXN0CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\category\\index.vue"],"names":[],"mappings":"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","file":"F:/代码/Vue 代码/erabbit-client-pc-124/src/views/category/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"top-category\">\n    <div class=\"container\">\n      <!-- 面包屑 -->\n      <XtxBread>\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\n        <Transition name=\"fade-right\" mode=\"out-in\">\n          <XtxBreadItem :key=\"topCategory.id\">{{topCategory.name}}</XtxBreadItem>\n        </Transition>\n      </XtxBread>\n      <!-- 轮播图 -->\n      <XtxCarousel :sliders=\"sliders\" style=\"height:500px\" />\n      <!-- 所有二级分类 -->\n      <div class=\"sub-list\">\n        <h3>全部分类</h3>\n        <ul>\n          <li v-for=\"sub in topCategory.children\" :key=\"sub.id\">\n            <a href=\"javascript:;\">\n              <img :src=\"sub.picture\" >\n              <p>{{sub.name}}</p>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <!-- 各个分类推荐商品 -->\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\n        <div class=\"head\">\n          <h3>- {{sub.name}} -</h3>\n          <p class=\"tag\">温暖柔软，品质之选</p>\n          <XtxMore :path=\"`/category/sub/${sub.id}`\" />\n        </div>\n        <div class=\"body\">\n          <GoodsItem v-for=\"goods in sub.goods\" :key=\"goods.id\" :goods=\"goods\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { computed, ref, watch } from 'vue'\nimport { findBanner } from '@/api/home'\nimport { useStore } from 'vuex'\nimport { useRoute } from 'vue-router'\nimport GoodsItem from './components/goods-item'\nimport { findTopCategory } from '@/api/category'\nexport default {\n  name: 'TopCategory',\n  components: { GoodsItem },\n  setup () {\n    // 轮播图\n    const sliders = ref([])\n    findBanner().then(data => {\n      sliders.value = data.result\n    })\n\n    // 面包屑+所有子分类 ====> vuex\n    const store = useStore()\n    const route = useRoute()\n    const topCategory = computed(() => {\n      let cate = {}\n      // 当前顶级分类 === 根据路由上的ID去vuex中category模块的list中查找\n      const item = store.state.category.list.find(item => {\n        return item.id === route.params.id\n      })\n      // 找到数据赋值\n      if (item) cate = item\n      return cate\n    })\n\n    // 获取各个子类目下推荐商品\n    const subList = ref([])\n    const getSubList = () => {\n      findTopCategory(route.params.id).then(data => {\n        subList.value = data.result.children\n      })\n    }\n    watch(() => route.params.id, (newVal) => {\n      // newVal && getSubList() 加上一个严谨判断，在顶级类名下才发请求\n      if (newVal && `/category/${newVal}` === route.path) getSubList()\n    }, { immediate: true })\n\n    return {\n      sliders,\n      topCategory,\n      subList\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.top-category {\n  h3 {\n    font-size: 28px;\n    color: #666;\n    font-weight: normal;\n    text-align: center;\n    line-height: 100px;\n  }\n  .sub-list {\n    margin-top: 20px;\n    background-color: #fff;\n    ul {\n      display: flex;\n      padding: 0 32px;\n      flex-wrap: wrap;\n      min-height: 160px;\n      li {\n        width: 168px;\n        height: 160px;\n        a {\n          text-align: center;\n          display: block;\n          font-size: 16px;\n          img {\n            width: 100px;\n            height: 100px;\n          }\n          p {\n            line-height: 40px;\n          }\n          &:hover {\n            color: @xtxColor;\n          }\n        }\n      }\n    }\n  }\n  // 推荐商品\n  .ref-goods {\n    background-color: #fff;\n    margin-top: 20px;\n    position: relative;\n    .head {\n      .xtx-more {\n        position: absolute;\n        top: 20px;\n        right: 20px;\n      }\n      .tag {\n        text-align: center;\n        color: #999;\n        font-size: 20px;\n        position: relative;\n        top: -20px;\n      }\n    }\n    .body {\n      display: flex;\n      justify-content: flex-start;\n      flex-wrap: wrap;\n      padding: 0 65px 30px;\n    }\n  }\n}\n</style>\n"]}]}