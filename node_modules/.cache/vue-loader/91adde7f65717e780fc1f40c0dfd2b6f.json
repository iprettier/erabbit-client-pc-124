{"remainingRequest":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\cart\\components\\cart-sku.vue?vue&type=style&index=0&id=f7d5aa52&scoped=true&lang=less","dependencies":[{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\cart\\components\\cart-sku.vue","mtime":1621243079000},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\css-loader\\dist\\cjs.js","mtime":1656924650500},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1656924654019},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\postcss-loader\\src\\index.js","mtime":1656924651883},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\less-loader\\dist\\cjs.js","mtime":1656924651368},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\style-resources-loader\\lib\\index.js","mtime":1656924651644},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"F:\\代码\\Vue 代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jYXJ0LXNrdSB7CiAgaGVpZ2h0OiAyOHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNmNWY1ZjU7CiAgcGFkZGluZzogMCA2cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG1hcmdpbi10b3A6IDEwcHg7CiAgZGlzcGxheTppbmxpbmUtYmxvY2s7CiAgLmF0dHJzIHsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIHNwYW4gewogICAgICBtYXgtd2lkdGg6IDIzMHB4OwogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIGNvbG9yOiAjOTk5OwogICAgfQogICAgaSB7CiAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIH0KICB9CiAgLmxheWVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IC0xcHg7CiAgICB0b3A6IDQwcHg7CiAgICB6LWluZGV4OiAxMDsKICAgIHdpZHRoOiA0MDBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkIEB4dHhDb2xvcjsKICAgIGJveC1zaGFkb3c6IDJweCAycHggNHB4IGxpZ2h0ZW4oQHh0eENvbG9yLDUwJSk7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgZm9udC1zaXplOiAxNHB4OwogICAgcGFkZGluZzogMjBweDsKICAgICY6OmJlZm9yZSB7CiAgICAgIGNvbnRlbnQ6ICIiOwogICAgICB3aWR0aDogMTJweDsKICAgICAgaGVpZ2h0OiAxMnB4OwogICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkIEB4dHhDb2xvcjsKICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIEB4dHhDb2xvcjsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBsZWZ0OiAxMnB4OwogICAgICB0b3A6IC04cHg7CiAgICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAgIHRyYW5zZm9ybTogc2NhbGUoLjgsMSkgcm90YXRlKDQ1ZGVnKTsKICAgIH0KICAgIC5sb2FkaW5nIHsKICAgICAgaGVpZ2h0OiAyMjRweDsKICAgICAgYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL2Fzc2V0cy9pbWFnZXMvbG9hZGluZy5naWYpIG5vLXJlcGVhdCBjZW50ZXI7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["F:\\代码\\Vue 代码\\erabbit-client-pc-124\\src\\views\\cart\\components\\cart-sku.vue"],"names":[],"mappings":"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","file":"F:/代码/Vue 代码/erabbit-client-pc-124/src/views/cart/components/cart-sku.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"cart-sku\" ref=\"target\">\n    <div class=\"attrs\" @click=\"toggle()\">\n      <span class=\"ellipsis\">{{attrsText}}</span>\n      <i class=\"iconfont icon-angle-down\"></i>\n    </div>\n    <div class=\"layer\" v-if=\"visible\">\n      <div v-if=\"loading\" class=\"loading\"></div>\n      <GoodsSku @change=\"changeSku\" :skuId=\"skuId\" v-else :goods=\"goods\" />\n      <XtxButton @click=\"submit\" v-if=\"!loading\" type=\"primary\" size=\"mini\" style=\"margin-left:60px\">确认</XtxButton>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref } from 'vue'\nimport { onClickOutside } from '@vueuse/core'\nimport { getGoodsSku } from '@/api/cart'\nimport GoodsSku from '@/views/goods/components/goods-sku'\nexport default {\n  name: 'CartSku',\n  components: { GoodsSku },\n  props: {\n    attrsText: {\n      type: String,\n      default: ''\n    },\n    skuId: {\n      type: String,\n      default: ''\n    }\n  },\n  setup (props, { emit }) {\n    const visible = ref(false)\n    const goods = ref(null)\n    const loading = ref(false)\n    // 打开\n    const open = () => {\n      visible.value = true\n      // 获取商品数据（specs,skus）\n      loading.value = true\n      getGoodsSku(props.skuId).then(data => {\n        goods.value = data.result\n        loading.value = false\n      })\n    }\n    // 关闭\n    const close = () => {\n      visible.value = false\n    }\n    // 切换\n    const toggle = () => {\n      visible.value ? close() : open()\n    }\n    // 点击其他地方关闭\n    const target = ref(null)\n    onClickOutside(target, () => {\n      close()\n    })\n\n    // 监听sku改变的函数，记录sku信息\n    const currSku = ref(null)\n    const changeSku = (sku) => {\n      currSku.value = sku\n    }\n\n    // 点击确认的时候，更改后的sku信息提交给父组件（购物车组件）\n    const submit = () => {\n      // 当你currSku有值，且skuId和默认的skuId不同\n      if (currSku.value && currSku.value.skuId && currSku.value.skuId !== props.skuId) {\n        emit('change', currSku.value)\n        close()\n      }\n    }\n\n    return { visible, toggle, target, goods, loading, changeSku, submit }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.cart-sku {\n  height: 28px;\n  border: 1px solid #f5f5f5;\n  padding: 0 6px;\n  position: relative;\n  margin-top: 10px;\n  display:inline-block;\n  .attrs {\n    line-height: 24px;\n    display: flex;\n    span {\n      max-width: 230px;\n      font-size: 14px;\n      color: #999;\n    }\n    i {\n      margin-left: 5px;\n      font-size: 14px;\n    }\n  }\n  .layer {\n    position: absolute;\n    left: -1px;\n    top: 40px;\n    z-index: 10;\n    width: 400px;\n    border: 1px solid @xtxColor;\n    box-shadow: 2px 2px 4px lighten(@xtxColor,50%);\n    background: #fff;\n    border-radius: 4px;\n    font-size: 14px;\n    padding: 20px;\n    &::before {\n      content: \"\";\n      width: 12px;\n      height: 12px;\n      border-left: 1px solid @xtxColor;\n      border-top: 1px solid @xtxColor;\n      position: absolute;\n      left: 12px;\n      top: -8px;\n      background: #fff;\n      transform: scale(.8,1) rotate(45deg);\n    }\n    .loading {\n      height: 224px;\n      background: url(../../../assets/images/loading.gif) no-repeat center;\n    }\n  }\n}\n</style>\n"]}]}