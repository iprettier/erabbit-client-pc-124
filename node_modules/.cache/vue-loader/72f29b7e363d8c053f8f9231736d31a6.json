{"remainingRequest":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\pay\\components\\checkout-address.vue?vue&type=style&index=0&id=fd398cf8&scoped=true&lang=less","dependencies":[{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\pay\\components\\checkout-address.vue","mtime":1621243079000},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\css-loader\\dist\\cjs.js","mtime":1656924650500},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1656924654019},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\postcss-loader\\src\\index.js","mtime":1656924651883},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\less-loader\\dist\\cjs.js","mtime":1656924651368},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\style-resources-loader\\lib\\index.js","mtime":1656924651644},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656924649801},{"path":"E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656924653036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci54dHgtZGlhbG9nIHsKICAudGV4dCB7CiAgICBmbGV4OiAxOwogICAgbWluLWhlaWdodDogOTBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgJi5pdGVtIHsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2Y1ZjVmNTsKICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAmLmFjdGl2ZSwmOmhvdmVyIHsKICAgICAgICBib3JkZXItY29sb3I6IEB4dHhDb2xvcjsKICAgICAgICBiYWNrZ3JvdW5kOiBsaWdodGVuKEB4dHhDb2xvciw1MCUpOwogICAgICB9CiAgICAgID4gdWwgewogICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICB9CiAgICB9CiAgfQp9Ci5jaGVja291dC1hZGRyZXNzIHsKICBib3JkZXI6IDFweCBzb2xpZCAjZjVmNWY1OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAudGV4dCB7CiAgICBmbGV4OiAxOwogICAgbWluLWhlaWdodDogOTBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgLm5vbmUgewogICAgICBsaW5lLWhlaWdodDogOTBweDsKICAgICAgY29sb3I6ICM5OTk7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgd2lkdGg6IDEwMCU7CiAgICB9CiAgICA+IHVsIHsKICAgICAgZmxleDogMTsKICAgICAgcGFkZGluZzogMjBweDsKICAgICAgbGkgewogICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgIHNwYW4gewogICAgICAgICAgY29sb3I6ICM5OTk7CiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgICAgICAgID4gaSB7CiAgICAgICAgICAgIHdpZHRoOiAwLjVlbTsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgPiBhIHsKICAgICAgY29sb3I6IEB4dHhDb2xvcjsKICAgICAgd2lkdGg6IDE2MHB4OwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGhlaWdodDogOTBweDsKICAgICAgbGluZS1oZWlnaHQ6IDkwcHg7CiAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNmNWY1ZjU7CiAgICB9CiAgfQogIC5hY3Rpb24gewogICAgd2lkdGg6IDQyMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgLmJ0biB7CiAgICAgIHdpZHRoOiAxNDBweDsKICAgICAgaGVpZ2h0OiA0NnB4OwogICAgICBsaW5lLWhlaWdodDogNDRweDsKICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAmOmZpcnN0LWNoaWxkIHsKICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["E:\\百度网盘下载\\黑马vue\\Vue3.0小兔鲜儿项目资料\\代码\\erabbit-client-pc-124\\src\\views\\member\\pay\\components\\checkout-address.vue"],"names":[],"mappings":"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","file":"E:/百度网盘下载/黑马vue/Vue3.0小兔鲜儿项目资料/代码/erabbit-client-pc-124/src/views/member/pay/components/checkout-address.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"checkout-address\">\n    <div class=\"text\">\n      <div v-if=\"!showAddress\" class=\"none\">您需要先添加收货地址才可提交订单。</div>\n      <ul v-if=\"showAddress\">\n        <li><span>收<i/>货<i/>人：</span>{{showAddress.receiver}}</li>\n        <li><span>联系方式：</span>{{showAddress.contact.replace(/^(\\d{3})\\d{4}(\\d{4})$/,'$1****$2')}}</li>\n        <li><span>收货地址：</span>{{showAddress.fullLocation.replace(/ /g,'')}}{{showAddress.address}}</li>\n      </ul>\n      <a @click=\"openAddressEdit(showAddress)\" v-if=\"showAddress\" href=\"javascript:;\">修改地址</a>\n    </div>\n    <div class=\"action\">\n      <XtxButton @click=\"openDialog()\" class=\"btn\">切换地址</XtxButton>\n      <XtxButton @click=\"openAddressEdit({})\" class=\"btn\">添加地址</XtxButton>\n    </div>\n  </div>\n  <!-- 对话框组件-切换收货地址 -->\n  <XtxDialog title=\"切换收货地址\" v-model:visible=\"visibleDialog\">\n    <div @click=\"selectedAddress=item\" :class=\"{active:selectedAddress&&selectedAddress.id===item.id}\" class=\"text item\" v-for=\"item in list\" :key=\"item.id\">\n      <ul>\n        <li><span>收<i/>货<i/>人：</span>{{item.receiver}}</li>\n        <li><span>联系方式：</span>{{item.contact.replace(/^(\\d{3})\\d{4}(\\d{4})$/,'$1****$2')}}</li>\n        <li><span>收货地址：</span>{{item.fullLocation.replace(/ /g,'')+item.address}}</li>\n      </ul>\n    </div>\n    <template #footer>\n      <XtxButton @click=\"visibleDialog=false\" type=\"gray\" style=\"margin-right:20px\">取消</XtxButton>\n      <XtxButton @click=\"confirmAddressFn\" type=\"primary\">确认</XtxButton>\n    </template>\n  </XtxDialog>\n  <!-- 收货地址添加编辑组件 -->\n  <AddressEdit @on-success=\"successHandler\" ref=\"addressEditCom\" />\n</template>\n<script>\nimport { ref } from 'vue'\nimport AddressEdit from './address-edit'\nexport default {\n  name: 'CheckoutAddress',\n  components: { AddressEdit },\n  props: {\n    // 收货地址列表\n    list: {\n      type: Array,\n      default: () => []\n    }\n  },\n  // 1. 在拥有根元素的组件中，触发自定义事件，有没有emits选项无所谓\n  // 2. 如果你的组件渲染的代码片段，vue3.0规范，需要在emits中申明你所触发的自定义事件\n  // 3. 提倡：你发了自定义事件，需要在emits选项申明下，代码可读性很高\n  emits: ['change'],\n  setup (props, { emit }) {\n    // 1. 找到默认收货地址\n    // 2. 没有默认收货地址，使用第一条收货地址\n    // 3. 如果没有数据，提示添加\n    const showAddress = ref(null)\n    const defaultAddress = props.list.find(item => item.isDefault === 0)\n    if (defaultAddress) {\n      showAddress.value = defaultAddress\n    } else {\n      if (props.list.length) {\n        // 加上一个注释：忽略下面代码的检查eslint\n        // eslint-disable-next-line vue/no-setup-props-destructure\n        showAddress.value = props.list[0]\n      }\n    }\n\n    // 默认通知父组件一个收货地址ID\n    emit('change', showAddress.value && showAddress.value.id)\n\n    // 切换地址对话框显示隐藏\n    const visibleDialog = ref(false)\n    // 记录当前你选中的地址ID\n    const selectedAddress = ref(null)\n    const confirmAddressFn = () => {\n      // 显示的地址换成呢选中的地址\n      showAddress.value = selectedAddress.value\n      // 把选中的地址ID通知结算组件\n      emit('change', selectedAddress.value?.id)\n      visibleDialog.value = false\n    }\n    const openDialog = () => {\n      // 将之前的选中地址改成null\n      selectedAddress.value = null\n      visibleDialog.value = true\n    }\n\n    // 打开添加编辑收货地址组件\n    const addressEditCom = ref(null)\n    const openAddressEdit = (address) => {\n      // 添加 {}  修改 {数据}\n      addressEditCom.value.open(address)\n    }\n    const successHandler = (formData) => {\n      // 根据formData中的ID去当前地址列表中查找，有就是修改，否则是添加\n      const address = props.list.find(item => item.id === formData.id)\n      if (address) {\n        for (const key in address) {\n          address[key] = formData[key]\n        }\n      } else {\n        // 如果是添加：往list中追加一条\n        // 当你在修改formData的时候，数组中的数据也会更新，因为是同一引用地址。\n        // 啥时候修改formData，当你打开对话框需要清空之前的输入信息\n        // 克隆formData数据\n        const jsonStr = JSON.stringify(formData)\n        // eslint-disable-next-line vue/no-mutating-props\n        props.list.unshift(JSON.parse(jsonStr))\n      }\n    }\n\n    return {\n      showAddress,\n      visibleDialog,\n      selectedAddress,\n      confirmAddressFn,\n      openDialog,\n      openAddressEdit,\n      addressEditCom,\n      successHandler\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.xtx-dialog {\n  .text {\n    flex: 1;\n    min-height: 90px;\n    display: flex;\n    align-items: center;\n    &.item {\n      border: 1px solid #f5f5f5;\n      margin-bottom: 10px;\n      cursor: pointer;\n      &.active,&:hover {\n        border-color: @xtxColor;\n        background: lighten(@xtxColor,50%);\n      }\n      > ul {\n        padding: 10px;\n        font-size: 14px;\n        line-height: 30px;\n      }\n    }\n  }\n}\n.checkout-address {\n  border: 1px solid #f5f5f5;\n  display: flex;\n  align-items: center;\n  .text {\n    flex: 1;\n    min-height: 90px;\n    display: flex;\n    align-items: center;\n    .none {\n      line-height: 90px;\n      color: #999;\n      text-align: center;\n      width: 100%;\n    }\n    > ul {\n      flex: 1;\n      padding: 20px;\n      li {\n        line-height: 30px;\n        span {\n          color: #999;\n          margin-right: 5px;\n          > i {\n            width: 0.5em;\n            display: inline-block;\n          }\n        }\n      }\n    }\n    > a {\n      color: @xtxColor;\n      width: 160px;\n      text-align: center;\n      height: 90px;\n      line-height: 90px;\n      border-right: 1px solid #f5f5f5;\n    }\n  }\n  .action {\n    width: 420px;\n    text-align: center;\n    .btn {\n      width: 140px;\n      height: 46px;\n      line-height: 44px;\n      font-size: 14px;\n      &:first-child {\n        margin-right: 10px;\n      }\n    }\n  }\n}\n</style>\n"]}]}